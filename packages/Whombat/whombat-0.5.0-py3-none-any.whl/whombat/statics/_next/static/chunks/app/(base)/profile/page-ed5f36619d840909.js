(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7710],{59022:function(e,t,r){Promise.resolve().then(r.bind(r,35430))},19985:function(e,t,r){"use strict";let s=(0,r(2265).createContext)({id:"",username:"",email:""});t.Z=s},35430:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(57437),n=r(2265),o=r(71672),i=r(92814),a=r(9101),d=r(19985),l=r(57605),u=r(93847),c=r(14088),h=r(55429),m=r(31014),x=r(59772),b=r(41321),f=r(39343);let g=x.ZP.object({password:x.ZP.string(),password2:x.ZP.string()}).refine(e=>e.password===e.password2,{message:"Passwords do not match",path:["password2"]});function v(e){var t,r;let{register:n,handleSubmit:o,formState:{errors:i}}=(0,f.cI)({mode:"onChange",resolver:(0,m.F)(g)}),{update:{mutate:a}}=(0,b.Z)({user:e.user});return(0,s.jsxs)("form",{onSubmit:o(e=>{a({password:e.password})}),children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(u.BZ,{label:"Password",name:"password",error:null===(t=i.password)||void 0===t?void 0:t.message,children:(0,s.jsx)(u.II,{type:"password",...n("password")})})}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(u.BZ,{label:"Confirm Password",name:"password2",error:null===(r=i.password2)||void 0===r?void 0:r.message,children:(0,s.jsx)(u.II,{type:"password",...n("password2")})})}),(0,s.jsx)("div",{children:(0,s.jsx)(u.II,{type:"submit",value:"Change"})})]})}function p(e){let{user:t}=e,{update:{mutate:r}}=(0,b.Z)();return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"px-4 sm:px-0 inline-flex items-end",children:[(0,s.jsx)(c.tB,{className:"w-12 h-12 text-stone-500"}),(0,s.jsx)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-200",children:"Your Profile"})]}),(0,s.jsx)("p",{className:"text-stone-500",children:"Manage your public profile information here. Please note that this information is visible to other users. Your username is used for authentication, so ensure it's memorable."}),(0,s.jsxs)("div",{className:"mt-6 border-t border-stone-300 dark:border-stone-700",children:[(0,s.jsxs)("dl",{className:"divide-y divide-stone-500",children:[(0,s.jsxs)("div",{className:"py-6 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,s.jsx)(h.iV,{children:"Username"}),(0,s.jsx)(h.ue,{value:t.username,onChange:e=>r({username:e}),Input:u.II,autoFocus:!0,children:t.username})]}),(0,s.jsxs)("div",{className:"py-6 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,s.jsx)(h.iV,{children:"Name"}),(0,s.jsx)(h.ue,{value:t.name,onChange:e=>r({name:e}),Input:u.II,autoFocus:!0,children:t.name})]}),(0,s.jsxs)("div",{className:"py-6 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,s.jsx)(h.iV,{children:"Email"}),(0,s.jsx)(h.ue,{value:t.email,onChange:e=>r({email:e}),Input:u.II,autoFocus:!0,children:t.email})]})]}),(0,s.jsx)(l.Z,{mode:"text",title:"Change Password",label:"Change password",children:()=>(0,s.jsx)(v,{user:t})})]})]})}function k(){let e=(0,n.useContext)(d.Z);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{text:"Profile"}),(0,s.jsx)(a.Z,{children:(0,s.jsx)(o.Z,{className:"max-w-prose",children:(0,s.jsx)(p,{user:e})})})]})}},12098:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var s=r(57437),n=r(56800),o=r.n(n),i=r(2265);let a={filled:{primary:"border-emerald-500 bg-emerald-300 hover:bg-emerald-500 dark:bg-emerald-600 dark:hover:bg-emerald-700 dark:ring-offset-opacity-50 disabled:bg-emerald-300 dark:disabled:bg-emerald-700",secondary:"border-stone-300 dark:border-stone-600 bg-stone-100 hover:bg-stone-200 dark:bg-stone-700 dark:hover:bg-stone-800 disabled:bg-stone-300 dark:disabled:bg-stone-700 dark:text-stone-400",danger:"border-rose-500 bg-rose-700 hover:bg-rose-800 dark:bg-rose-600 dark:hover:bg-rose-700 disabled:bg-rose-300 dark:disabled:bg-rose-700",success:"border-green-500 bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700 disabled:bg-green-300 dark:disabled:bg-green-700",warning:"border-yellow-500 bg-yellow-700 hover:bg-yellow-800 dark:bg-yellow-600 dark:hover:bg-yellow-700 disabled:bg-yellow-300 dark:disabled:bg-yellow-700",info:"border-blue-500 bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 disabled:bg-blue-300 dark:disabled:bg-blue-700",common:"border text-stone-900 dark:text-stone-100 disabled:text-stone-500 dark:disabled:text-stone-300"},outline:{primary:"border-emerald-500 hover:bg-emerald-300 dark:hover:bg-emerald-700",secondary:"border-stone-500 hover:bg-stone-300 dark:hover:bg-stone-700",danger:"border-rose-500 hover:bg-rose-300 dark:hover:bg-rose-700",success:"border-green-500 hover:bg-green-300 dark:hover:bg-green-700",warning:"border-yellow-500 hover:bg-yellow-300 dark:hover:bg-yellow-700",info:"border-blue-500 hover:bg-blue-300 dark:hover:bg-blue-700",common:"border bg-transparent text-stone-900 dark:text-stone-100"},text:{primary:"text-emerald-500 stroke-emerald-500 hover:stroke-emerald-300 dark:hover:stroke-emerald-800",secondary:"text-stone-500 stroke-stone-500 hover:stroke-stone-800 dark:hover:stroke-stone-300 disabled:stroke-stone-500 dark:disabled:stroke-stone-500",danger:"text-rose-500 stroke-rose-500 hover:stroke-rose-300 dark:hover:stroke-rose-800",success:"text-green-500 stroke-green-500 hover:stroke-green-300 dark:hover:stroke-green-800",warning:"text-yellow-500 stroke-yellow-500 hover:stroke-yellow-300 dark:hover:stroke-yellow-800",info:"text-blue-500 stroke-blue-500 hover:stroke-blue-300 dark:hover:stroke-blue-800",common:"bg-transparent hover:underline hover:decoration-solid hover:decoration-2 hover:underline-offset-2 hover:font-extrabold disabled:no-underline disabled:font-medium stroke-2 hover:stroke-4 disabled:stroke-1"}};function d(e){let{variant:t="primary",mode:r="filled",padding:s="p-2.5"}=e;return o()(a[r][t],a[r].common,"focus:ring-4 focus:ring-emerald-500/50 focus:outline-none",s,"group flex flex-row items-center rounded-lg text-center text-sm font-medium")}let l=(0,i.forwardRef)(function(e,t){let{children:r,variant:n="primary",mode:i="filled",padding:a="p-2.5",className:l,...u}=e,c=d({variant:n,mode:i,padding:a});return(0,s.jsx)("button",{className:o()(c,l),...u,ref:t,children:r})});t.Z=l},71672:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(57437),n=r(56800),o=r.n(n);function i(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("div",{className:o()("border flex flex-col gap-3 p-4 rounded-md border-stone-200 dark:border-stone-800 text-stone-700 dark:text-stone-300",r),...n,children:t})}},55429:function(e,t,r){"use strict";r.d(t,{iV:function(){return l},pj:function(){return d},ue:function(){return u}});var s=r(57437),n=r(56800),o=r.n(n),i=r(2265),a=r(14088);function d(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("dd",{className:o()("mt-1 text-sm leading-6 text-stone-700 dark:text-stone-400 sm:col-span-2 sm:mt-0",r),...n,children:t})}function l(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("dt",{className:o()("text-sm font-medium leading-6 text-stone-900 dark:text-stone-300",r),...n,children:t})}function u(e){let{children:t,Input:r,value:n,onChange:o,...l}=e,[u,c]=(0,i.useState)(!1),[h,m]=(0,i.useState)(n);return u?(0,s.jsx)(d,{children:(0,s.jsx)(r,{value:h,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(o(h),c(!1)),"Escape"===e.key&&(m(n),c(!1))},onBlur:()=>{m(n),c(!1)},onChange:e=>m(e.target.value),...l})}):(0,s.jsxs)(d,{className:"flex flex-row justify-between",children:[t,(0,s.jsx)("button",{onClick:()=>c(!0),className:"text-sm text-stone-500 underline ml-2",children:(0,s.jsx)(a.dY,{className:"w-5 h-5 inline-block text-blue-500"})})]})}},57605:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},t:function(){return u}});var s=r(57437),n=r(59226),o=r(24880),i=r(2265),a=r(12098),d=r(14088);function l(e){let{title:t,children:r,label:n,open:o=!1,width:d="max-w-md",...l}=e,[c,h]=(0,i.useState)(o);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{type:"button",onClick:()=>h(!0),...l,children:n}),(0,s.jsx)(u,{title:(0,s.jsx)("div",{children:t}),isOpen:c,onClose:()=>h(!1),children:e=>{let{close:t}=e;return(0,s.jsx)("div",{className:d,children:r({close:t})})}})]})}function u(e){let{title:t,children:r,onClose:l,isOpen:u=!0}=e;return(0,s.jsx)(n.u,{appear:!0,show:u,as:i.Fragment,children:(0,s.jsxs)(o.V,{as:"div",className:"relative z-50",onClose:()=>null==l?void 0:l(),children:[(0,s.jsx)(n.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,s.jsx)("div",{className:"overflow-y-auto fixed inset-0",children:(0,s.jsx)("div",{className:"flex justify-center items-center p-4 min-h-full text-center",children:(0,s.jsx)(n.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(o.V.Panel,{className:"overflow-hidden p-6 w-full text-left align-middle rounded-2xl shadow-xl transition-all transform max-w-fit bg-stone-50 text-stone-700 z-[99999] dark:bg-stone-700 dark:text-stone-300",children:[(0,s.jsxs)(o.V.Title,{as:"div",className:"mb-4 flex flex-row justify-between items-center gap-4",children:[null!=t&&(0,s.jsx)("h3",{className:"text-lg font-medium leading-6 text-stone-900 dark:text-stone-100",children:t}),(0,s.jsx)(a.Z,{onClick:()=>null==l?void 0:l(),variant:"secondary",mode:"text",children:(0,s.jsx)(d.Tw,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"mt-2",children:r({close:()=>null==l?void 0:l()})})]})})})})]})})}},56341:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(57437);function n(e){let{children:t}=e;return(0,s.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,s.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},68e3:function(e,t,r){"use strict";r.d(t,{H1:function(){return i},H2:function(){return a},H3:function(){return d},H4:function(){return l}});var s=r(57437),n=r(56800),o=r.n(n);function i(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("h1",{className:o()("text-2xl font-bold text-stone-800 dark:text-stone-300",r),...n,children:t})}function a(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("h2",{className:o()("text-xl font-bold text-stone-800 dark:text-stone-300",r),...n,children:t})}function d(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("h3",{className:o()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",r),...n,children:t})}function l(e){let{children:t,className:r,...n}=e;return(0,s.jsx)("h4",{className:o()(r,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...n,children:t})}},92814:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(57437),n=r(56341),o=r(68e3);function i(e){let{text:t}=e;return(0,s.jsx)(n.Z,{children:(0,s.jsx)(o.H1,{children:t})})}},9101:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(57437);function n(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex flex-col justify-center items-center px-16 py-8 w-full",children:t})}},41321:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(93191),n=r(40932),o=r(25524),i=r(37051);function a(){let{user:e,onUpdate:t,onLogout:r,enabled:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,s.NL)(),l=(0,n.a)({queryKey:["me"],queryFn:i.Z.user.me,initialData:e,staleTime:3e4,retry:!1,enabled:a,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0,refetchIntervalInBackground:!1}),u=(0,o.D)({mutationFn:i.Z.user.update,onSuccess:e=>{l.refetch(),null==t||t(e)}}),c=(0,o.D)({mutationFn:i.Z.auth.logout,onSuccess:()=>{d.removeQueries({queryKey:["me"]}),null==r||r()}});return{...l,update:u,logout:c}}},22270:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var s=r(2265),n=r(6584);function o(e,t){let r=(0,s.useRef)([]),o=(0,n.z)(e);(0,s.useEffect)(()=>{let e=[...r.current];for(let[s,n]of t.entries())if(r.current[s]!==n){let s=o(t,e);return r.current=t,s}},[o,...t])}},47359:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});let s=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&s[0]!==e.target&&(s.unshift(e.target),(s=s.filter(e=>null!=e&&e.isConnected)).splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})},25524:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var s=r(2265),n=r(92812),o=r(69948),i=r(49010),a=r(56298),d=class extends i.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(t.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#o()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){let e=this.#r?.state??(0,n.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){o.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},l=r(93191),u=r(37832);function c(e,t){let r=(0,l.NL)(t),[n]=s.useState(()=>new d(r,e));s.useEffect(()=>{n.setOptions(e)},[n,e]);let i=s.useSyncExternalStore(s.useCallback(e=>n.subscribe(o.V.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=s.useCallback((e,t)=>{n.mutate(e,t).catch(u.Z)},[n]);if(i.error&&(0,u.L)(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}}},function(e){e.O(0,[8173,8083,5790,3277,932,9226,4898,3215,4880,7051,3847,2971,7023,1744],function(){return e(e.s=59022)}),_N_E=e.O()}]);