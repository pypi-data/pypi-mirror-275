(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7415],{19401:function(e,t,n){Promise.resolve().then(n.bind(n,81687))},16463:function(e,t,n){"use strict";var r=n(71169);n.o(r,"notFound")&&n.d(t,{notFound:function(){return r.notFound}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}}),n.o(r,"useSelectedLayoutSegment")&&n.d(t,{useSelectedLayoutSegment:function(){return r.useSelectedLayoutSegment}})},60410:function(e,t,n){"use strict";let r=(0,n(2265).createContext)({name:"",description:"",tags:[],created_on:new Date,uuid:""});t.Z=r},81687:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(57437),a=n(16463),o=n(2265),s=n(68e3),l=n(14088),i=n(8990),c=n(50180),u=n(48423),d=n(32746);function f(e){var t,n,a,o;let{annotationProject:f,onAddTag:m,onRemoveTag:h}=e,x=(0,d.Z)({uuid:f.uuid,annotationProject:f,onAddTag:m,onRemoveTag:h});return(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,r.jsxs)(s.H2,{children:[(0,r.jsx)(l.Dg,{className:"inline-block mr-2 w-8 h-8 align-middle"}),"Project Tags"]}),(0,r.jsxs)("p",{className:"text-stone-500",children:[(0,r.jsx)("span",{className:"font-bold text-emerald-500",children:"Tags"})," provide meaning to annotations. View available tags for this project or add more as needed."]}),(0,r.jsx)(i.Z,{className:"mt-4",children:"You can always come back and add more tags in the future."}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-14",children:[(0,r.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,r.jsx)(s.H3,{children:"Add Tags"}),(0,r.jsx)("small",{className:"text-stone-500",children:"Use the search bar below to find tags for the project. Select a tag to add."}),(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)(u.Z,{autoFocus:!1,onSelect:x.addTag.mutate,onCreate:x.addTag.mutate})}),(0,r.jsx)("small",{className:"text-stone-500",children:"Create new tags if needed, but avoid duplicating meanings."})]}),(0,r.jsxs)("div",{className:"flex flex-col col-span-2 gap-2 md:col-span-1",children:[(0,r.jsx)(s.H3,{children:"Selected tags"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-bold text-blue-500",children:(null!==(a=null===(t=x.data)||void 0===t?void 0:t.tags)&&void 0!==a?a:[]).length.toLocaleString()})," ","tags selected. These are available for annotators."]}),(0,r.jsx)("small",{className:"text-stone-500",children:"Use the search bar to find registered tags. Click a tag to remove it."}),(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{tags:null!==(o=null===(n=x.data)||void 0===n?void 0:n.tags)&&void 0!==o?o:[],onClick:x.removeTag.mutate})})]})]})]})}var m=n(9101),h=n(60410);function x(){let e=(0,o.useContext)(h.Z);return null==e?(0,a.notFound)():(0,r.jsx)(m.Z,{children:(0,r.jsx)(f,{annotationProject:e})})}},68e3:function(e,t,n){"use strict";n.d(t,{H1:function(){return s},H2:function(){return l},H3:function(){return i},H4:function(){return c}});var r=n(57437),a=n(56800),o=n.n(a);function s(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("h1",{className:o()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...a,children:t})}function l(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("h2",{className:o()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...a,children:t})}function i(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("h3",{className:o()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...a,children:t})}function c(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("h4",{className:o()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...a,children:t})}},8990:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(57437),a=n(56800),o=n.n(a);function s(e){let{title:t,className:n,children:a}=e;return(0,r.jsxs)("div",{className:o()(n,"flex items-center p-3 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800"),role:"alert",children:[(0,r.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,r.jsx)("span",{className:"sr-only",children:"Info"}),(0,r.jsxs)("div",{children:[null!=t," ",a]})]})}},16315:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(57437),a=n(2265),o=n(70407),s=n(13354),l=n(93272),i=n(12098),c=n(14088),u=n(2857),d=n(37215);function f(e){let{label:t="Search",placeholder:n="Search...",isLoading:f=!1,icon:m,...h}=e,x=(0,l.c)({label:t,...h}),g=(0,a.useRef)(null),{labelProps:j,inputProps:v,clearButtonProps:p}=(0,o.t)({label:t,...h},x,g);return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(s.T,{children:(0,r.jsx)("label",{...j,children:t})}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:f?(0,r.jsx)(u.Z,{}):m||(0,r.jsx)(c.W1,{})}),(0,r.jsx)(d.Z,{className:"pl-10 text-sm 5",ref:g,...v}),""!==x.value&&(0,r.jsxs)(i.Z,{variant:"primary",mode:"text",className:"flex absolute inset-y-0 right-0 items-center ml-2",onClick:p.onPress,children:[(0,r.jsx)(c.Tw,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"sr-only",children:t})]})]})]})}},9101:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(57437);function a(e){let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col justify-center items-center px-16 py-8 w-full",children:t})}},50180:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(57437),a=n(12098),o=n(16315),s=n(6922),l=n(72109),i=n(75728);function c(e){let{tags:t,onClick:n,onRemove:c,showMax:u=10}=e,{items:d,setSearch:f,setLimit:m,hasMore:h}=(0,l.Z)({options:t,fields:["key","value"],limit:u}),x=(0,i.Z)(e=>e.getTagColor);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(o.Z,{onChange:e=>f(e)}),(0,r.jsxs)("div",{className:"flex overflow-hidden flex-col gap-2 w-full",children:[d.map(e=>(0,r.jsx)(s.ZP,{tag:e,...x(e),onClick:n&&(()=>n(e)),onClose:c&&(()=>c(e))},"".concat(e.key,"-").concat(e.value))),h&&(0,r.jsx)(a.Z,{mode:"text",variant:"primary",className:"w-full",onClick:()=>m(e=>e+10),children:"Show more"})]})]})}},32746:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(25524),a=n(2265),o=n(37051),s=n(26731);function l(e){let{uuid:t,annotationProject:n,onUpdate:l,onDelete:i,onAddTag:c,onRemoveTag:u,onAddAnnotationTasks:d,onError:f,enabled:m=!0}=e,{query:h,useMutation:x,client:g}=(0,s.ZP)({uuid:t,initial:n,name:"annotation_project",enabled:m,getFn:o.Z.annotationProjects.get,onError:f}),j=x({mutationFn:o.Z.annotationProjects.update,onSuccess:l}),v=x({mutationFn:o.Z.annotationProjects.addTag,onSuccess:c}),p=x({mutationFn:o.Z.annotationProjects.removeTag,onSuccess:u}),b=x({mutationFn:o.Z.annotationProjects.delete,onSuccess:i}),{data:y}=h,w=(0,a.useCallback)(async e=>{if(null==y)return;let t=await o.Z.clips.createMany(e);return await o.Z.annotationTasks.createMany(y,t)},[y]),N=(0,r.D)({mutationFn:w,onSuccess:e=>{null!=e&&(null==d||d(e),g.invalidateQueries({queryKey:["annotation_project",t]}))}}),Z=(0,a.useMemo)(()=>{if(null!=y)return o.Z.annotationProjects.getDownloadUrl(y)},[y]);return{...h,update:j,addTag:v,addAnnotationTasks:N,removeTag:p,delete:b,download:Z}}},72109:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(86578),a=n(2265);function o(e){let{options:t,fields:n,limit:o=20,shouldSort:s=!0}=e,[l,i]=(0,a.useState)(o),[c,u]=(0,a.useState)(""),d=(0,a.useMemo)(()=>new r.Z(t,{keys:n,threshold:.3,shouldSort:s,includeMatches:!1,includeScore:!1}),[t,n,s]);return{items:(0,a.useMemo)(()=>""===c?t.slice(0,l):d.search(c,{limit:l}).map(e=>e.item),[c,d,t,l]),limit:l,search:c,setSearch:u,setLimit:i,hasMore:l<t.length}}},26731:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l}});var r=n(25524),a=n(40932),o=n(93191),s=n(2265);function l(e){let{uuid:t,initial:n,name:l,enabled:i=!0,getFn:c,onError:u}=e,d=(0,o.NL)(),f=(0,s.useCallback)(async()=>{if(null==t)throw Error("No uuid provided for object of type ".concat(l));return await c(t)},[t,l,c]),m=(0,a.a)({queryKey:[l,t],queryFn:f,retry:(e,t)=>{var n;if(null==t)return e<3;let r=null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.status;return null==r?e<3:(!(r>=400)||!(r<500))&&e<3},initialData:n,staleTime:3e5,enabled:i&&null!=t}),h=(0,s.useCallback)(e=>{d.setQueryData([l,t],e)},[d,t,l]),{error:x,isError:g}=m;return(0,s.useEffect)(()=>{g&&(null==u||u(x))},[x,g,u]),{query:m,client:d,setData:h,useQuery:e=>{let{queryFn:n,name:r,enabled:o=!1}=e;return function(e){let{uuid:t,query:n,queryFn:r,name:o,secondaryName:l,enabled:i=!1}=e,{status:c,data:u}=n,d=(0,s.useCallback)(async()=>{if("pending"===c)throw Error("No data for object of type ".concat(o," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===c)throw Error("Error while loading object of type ".concat(o," (uuid=").concat(t,"), cannot mutate"));return await r(u)},[c,u,r,o,t]);return(0,a.a)({queryFn:d,queryKey:[o,t,l],enabled:"pending"!==c&&"error"!==c&&i})}({uuid:t,query:m,queryFn:n,secondaryName:r,name:l,enabled:o})},useMutation:e=>{let{mutationFn:n,onSuccess:a,onError:o,withUpdate:i=!0}=e;return function(e){let{uuid:t,query:n,client:a,mutationFn:o,name:l,onSuccess:i,onError:c,withUpdate:u=!0}=e,{status:d,data:f}=n,m=(0,s.useCallback)(async e=>{if(null==t)throw Error("No uuid provided for object of type ".concat(l));if("pending"===d)throw Error("No data for object of type ".concat(l," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===d)throw Error("Error while loading object of type ".concat(l," (uuid=").concat(t,"), cannot mutate"));return await o(f,e)},[d,f,o,l,t]);return(0,r.D)({mutationFn:m,onSuccess:e=>{u&&a.setQueryData([l,t],e),null==i||i(e)},onError:c})}({uuid:t,query:m,client:d,mutationFn:n,name:l,onSuccess:a,onError:o,withUpdate:i})},useDestruction:e=>{let{mutationFn:n,onSuccess:a,onError:o}=e;return function(e){let{uuid:t,query:n,client:a,mutationFn:o,name:l,onSuccess:i,onError:c}=e,{status:u,data:d}=n,f=(0,s.useCallback)(async()=>{if(null==t)throw Error("No uuid provided for object of type ".concat(l));if("pending"===u)throw Error("No data for object of type ".concat(l," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===u)throw Error("Error while loading object of type ".concat(l," (uuid=").concat(t,"), cannot mutate"));return await o(d)},[u,d,o,l,t]);return(0,r.D)({mutationFn:f,onSuccess:e=>{a.removeQueries({queryKey:[l,t]}),null==i||i(e)},onError:c})}({uuid:t,query:m,client:d,mutationFn:n,name:l,onSuccess:a,onError:o})}}}},76057:function(e,t,n){"use strict";var r=n(2265);let a=r.forwardRef(function(e,t){let{title:n,titleId:a,...o}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,r.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))});t.Z=a}},function(e){e.O(0,[8173,8083,5790,3277,932,9226,4898,3215,6845,8026,595,6151,7051,3847,2302,2971,7023,1744],function(){return e(e.s=19401)}),_N_E=e.O()}]);