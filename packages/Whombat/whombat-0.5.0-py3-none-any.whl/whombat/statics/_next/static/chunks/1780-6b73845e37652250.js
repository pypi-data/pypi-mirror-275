"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1780],{71672:function(e,t,n){n.d(t,{Z:function(){return a}});var l=n(57437),s=n(56800),r=n.n(s);function a(e){let{children:t,className:n,...s}=e;return(0,l.jsx)("div",{className:r()("border flex flex-col gap-3 p-4 rounded-md border-stone-200 dark:border-stone-800 text-stone-700 dark:text-stone-300",n),...s,children:t})}},70957:function(e,t,n){n.d(t,{Z:function(){return Z}});var l=n(57437),s=n(2265),r=n(82563),a=n(56800),i=n.n(a),o=n(8864),c=n(13354),d=n(64419),u=n(45020),m=n(82404),x=n(71368),f=n(97965),h=n(58484),p=n(14088),j=n(93847),g=n(2857),v=n(72109);function b(e){let{}=e;return(0,l.jsx)("div",{className:"p-2",children:"No results"})}function N(e){let{label:t,value:n,options:r,fields:a,isLoading:i=!1,getOptionKey:d,displayValue:u,showMax:m=10,delay:x=300,emptyMessage:f=b,onSelect:N,onChangeSearch:w,children:C}=e,{search:Z,items:S,setSearch:F}=(0,v.Z)({options:r,fields:a,limit:m}),O=(0,s.useCallback)(e=>{let t=r.find(t=>d(t)===e);t&&(null==N||N(t),F(u(t)))},[r,d,N,F,u]),M=(0,s.useMemo)(()=>({label:t,shouldCloseOnBlur:!0,allowsEmptyCollection:!0,items:S,inputValue:Z,selectedKey:n?d(n):null,onInputChange:e=>F(e),onSelectionChange:O,children:C}),[t,S,Z,F,n,d,O,C]),R=(0,h.P)(M),T=(0,s.useRef)(null),E=(0,s.useRef)(null),D=(0,s.useRef)(null),{inputProps:I,listBoxProps:K,labelProps:P}=(0,o.E)({...M,inputRef:T,listBoxRef:E,popoverRef:D},R);return(0,s.useEffect)(()=>{let e=setTimeout(()=>null==w?void 0:w(Z),x);return()=>clearTimeout(e)},[Z,x,w]),(0,l.jsxs)("div",{className:"flex items-center w-full",children:[(0,l.jsx)(c.T,{children:(0,l.jsx)("label",{...P,children:t})}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:i?(0,l.jsx)(g.Z,{}):(0,l.jsx)(p.W1,{})}),(0,l.jsx)(j.II,{...I,className:"pl-10 text-sm 5",ref:T})]}),R.isOpen&&(0,l.jsx)(y,{state:R,triggerRef:T,popoverRef:D,isNonModal:!0,placement:"bottom start",offset:8,children:(0,l.jsx)(k,{...K,listBoxRef:E,state:R,emptyMessage:f})})]})}function k(e){let{state:t,listBoxRef:n,emptyMessage:s=b,...r}=e,{listBoxProps:a}=(0,d.c)(r,t,n);return(0,l.jsx)("div",{className:"w-full bg-stone-300 dark:bg-stone-700 rounded-md p-1",children:(0,l.jsx)("ul",{...a,ref:n,className:"flex flex-col gap-1",children:0===t.collection.size?s({state:t}):Array.from(t.collection).map(e=>(0,l.jsx)(w,{item:e,state:t},e.key))})})}function w(e){let{item:t,state:n}=e,r=(0,s.useRef)(null),{optionProps:a,isSelected:o,isFocused:c,isDisabled:d}=(0,u.F)({key:t.key},n,r);return(0,l.jsx)("li",{...a,className:i()("rounded-md p-2 cursor-pointer text-sm",{"bg-stone-400 dark:bg-stone-600":o,"bg-stone-200 dark:bg-stone-800":c,"text-gray-500":d}),ref:r,children:t.rendered})}function y(e){var t;let{children:n,state:s,...r}=e,{popoverProps:a}=(0,m.S)(r,s),{triggerRef:i}=r;return(0,l.jsx)(x.aV,{children:(0,l.jsxs)("div",{...a,style:{width:null===(t=i.current)||void 0===t?void 0:t.clientWidth,...a.style},ref:r.popoverRef,children:[n,(0,l.jsx)(f.U,{onDismiss:s.close})]})})}var C=n(28857);function Z(e){let{selected:t,onSelect:n,showMax:a=10}=e,i=(0,s.useMemo)(()=>({search:""}),[]),{isLoading:o,items:c,filter:{set:d}}=(0,C.Z)({pageSize:4*a,filter:i}),u=(0,s.useCallback)(e=>d("search",e),[d]);return(0,l.jsx)(N,{label:"search-datasets",value:t,options:c,fields:["name","description"],displayValue:e=>e.name,getOptionKey:e=>e.uuid,onChangeSearch:u,onSelect:n,showMax:a,isLoading:o,children:e=>(0,l.jsx)(r.c,{children:e.name},e.uuid)})}},98701:function(e,t,n){n.d(t,{V:function(){return a},Z:function(){return r}});var l=n(57437),s=n(14088);function r(e){let{field:t,operation:n,value:r,onRemove:a}=e;return(0,l.jsxs)("span",{className:"inline-flex items-center whitespace-nowrap rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-600 ring-1 ring-inset ring-blue-500/10 gap-1",children:[(0,l.jsx)("span",{className:"align-middle h-full font-bold",children:t}),(0,l.jsx)("span",{children:n}),(0,l.jsx)("span",{children:r}),(0,l.jsx)("button",{className:"ml-1 hover:bg-blue-200 rounded p-1",onClick:()=>{null==a||a()},children:(0,l.jsx)(s.Tw,{className:"h-3 w-3"})})]})}function a(e){let{field:t,value:n,onRemove:s}=e,{lt:a,gt:i}=n,o="",c="";return a?(o="<",c=a.toString()):i&&(o=">",c=i.toString()),(0,l.jsx)(r,{field:t,operation:o,value:c,onRemove:s})}},23635:function(e,t,n){n.d(t,{Z:function(){return a}});var l=n(57437),s=n(2265),r=n(14088);function a(e){let{filter:t,filterDef:n,total:a,showIfEmpty:i=!1,withLabel:o=!0}=e,c=Object.keys(t.filter).filter(e=>!t.isFixed(e)).length,d=(0,s.useMemo)(()=>{let e={};for(let t of n)e[t.field]=t;return e},[n]);return 0!==c||i?(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[null!=a&&(0,l.jsxs)("span",{className:"mr-3 text-stone-500",children:[a," results"]}),(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[o&&(0,l.jsxs)("span",{className:"mr-2 text-blue-200",children:[(0,l.jsx)(r.k1,{className:"inline-block h-5 w-5 mr-1"}),"filters:"]}),Object.entries(t.filter).filter(e=>{let[n,l]=e;return!t.isFixed(n)}).filter(e=>{let[t,n]=e;return t in d}).map(e=>{let[n,s]=e,r=d[n];return(0,l.jsx)("div",{children:r.render({value:s,clear:()=>t.clear(n)})},n)})]})]}):null}},35103:function(e,t,n){n.d(t,{Z:function(){return m}});var l=n(57437),s=n(49896),r=n(35933),a=n(2265),i=n(12098),o=n(14088),c=n(60398);function d(e){let{filterDefs:t,onChange:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-2 text-stone-700 dark:text-stone-300 underline underline-offset-2 decoration-amber-500 decoration-2",children:"Apply Filter"}),(0,l.jsx)(c.Z,{options:t,static:!1,renderOption:e=>{var t;return(0,l.jsxs)(l.Fragment,{children:[null!==(t=e.icon)&&void 0!==t?t:e.icon,e.name]})},limit:5,fields:["name","prefix"],getOptionKey:e=>e.name,onSelect:n,empty:(0,l.jsx)("div",{className:"text-stone-500 text-center w-full",children:"No filters found"}),autoFocus:!0})]})}function u(e){let{filter:t,filterDefs:n}=e,[s,r]=(0,a.useState)(null);return null==s?(0,l.jsx)(d,{filterDefs:n,onChange:e=>r(e)}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-2 flex flex-row items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-stone-500 mr-2",children:"Filter by"}),(0,l.jsx)("span",{className:"text-stone-700 dark:text-stone-300 underline underline-offset-2 decoration-amber-500 decoration-2",children:s.name})]}),(0,l.jsx)(i.Z,{mode:"text",variant:"warning",onClick:()=>r(null),children:(0,l.jsx)(o.xC,{className:"w-5 h-5 group-hover:stroke-3"})})]}),null!=s.description?(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("span",{className:"text-sm dark:text-stone-400 text-stone-600",children:s.description})}):null,(0,l.jsx)("div",{className:"flex flex-row space-x-2",children:s.selector({setFilter:(e,n)=>{t.set(e,n),r(null)}})})]})}function m(e){let{filter:t,filterDef:n,button:a,mode:c="filled",variant:d="primary",className:m}=e;return null==m&&(m=(0,i.y)({mode:c,variant:d})),(0,l.jsx)(s.J,{as:"div",className:"relative inline-block text-left",children:(0,l.jsxs)(r.bv,{autoPlacement:!0,portal:!0,offset:4,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:[(0,l.jsx)(s.J.Button,{className:m,children:null!=a?a:(0,l.jsx)(o.k1,{className:"h-4 w-4 stroke-2"})}),(0,l.jsx)(s.J.Panel,{unmount:!0,className:"w-96 divide-y divide-stone-100 rounded-md bg-stone-50 dark:bg-stone-700 border border-stone-200 dark:border-stone-500 shadow-md dark:shadow-stone-800 ring-1 ring-stone-900 ring-opacity-5 focus:outline-none z-50",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)(u,{filter:t,filterDefs:n})})})]})})}},76706:function(e,t,n){n.d(t,{D3:function(){return h},P9:function(){return m},Z:function(){return p},f3:function(){return x},vN:function(){return f}});var l=n(57437),s=n(2265),r=n(12098),a=n(70957),i=n(14088),o=n(61683),c=n(48423);function d(e){let{operation:t,onChangeOperation:n,value:s,name:r,onChangeValue:a,onSubmit:i}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:r,className:"block mb-2 text-sm font-medium leading-6 text-gray-700 dark:text-stone-300",children:r}),(0,l.jsxs)("div",{className:"relative rounded-md",children:[(0,l.jsxs)("div",{className:"flex absolute inset-y-0 left-0 items-center",children:[(0,l.jsx)("label",{htmlFor:"".concat(r,"-operation"),className:"sr-only",children:"Operation"}),(0,l.jsxs)("select",{className:"pr-3 pl-2 h-full bg-transparent rounded-l-md border-0 focus:ring-2 focus:ring-inset focus:ring-emerald-600 text-stone-500",id:"".concat(r,"-operation"),name:"".concat(r,"-operation"),value:t,onChange:e=>n(e.target.value),children:[(0,l.jsx)("option",{value:"gt",children:">"}),(0,l.jsx)("option",{value:"lt",children:"<"})]})]}),(0,l.jsx)("input",{type:"number",id:r,name:r,className:"block py-1 pr-14 pl-14 w-full rounded-md border-0 ring-1 ring-inset outline-none sm:text-sm sm:leading-6 focus:ring-2 focus:ring-inset focus:ring-emerald-600 bg-stone-50 text-stone-900 ring-stone-300 placeholder:text-stone-400 dark:bg-stone-900 dark:text-stone-300 dark:ring-stone-800",value:s,onKeyDown:e=>{"Enter"===e.key&&i()},onChange:e=>a(parseFloat(e.target.value))}),(0,l.jsx)("button",{onClick:i,className:"inline-block absolute inset-y-0 right-0 px-2 text-emerald-700 bg-emerald-300 rounded-r-md dark:text-emerald-300 dark:bg-emerald-700 dark:hover:bg-emerald-800 dark:hover:text-emerald-400",children:"set"})]})]})}function u(e){let{name:t,value:n,onChange:s,onSubmit:r}=e;return(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,l.jsx)("label",{htmlFor:"".concat(t,"-isnull"),className:"text-sm font-medium text-stone-700 dark:text-stone-300",children:"Is null?"}),(0,l.jsx)(o.Z,{id:"".concat(t,"-isnull"),className:"text-emerald-500 rounded shadow-sm dark:text-emerald-500 focus:ring focus:ring-emerald-300 focus:ring-opacity-50 focus:ring-offset-0 form-checkbox",checked:!0===n,indeterminate:!1===n,onChange:()=>{null===n?s(!1):!1===n?s(!0):s(null)}}),(0,l.jsx)("span",{className:"text-stone-500",children:null===n?"not set":n?"is null":"is not null"}),(0,l.jsx)("button",{onClick:r,disabled:null===n,className:"absolute right-0 py-1 px-2 text-emerald-700 bg-emerald-300 rounded-md dark:text-emerald-300 dark:bg-emerald-700 disabled:text-emerald-600 disabled:bg-emerald-300 dark:hover:bg-emerald-800 dark:hover:text-emerald-400 dark:disabled:bg-emerald-900 dark:disabled:text-emerald-600",children:"set"})]})}function m(e){let{name:t="field",onChange:n}=e,[r,a]=(0,s.useState)(0),[i,o]=(0,s.useState)("gt"),c=(0,s.useCallback)(()=>{n({[i]:r})},[n,i,r]);return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(d,{name:t,value:r,onChangeValue:a,operation:i,onChangeOperation:o,onSubmit:c})})}function x(e){let{name:t,onChange:n}=e,[r,a]=(0,s.useState)(0),[i,o]=(0,s.useState)("gt"),[c,m]=(0,s.useState)(null),x=(0,s.useCallback)(()=>{n({is_null:c||void 0,[i]:r})},[n,c,i,r]);return(0,l.jsxs)("div",{className:"flex relative flex-col gap-4 w-full",children:[(0,l.jsx)(d,{name:t,value:r,onChangeValue:a,operation:i,onChangeOperation:o,onSubmit:x}),(0,l.jsx)(u,{name:"is_null",value:c,onChange:m,onSubmit:x})]})}function f(e){let{onChange:t}=e;return(0,l.jsxs)("div",{className:"flex flex-row gap-2 justify-center w-full",children:[(0,l.jsxs)(r.Z,{mode:"text",variant:"primary",onClick:()=>t(!0),children:[(0,l.jsx)(i.nQ,{className:"mr-1 w-5 h-5 group-hover:stroke-3"}),"Yes"]}),(0,l.jsxs)(r.Z,{mode:"text",variant:"danger",onClick:()=>t(!1),children:[(0,l.jsx)(i.Tw,{className:"mr-1 w-5 h-5 group-hover:stroke-3"}),"No"]})]})}function h(e){let{onChange:t}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(c.Z,{onSelect:e=>t(e)})})}function p(e){let{onChange:t}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,l.jsx)(a.Z,{onSelect:e=>t(e)})})}},16315:function(e,t,n){n.d(t,{Z:function(){return m}});var l=n(57437),s=n(2265),r=n(70407),a=n(13354),i=n(93272),o=n(12098),c=n(14088),d=n(2857),u=n(37215);function m(e){let{label:t="Search",placeholder:n="Search...",isLoading:m=!1,icon:x,...f}=e,h=(0,i.c)({label:t,...f}),p=(0,s.useRef)(null),{labelProps:j,inputProps:g,clearButtonProps:v}=(0,r.t)({label:t,...f},h,p);return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(a.T,{children:(0,l.jsx)("label",{...j,children:t})}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:m?(0,l.jsx)(d.Z,{}):x||(0,l.jsx)(c.W1,{})}),(0,l.jsx)(u.Z,{className:"pl-10 text-sm 5",ref:p,...g}),""!==h.value&&(0,l.jsxs)(o.Z,{variant:"primary",mode:"text",className:"flex absolute inset-y-0 right-0 items-center ml-2",onClick:v.onPress,children:[(0,l.jsx)(c.Tw,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"sr-only",children:t})]})]})]})}},60398:function(e,t,n){n.d(t,{Z:function(){return d}});var l=n(57437),s=n(78026),r=n(35933),a=n(86578),i=n(2265),o=n(12098),c=n(16315);function d(e){let{value:t,options:n,onSelect:o,renderOption:d,fields:u,getOptionKey:x=(e,t)=>t,limit:f=5,autoFocus:h=!1,static:p=!0,displayValue:j,onChange:g,initialQuery:v="",as:b=c.Z,empty:N}=e,[k,w]=(0,i.useState)(f),[y,C]=(0,i.useState)(v);(0,i.useEffect)(()=>null==g?void 0:g(y),[y,g]);let Z=(0,i.useMemo)(()=>new a.Z(n,{keys:u,threshold:.3}),[n,u]),S=(0,i.useMemo)(()=>y?Z.search(y,{limit:k}).map(e=>e.item):n.slice(0,k),[y,Z,n,k]),F="w-full rounded-md border bg-stone-50 dark:bg-stone-700 border-stone-200 dark:border-stone-600 py-2 px-1 overflow-auto shadow-lg focus:outline-none";return p?(0,l.jsx)(s.h,{value:t,onChange:o,children:e=>{let{value:t,open:r}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(s.h.Input,{as:b,autoFocus:h,value:r||null==t?void 0:null==j?void 0:j(t),onChange:e=>C(e)}),(0,l.jsx)(s.h.Options,{static:p,className:"absolute mt-1 ".concat(F),children:(0,l.jsx)(m,{options:S,total:n.length,limit:k,initialLimit:f,renderOption:d,getOptionKey:x,setLimit:w,empty:N})})]})}}):(0,l.jsx)("div",{className:"flex flex-row w-full",children:(0,l.jsx)(s.h,{value:t,onChange:o,children:(0,l.jsxs)(r.bv,{offset:8,as:"div",className:"relative w-full",enter:"transition duration-200 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transition duration-150 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0",placement:"bottom",autoPlacement:!0,floatingAs:i.Fragment,children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(s.h.Input,{as:b,autoFocus:h,value:null!=t?null==j?void 0:j(t):void 0,onChange:e=>C(e)})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(s.h.Options,{className:"".concat(F),children:(0,l.jsx)(m,{options:S,total:n.length,limit:k,initialLimit:f,renderOption:d,getOptionKey:x,setLimit:w,empty:N})})})]})})})}function u(e){let{option:t,renderOption:n}=e;return(0,l.jsx)(s.h.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none p-2 rounded-md ".concat(t?"bg-stone-200 dark:bg-stone-800 text-emerald-600 dark:text-emerald-500":"")},value:t,children:n(t)})}function m(e){let{options:t,total:n,limit:s,initialLimit:r,empty:a="No options found",renderOption:i,getOptionKey:c,setLimit:d}=e;return(0,l.jsxs)(l.Fragment,{children:[t.map((e,t)=>(0,l.jsx)(u,{option:e,renderOption:i},c(e,t))),t.length==s&&n>t.length?(0,l.jsx)(o.Z,{mode:"text",className:"w-full cursor-default",onClick:()=>d(n),children:(0,l.jsxs)("div",{className:"flex flex-row w-full justify-between items-center text-stone-500",children:[(0,l.jsx)("span",{className:"flex-grow text-left",children:"Show all"}),(0,l.jsxs)("span",{children:[n-t.length," more"]})]})}):t.length>r?(0,l.jsx)(o.Z,{mode:"text",className:"w-full cursor-default",onClick:()=>d(r),children:(0,l.jsx)("div",{className:"flex flex-row w-full justify-between items-center text-stone-500",children:(0,l.jsx)("span",{className:"flex-grow text-left",children:"Show less"})})}):null,0==n&&(a||null)]})}},61683:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(57437),s=n(2265);function r(e){let{indeterminate:t,className:n="",...r}=e,a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{"boolean"==typeof t&&(a.current.indeterminate=!r.checked&&t)},[a,t,r.checked]),(0,l.jsx)("input",{type:"checkbox",ref:a,className:n+" cursor-pointer",...r})}},28857:function(e,t,n){n.d(t,{Z:function(){return c}});var l=n(25524),s=n(37051),r=n(33833),a=n(30635);let i={},o=[];function c(){let{filter:e=i,fixed:t=o,pageSize:n=10,enabled:c=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,r.Z)({defaults:e,fixed:t}),{query:u,pagination:m,items:x,total:f}=(0,a.Z)({name:"datasets",queryFn:s.Z.datasets.getMany,pageSize:n,filter:d.filter,enabled:c}),h=(0,l.D)({mutationFn:s.Z.datasets.create,onSuccess:()=>{u.refetch()}});return{...u,filter:d,pagination:m,items:x,total:f,create:h}}},72109:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(86578),s=n(2265);function r(e){let{options:t,fields:n,limit:r=20,shouldSort:a=!0}=e,[i,o]=(0,s.useState)(r),[c,d]=(0,s.useState)(""),u=(0,s.useMemo)(()=>new l.Z(t,{keys:n,threshold:.3,shouldSort:a,includeMatches:!1,includeScore:!1}),[t,n,a]);return{items:(0,s.useMemo)(()=>""===c?t.slice(0,i):u.search(c,{limit:i}).map(e=>e.item),[c,u,t,i]),limit:i,search:c,setSearch:d,setLimit:o,hasMore:i<t.length}}}}]);