(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4379],{90822:function(e,n,t){Promise.resolve().then(t.bind(t,7287))},87138:function(e,n,t){"use strict";t.d(n,{default:function(){return a.a}});var s=t(231),a=t.n(s)},7287:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var s=t(57437),a=t(2265),r=t(88726),i=t(75728),l=t(93525),o=t(37051),c=t(2857),d=t(63425),m=t(80021),u=t(30635);let x={};function f(e){let{items:n,query:t,pagination:r,total:i}=(0,u.Z)({name:"recordings",queryFn:o.Z.recordings.getMany,pageSize:12,filter:e.filter||x}),l=(0,a.useMemo)(()=>n||[],[n]);return t.isLoading?(0,s.jsx)(c.Z,{}):(0,s.jsxs)("div",{className:"flex flex-col gap-2 px-4",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-stone-500",children:["Showing"," ",(0,s.jsxs)("span",{className:"font-bold",children:[r.page*r.pageSize," -"," ",r.page*r.pageSize+l.length]})," ","of ",(0,s.jsx)("span",{className:"text-emerald-500 font-bold",children:i})," ","recordings"]})}),(0,s.jsx)(d.Z,{...r})]}),(0,s.jsx)("div",{className:"flex flex-col gap-8",children:l.map(n=>(0,s.jsx)(h,{annotation:n,parameters:e.parameters,onParametersSave:e.onParametersSave},n.uuid))}),(0,s.jsx)("div",{className:"flex flex-row justify-center",children:(0,s.jsx)(d.Z,{...r})})]})}function h(e){let{annotation:n,parameters:t,onParametersSave:a,height:r=260}=e;return(0,s.jsx)(m.Z,{recording:n,parameters:t,onParameterSave:a,height:r,withBar:!1,withPlayer:!1,withControls:!1,withSettings:!1})}var g=t(14088),j=t(14396);let v=[{id:"gallery",title:"Gallery",icon:(0,s.jsx)(g.zB,{className:"w-5 h-5"})}];function p(e){return(0,s.jsx)(j.Z,{description:"Explore all recordings. Use the filtering options to select a subset, and choose the view you wish to use to explore the recordings.",filter:e.filter,filterDef:l.Z,parameters:e.parameters,onParametersSave:e.onParametersSave,tabs:v,children:n=>{let{view:t,filter:a}=n;return"gallery"===t?(0,s.jsx)(f,{filter:a,parameters:e.parameters,onParametersSave:e.onParametersSave}):null}})}function b(){let e=(0,i.Z)(e=>e.spectrogramSettings),n=(0,i.Z)(e=>e.setSpectrogramSettings),t=(0,a.useCallback)(e=>{r.ZP.success("Spectrogram settings saved."),n(e)},[n]);return(0,s.jsx)(p,{parameters:e,onParametersSave:t})}},9981:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s=t(57437),a=t(56800),r=t.n(a),i=t(87138);let l="whitespace-nowrap rounded-lg bg-stone-50 p-2 text-center text-sm font-medium dark:bg-stone-800 focus:outline-none focus:ring-4 focus:ring-emerald-500/50",o="text-emerald-500",c="text-stone-700 hover:bg-stone-200 hover:text-stone-900 dark:text-stone-400 dark:hover:bg-stone-700 dark:hover:text-stone-300";function d(e){let{children:n,active:t=!1,className:a,...i}=e;return(0,s.jsx)("button",{...i,className:r()(l,t?o:c,a),children:n})}function m(e){let{children:n,active:t=!1,className:a,...d}=e;return(0,s.jsx)(i.default,{...d,className:r()(l,t?o:c,a,"p-2 inline-block"),children:n})}function u(e){let{tabs:n}=e;return(0,s.jsx)("ul",{className:"flex space-x-4",children:n.map(e=>(0,s.jsx)("li",{children:null!=e.href?(0,s.jsxs)(m,{href:e.href,active:e.isActive,children:[e.icon?(0,s.jsx)("span",{className:"mr-1 inline-block align-middle",children:e.icon}):null,e.title]}):(0,s.jsxs)(d,{onClick:e.onClick,active:e.isActive,children:[e.icon?(0,s.jsx)("span",{className:"mr-1 inline-block align-middle",children:e.icon}):null,e.title]})},e.id))})}},93525:function(e,n,t){"use strict";var s=t(57437),a=t(98701),r=t(76706),i=t(14088);let l=[{name:"Duration",field:"duration",selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.P9,{name:"duration",onChange:e=>n("duration",e)})},render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Duration",value:n,onRemove:t})},description:"Select recordings by duration. Duration is in seconds.",icon:(0,s.jsx)(i.wZ,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{name:"Sample Rate",field:"samplerate",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Sample Rate",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.P9,{onChange:e=>n("samplerate",e)})},icon:(0,s.jsx)(i.Dd,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{name:"Channels",field:"channels",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Channels",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.P9,{onChange:e=>n("channels",e)})},icon:(0,s.jsx)(i.QE,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{field:"time_expansion",name:"Time Expansion",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Time Expansion",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.P9,{onChange:e=>n("time_expansion",e)})},icon:(0,s.jsx)(i.i5,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{field:"latitude",name:"Latitude",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Latitude",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.f3,{name:"latitude",onChange:e=>n("latitude",e)})},icon:(0,s.jsx)(i.cX,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{field:"longitude",name:"Longitude",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.V,{field:"Longitude",value:n,onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.f3,{name:"longitude",onChange:e=>n("longitude",e)})},icon:(0,s.jsx)(i.nU,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{field:"tag",name:"Has Tag",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.Z,{field:"Tag",value:"".concat(n.key,": ").concat(n.value),onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.D3,{onChange:e=>n("tag",e)})},icon:(0,s.jsx)(i.lO,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})},{field:"has_issues",name:"Has Issues",render:e=>{let{value:n,clear:t}=e;return(0,s.jsx)(a.Z,{field:"Has Issues",value:n?"Yes":"No",onRemove:t})},selector:e=>{let{setFilter:n}=e;return(0,s.jsx)(r.vN,{onChange:e=>n("has_issues",e)})},icon:(0,s.jsx)(i.uN,{className:"h-5 w-5 inline-block text-stone-500 mr-1 align-middle"})}];n.Z=l},14396:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var s=t(57437),a=t(2265),r=t(23635),i=t(35103),l=t(14088),o=t(9981),c=t(33833);let d={};function m(e){let[n,t]=(0,a.useState)(e.tabs[0].id),r=(0,c.Z)({defaults:e.filter||d}),i=(0,a.useMemo)(()=>e.tabs.map(e=>({...e,isActive:e.id===n,onClick:()=>t(e.id)})),[e.tabs,n]);return(0,s.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex flex-row justify-center",children:(0,s.jsx)("p",{className:"text-stone-500 text-sm max-w-prose text-center",children:e.description})}),(0,s.jsx)(u,{filter:r,filterDef:e.filterDef})]}),(0,s.jsx)("div",{className:"flex flex-row gap-2 justify-center w-full",children:(0,s.jsx)(o.Z,{tabs:i})}),(0,s.jsx)("div",{className:"p-4",children:e.children({view:n,filter:r.filter})})]})}function u(e){let{filter:n,filterDef:t}=e;return(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 px-2",children:[(0,s.jsx)(i.Z,{mode:"text",filter:n,filterDef:t,button:(0,s.jsxs)(s.Fragment,{children:["Add filters ",(0,s.jsx)(l.k1,{className:"inline-block w-4 h-4 stroke-2"})]})}),(0,s.jsx)(r.Z,{filter:n,filterDef:t,showIfEmpty:!0,withLabel:!1})]})}},63425:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var s=t(57437),a=t(12098),r=t(14088),i=t(93847),l=t(61317);let o=[1,5,10,25,50,100];function c(e){let{pageSize:n,setPageSize:t}=e;return(0,s.jsx)(l.Z,{label:"Page Size:",selected:{label:n.toString(),value:n,id:n},onChange:e=>t(e),options:o.map(e=>({label:e.toString(),value:e,id:e}))})}function d(e){let{page:n,numPages:t,nextPage:l,hasNextPage:o,hasPrevPage:d,prevPage:m,setPage:u,pageSize:x,setPageSize:f}=e;return(0,s.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,s.jsx)(a.Z,{disabled:0===n,onClick:()=>u(0),variant:"secondary",mode:"text",children:(0,s.jsx)(r.Op,{className:"h-5 w-5 fill-transparent stroke-inherit"})}),(0,s.jsx)(a.Z,{onClick:m,disabled:!d,variant:"secondary",mode:"text",children:(0,s.jsx)(r.jJ,{className:"h-5 w-5 fill-transparent stroke-inherit"})}),(0,s.jsx)("div",{className:"w-14",children:(0,s.jsx)(i.II,{disabled:1===t,type:"number",className:"remove-arrow",value:n+1,onChange:e=>u(parseInt(e.target.value)-1)})}),(0,s.jsxs)(a.Z,{disabled:!0,variant:"secondary",mode:"text",children:["/ ",t]}),(0,s.jsx)(a.Z,{onClick:l,disabled:!o,variant:"secondary",mode:"text",children:(0,s.jsx)(r.Ne,{className:"h-5 w-5 fill-transparent stroke-inherit"})}),(0,s.jsx)(a.Z,{disabled:n===t-1,onClick:()=>u(t-1),variant:"secondary",mode:"text",children:(0,s.jsx)(r.OZ,{className:"h-5 w-5 fill-transparent stroke-inherit"})}),(0,s.jsx)(c,{pageSize:x,setPageSize:f})]})}},80021:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var s=t(57437),a=t(2265),r=t(82517),i=t(24729),l=t(71672),o=t(58992),c=t(36305),d=t(25648),m=t(19551),u=t(26140),x=t(87697),f=t(2803);function h(e){var n,t;let{recording:h,height:g=384,withBar:j=!0,withControls:v=!0,withSettings:p=!0,withPlayer:b=!0,parameters:w=r._z,onParameterSave:N}=e,Z=(0,a.useRef)(null),k=null!==(t=null===(n=Z.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==t?t:{width:0,height:0},C=(0,a.useMemo)(()=>({time:{min:0,max:h.duration},freq:{min:0,max:h.samplerate/2}}),[h.duration,h.samplerate]),S=(0,a.useMemo)(()=>({time:{min:0,max:Math.min(5,h.duration)},freq:{min:0,max:h.samplerate/2}}),[h.samplerate,h.duration]),y=(0,m.Z)({recording:h,endTime:C.time.max,startTime:C.time.min}),P=(0,x.Z)({dimensions:k,recording:h,bounds:C,initial:S,parameters:w,enabled:!y.isPlaying}),{centerOn:D}=P,R=(0,a.useCallback)(e=>D({time:e}),[D]),{draw:_}=(0,f.Z)({viewport:P.viewport,currentTime:y.currentTime,isPlaying:y.isPlaying,onTimeChange:R}),{props:z,draw:T,isLoading:E}=P,L=(0,a.useCallback)(e=>{e.canvas.style.cursor="wait",E||(T(e),_(e))},[T,_,E]);return(0,u.Z)({ref:Z,draw:L}),(0,s.jsxs)(l.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-row gap-4",children:[v&&(0,s.jsx)(c.Z,{canDrag:P.canDrag,canZoom:P.canZoom,onReset:P.reset,onDrag:P.enableDrag,onZoom:P.enableZoom}),p&&(0,s.jsx)(d.Z,{samplerate:h.samplerate,settings:P.parameters,onChange:P.setParameters,onReset:P.resetParameters,onSave:()=>null==N?void 0:N(P.parameters)}),b&&(0,s.jsx)(i.Z,{...y})]}),(0,s.jsx)("div",{className:"overflow-hidden rounded-md",style:{height:g},children:(0,s.jsx)("canvas",{ref:Z,...z,className:"w-full h-full"})}),j&&(0,s.jsx)(o.Z,{bounds:P.bounds,viewport:P.viewport,onMove:P.zoom})]})}}},function(e){e.O(0,[8173,8083,5790,3277,231,932,9226,4898,3215,8726,6845,4880,8026,595,6151,7771,873,7051,3847,2302,1780,1479,2971,7023,1744],function(){return e(e.s=90822)}),_N_E=e.O()}]);