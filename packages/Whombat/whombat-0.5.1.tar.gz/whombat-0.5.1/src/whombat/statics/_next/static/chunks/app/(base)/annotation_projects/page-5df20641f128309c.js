(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3318],{59509:function(e,t,n){Promise.resolve().then(n.bind(n,95584))},95584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var s=n(57437),r=n(16463),a=n(2265),o=n(88726),l=n(40918),i=n(87138),c=n(14088);function d(e){let{label:t,value:n}=e;return(0,s.jsxs)("div",{className:"flex flex-row mx-4 space-x-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-stone-500",children:t}),(0,s.jsx)("div",{className:"text-sm text-stone-700 dark:text-stone-300",children:n})]})}function x(e){let{annotationProject:t}=e;return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,s.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,s.jsx)(c.O4,{})})," ",(0,s.jsx)(i.default,{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/annotation_projects/detail/",query:{annotation_project_uuid:t.uuid}},children:t.name})]}),(0,s.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,s.jsx)("div",{className:"flex flex-row py-4",children:(0,s.jsx)(d,{label:(0,s.jsx)(c.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})})]})}var u=n(31014),m=n(25524),j=n(39343),h=n(57171),f=n(37051),p=n(93847);function v(e){var t,n,r;let{onCreate:o,onError:l}=e,i=(0,j.cI)({resolver:(0,u.F)(h.Gd),mode:"onChange"}),{errors:c}=i.formState,{mutateAsync:d}=(0,m.D)({mutationFn:f.Z.annotationProjects.create,onError:l}),x=(0,a.useCallback)(async e=>{let t=d(e);o&&o(t)},[d,o]);return(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:i.handleSubmit(x),children:[(0,s.jsx)(p.BZ,{label:"Name",name:"name",help:"Please provide a name for the Annotation Project.",error:null===(t=c.name)||void 0===t?void 0:t.message,children:(0,s.jsx)(p.II,{...i.register("name")})}),(0,s.jsx)(p.BZ,{label:"Description",name:"description",help:"Describe the purpose of the project",error:null===(n=c.description)||void 0===n?void 0:n.message,children:(0,s.jsx)(p.Kx,{rows:6,...i.register("description")})}),(0,s.jsx)(p.BZ,{label:"Instructions",name:"annotation_instructions",help:"Write instructions for annotators.",error:null===(r=c.annotation_instructions)||void 0===r?void 0:r.message,children:(0,s.jsx)(p.Kx,{rows:10,...i.register("annotation_instructions")})}),(0,s.jsx)(p.k4,{children:"Create Project"})]})}function g(e){var t;let{onCreate:n}=e,{register:r,handleSubmit:o,setError:l,formState:{errors:i}}=(0,j.cI)({mode:"onChange"}),{mutateAsync:d}=(0,m.D)({mutationFn:f.Z.annotationProjects.import,onError:e=>{var t;(null===(t=e.response)||void 0===t?void 0:t.status)===422&&e.response.data.detail.forEach(e=>{l(e.loc[1],{message:e.msg})})}}),x=(0,a.useCallback)(async e=>{let t=new FormData,s=e.annotation_project[0];t.append("annotation_project",s);let r=d(t);null==n||n(r)},[d,n]);return(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:o(x),children:[(0,s.jsx)(p.BZ,{name:"annotation_project",label:"Select a project file to import",help:"The file must be in AOEF format",error:null===(t=i.file)||void 0===t?void 0:t.message,children:(0,s.jsx)(p.II,{type:"file",...r("annotation_project"),required:!0})}),(0,s.jsxs)(p.k4,{children:[(0,s.jsx)(c.rG,{className:"inline-block h-6 w-6 align-middle mr-2"}),"Import"]})]})}var N=n(57605),b=n(94776),w=n(16315),Z=n(63425),k=n(38875),_=n(72843);function C(){return(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(c.aN,{className:"w-16 h-16 text-stone-500"}),(0,s.jsx)("p",{children:"No annotation project exist yet!"}),(0,s.jsxs)("p",{children:["To create a new project, click on the",(0,s.jsxs)("span",{className:"text-emerald-500",children:[(0,s.jsx)(c.dt,{className:"inline-block mr-1 ml-2 w-4 h-4"}),"Create"," "]})," ","button above."]})]})}function y(e){let{onCreate:t}=e,{items:n,pagination:r,isLoading:a,filter:o}=(0,_.Z)();return(0,s.jsxs)("div",{className:"flex flex-col p-8 space-y-2 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(w.Z,{label:"Search",placeholder:"Search project...",value:o.get("search"),onChange:e=>o.set("search",e),onSubmit:()=>o.submit(),icon:(0,s.jsx)(c.lQ,{})})}),(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(N.Z,{mode:"text",title:"Create Annotation Project",width:"w-96",label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.dt,{className:"inline-block w-4 h-4 align-middle"})," Create"]}),children:()=>(0,s.jsx)(v,{onCreate:t})})}),(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(N.Z,{mode:"text",title:"Import annotation project",label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.rG,{className:"inline-block w-4 h-4 align-middle"})," ","Import"]}),children:()=>(0,s.jsx)(g,{onCreate:t})})})]}),a?(0,s.jsx)(b.Z,{children:(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)(l.Z,{})})}):0===n.length?(0,s.jsx)(C,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(k.Z,{items:n.map(e=>(0,s.jsx)(x,{annotationProject:e},e.uuid))})}),r.numPages>1&&(0,s.jsx)(Z.Z,{...r})]})}var P=n(92814);function F(){let e=(0,r.useRouter)(),t=(0,a.useCallback)(async t=>{o.ZP.promise(t,{loading:"Creating project...",success:"Project created!",error:"Failed to create project"}),t.then(t=>{e.push("/annotation_projects/detail/?annotation_project_uuid=".concat(t.uuid))})},[e]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.Z,{text:"Annotation Projects"}),(0,s.jsx)(y,{onCreate:t})]})}},40918:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(57437),r=n(4933);function a(){return(0,s.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center",children:(0,s.jsx)(r.Z,{})})}},56341:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(57437);function r(e){let{children:t}=e;return(0,s.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,s.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},68e3:function(e,t,n){"use strict";n.d(t,{H1:function(){return o},H2:function(){return l},H3:function(){return i},H4:function(){return c}});var s=n(57437),r=n(56800),a=n.n(r);function o(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h1",{className:a()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...r,children:t})}function l(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h2",{className:a()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...r,children:t})}function i(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h3",{className:a()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...r,children:t})}function c(e){let{children:t,className:n,...r}=e;return(0,s.jsx)("h4",{className:a()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...r,children:t})}},92814:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(57437),r=n(56341),a=n(68e3);function o(e){let{text:t}=e;return(0,s.jsx)(r.Z,{children:(0,s.jsx)(a.H1,{children:t})})}},72843:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(37051),r=n(33833),a=n(30635);let o={},l=[];function i(){let{filter:e=o,fixed:t=l,pageSize:n=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,r.Z)({defaults:e,fixed:t}),{query:c,pagination:d,items:x,total:u}=(0,a.Z)({name:"annotation_projects",queryFn:s.Z.annotationProjects.getMany,pageSize:n,filter:i.filter});return{...c,items:x,filter:i,pagination:d,total:u}}}},function(e){e.O(0,[8173,8083,5790,3277,231,932,9226,4898,3215,8726,6845,4880,7051,3847,3127,2971,7023,1744],function(){return e(e.s=59509)}),_N_E=e.O()}]);