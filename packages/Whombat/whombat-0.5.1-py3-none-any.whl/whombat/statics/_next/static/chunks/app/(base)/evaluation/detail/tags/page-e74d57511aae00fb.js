(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6915],{51172:function(e,t,n){Promise.resolve().then(n.bind(n,32584))},85391:function(e,t,n){"use strict";let a=(0,n(2265).createContext)({name:"",description:"",tags:[],uuid:"",created_on:new Date,task:"sound_event_detection"});t.Z=a},32584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(57437),s=n(2265),r=n(68e3),l=n(14088),o=n(8990),i=n(50180),c=n(48423),u=n(15052);function d(e){var t;let{evaluationSet:n,onAddTag:d,onRemoveTag:f}=e,h=(0,u.Z)({uuid:n.uuid,evaluationSet:n,onAddTag:d,onRemoveTag:f}),m=(0,s.useMemo)(()=>{var e,t;return null!==(t=null===(e=h.data)||void 0===e?void 0:e.tags)&&void 0!==t?t:[]},[null===(t=h.data)||void 0===t?void 0:t.tags]);return(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsxs)(r.H2,{children:[(0,a.jsx)(l.Dg,{className:"inline-block mr-2 w-8 h-8 align-middle"}),"Evaluation Tags"]}),(0,a.jsxs)("p",{className:"text-stone-500",children:["When assessing models and annotators using this evaluation set, emphasis will be placed solely on"," ",(0,a.jsx)("span",{className:"text-emerald-500",children:"these tags"}),". Choose from the registered tags, ensuring alignment with the goals of this evaluation set to achieve precise and meaningful assessments."]}),(0,a.jsx)(o.Z,{className:"mt-4",children:"It is recommended to add all tags before starting evaluation. Otherwise, adding tags later will make any existing evaluations inconsistent with the new tags."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-14",children:[(0,a.jsxs)("div",{className:"md:col-span-1 col-span-2",children:[(0,a.jsx)(r.H3,{children:"Add Tags"}),(0,a.jsx)("small",{className:"text-stone-500",children:"Use the search bar below to look for tags you want to focus evaluation on. Select as many tags as you want."}),(0,a.jsx)("div",{className:"py-2 mb-3",children:(0,a.jsx)(c.Z,{autoFocus:!1,onSelect:h.addTag.mutate})})]}),(0,a.jsxs)("div",{className:"flex flex-col col-span-2 md:col-span-1 gap-2",children:[(0,a.jsx)(r.H3,{children:"Selected tags"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-blue-500 font-bold",children:m.length.toLocaleString()})," ","tags to use for evaluation. Each of these tags will be considered a separate class when evaluating predictions."]}),(0,a.jsx)("small",{className:"text-stone-500",children:"Use the search bar to look for registered tags. Click on a tag to remove it."}),(0,a.jsx)("div",{children:(0,a.jsx)(i.Z,{tags:m,onClick:h.removeTag.mutate})})]})]})]})}var f=n(9101),h=n(85391);function m(){let e=(0,s.useContext)(h.Z);return(0,a.jsx)(f.Z,{children:(0,a.jsx)("div",{className:"max-w-4xl",children:(0,a.jsx)(d,{evaluationSet:e})})})}},68e3:function(e,t,n){"use strict";n.d(t,{H1:function(){return l},H2:function(){return o},H3:function(){return i},H4:function(){return c}});var a=n(57437),s=n(56800),r=n.n(s);function l(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h1",{className:r()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...s,children:t})}function o(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h2",{className:r()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...s,children:t})}function i(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h3",{className:r()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...s,children:t})}function c(e){let{children:t,className:n,...s}=e;return(0,a.jsx)("h4",{className:r()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...s,children:t})}},8990:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437),s=n(56800),r=n.n(s);function l(e){let{title:t,className:n,children:s}=e;return(0,a.jsxs)("div",{className:r()(n,"flex items-center p-3 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800"),role:"alert",children:[(0,a.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,a.jsx)("span",{className:"sr-only",children:"Info"}),(0,a.jsxs)("div",{children:[null!=t," ",s]})]})}},16315:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(57437),s=n(2265),r=n(70407),l=n(13354),o=n(93272),i=n(12098),c=n(14088),u=n(2857),d=n(37215);function f(e){let{label:t="Search",placeholder:n="Search...",isLoading:f=!1,icon:h,...m}=e,x=(0,o.c)({label:t,...m}),v=(0,s.useRef)(null),{labelProps:g,inputProps:p,clearButtonProps:j}=(0,r.t)({label:t,...m},x,v);return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.T,{children:(0,a.jsx)("label",{...g,children:t})}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 w-8 pointer-events-none",children:f?(0,a.jsx)(u.Z,{}):h||(0,a.jsx)(c.W1,{})}),(0,a.jsx)(d.Z,{className:"pl-10 text-sm 5",ref:v,...p}),""!==x.value&&(0,a.jsxs)(i.Z,{variant:"primary",mode:"text",className:"flex absolute inset-y-0 right-0 items-center ml-2",onClick:j.onPress,children:[(0,a.jsx)(c.Tw,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"sr-only",children:t})]})]})]})}},9101:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);function s(e){let{children:t}=e;return(0,a.jsx)("div",{className:"flex flex-col justify-center items-center px-16 py-8 w-full",children:t})}},50180:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(57437),s=n(12098),r=n(16315),l=n(6922),o=n(72109),i=n(75728);function c(e){let{tags:t,onClick:n,onRemove:c,showMax:u=10}=e,{items:d,setSearch:f,setLimit:h,hasMore:m}=(0,o.Z)({options:t,fields:["key","value"],limit:u}),x=(0,i.Z)(e=>e.getTagColor);return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(r.Z,{onChange:e=>f(e)}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-2 w-full",children:[d.map(e=>(0,a.jsx)(l.ZP,{tag:e,...x(e),onClick:n&&(()=>n(e)),onClose:c&&(()=>c(e))},"".concat(e.key,"-").concat(e.value))),m&&(0,a.jsx)(s.Z,{mode:"text",variant:"primary",className:"w-full",onClick:()=>h(e=>e+10),children:"Show more"})]})]})}},15052:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(2265),s=n(37051),r=n(26731);function l(e){let{uuid:t,evaluationSet:n,enabled:l=!0,onAddModelRun:o,onAddUserRun:i,onUpdate:c,onDelete:u,onAddTag:d,onRemoveTag:f,onAddTasks:h,onError:m}=e,{query:x,useMutation:v,useDestruction:g}=(0,r.ZP)({uuid:t,initial:n,name:"evaluation_set",enabled:l,getFn:s.Z.evaluationSets.get,onError:m}),p=v({mutationFn:s.Z.evaluationSets.update,onSuccess:c}),j=v({mutationFn:s.Z.evaluationSets.addTag,onSuccess:d}),w=v({mutationFn:s.Z.evaluationSets.removeTag,onSuccess:f}),b=v({mutationFn:s.Z.evaluationSets.addEvaluationTasks,onSuccess:h}),y=v({mutationFn:s.Z.evaluationSets.addModelRun,onSuccess:o}),N=v({mutationFn:s.Z.evaluationSets.addUserRun,onSuccess:i}),Z=g({mutationFn:s.Z.evaluationSets.delete,onSuccess:u}),S=(0,a.useMemo)(()=>x.data?s.Z.evaluationSets.getDownloadUrl(x.data):"",[x.data]);return{...x,update:p,addTag:j,removeTag:w,addEvaluationTasks:b,addModelRun:y,addUserRun:N,delete:Z,downloadUrl:S}}},72109:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(86578),s=n(2265);function r(e){let{options:t,fields:n,limit:r=20,shouldSort:l=!0}=e,[o,i]=(0,s.useState)(r),[c,u]=(0,s.useState)(""),d=(0,s.useMemo)(()=>new a.Z(t,{keys:n,threshold:.3,shouldSort:l,includeMatches:!1,includeScore:!1}),[t,n,l]);return{items:(0,s.useMemo)(()=>""===c?t.slice(0,o):d.search(c,{limit:o}).map(e=>e.item),[c,d,t,o]),limit:o,search:c,setSearch:u,setLimit:i,hasMore:o<t.length}}},26731:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var a=n(25524),s=n(40932),r=n(93191),l=n(2265);function o(e){let{uuid:t,initial:n,name:o,enabled:i=!0,getFn:c,onError:u}=e,d=(0,r.NL)(),f=(0,l.useCallback)(async()=>{if(null==t)throw Error("No uuid provided for object of type ".concat(o));return await c(t)},[t,o,c]),h=(0,s.a)({queryKey:[o,t],queryFn:f,retry:(e,t)=>{var n;if(null==t)return e<3;let a=null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.status;return null==a?e<3:(!(a>=400)||!(a<500))&&e<3},initialData:n,staleTime:3e5,enabled:i&&null!=t}),m=(0,l.useCallback)(e=>{d.setQueryData([o,t],e)},[d,t,o]),{error:x,isError:v}=h;return(0,l.useEffect)(()=>{v&&(null==u||u(x))},[x,v,u]),{query:h,client:d,setData:m,useQuery:e=>{let{queryFn:n,name:a,enabled:r=!1}=e;return function(e){let{uuid:t,query:n,queryFn:a,name:r,secondaryName:o,enabled:i=!1}=e,{status:c,data:u}=n,d=(0,l.useCallback)(async()=>{if("pending"===c)throw Error("No data for object of type ".concat(r," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===c)throw Error("Error while loading object of type ".concat(r," (uuid=").concat(t,"), cannot mutate"));return await a(u)},[c,u,a,r,t]);return(0,s.a)({queryFn:d,queryKey:[r,t,o],enabled:"pending"!==c&&"error"!==c&&i})}({uuid:t,query:h,queryFn:n,secondaryName:a,name:o,enabled:r})},useMutation:e=>{let{mutationFn:n,onSuccess:s,onError:r,withUpdate:i=!0}=e;return function(e){let{uuid:t,query:n,client:s,mutationFn:r,name:o,onSuccess:i,onError:c,withUpdate:u=!0}=e,{status:d,data:f}=n,h=(0,l.useCallback)(async e=>{if(null==t)throw Error("No uuid provided for object of type ".concat(o));if("pending"===d)throw Error("No data for object of type ".concat(o," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===d)throw Error("Error while loading object of type ".concat(o," (uuid=").concat(t,"), cannot mutate"));return await r(f,e)},[d,f,r,o,t]);return(0,a.D)({mutationFn:h,onSuccess:e=>{u&&s.setQueryData([o,t],e),null==i||i(e)},onError:c})}({uuid:t,query:h,client:d,mutationFn:n,name:o,onSuccess:s,onError:r,withUpdate:i})},useDestruction:e=>{let{mutationFn:n,onSuccess:s,onError:r}=e;return function(e){let{uuid:t,query:n,client:s,mutationFn:r,name:o,onSuccess:i,onError:c}=e,{status:u,data:d}=n,f=(0,l.useCallback)(async()=>{if(null==t)throw Error("No uuid provided for object of type ".concat(o));if("pending"===u)throw Error("No data for object of type ".concat(o," (uuid=").concat(t,"). ")+"Either the query is not enabled or the query is still loading.");if("error"===u)throw Error("Error while loading object of type ".concat(o," (uuid=").concat(t,"), cannot mutate"));return await r(d)},[u,d,r,o,t]);return(0,a.D)({mutationFn:f,onSuccess:e=>{s.removeQueries({queryKey:[o,t]}),null==i||i(e)},onError:c})}({uuid:t,query:h,client:d,mutationFn:n,name:o,onSuccess:s,onError:r})}}}},76057:function(e,t,n){"use strict";var a=n(2265);let s=a.forwardRef(function(e,t){let{title:n,titleId:s,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),n?a.createElement("title",{id:s},n):null,a.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))});t.Z=s}},function(e){e.O(0,[8173,8083,5790,3277,932,9226,4898,3215,6845,8026,595,6151,7051,3847,2302,2971,7023,1744],function(){return e(e.s=51172)}),_N_E=e.O()}]);