(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6310],{57562:function(e,t,n){Promise.resolve().then(n.bind(n,85202))},85202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a=n(57437),l=n(16463),s=n(2265),i=n(88726),r=n(40918),o=n(57605),c=n(94776),u=n(87138),d=n(82155),x=n(14088);function m(e){let{evaluationSet:t}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,a.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,a.jsx)(x.Fl,{})})," ",(0,a.jsx)(u.default,{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/evaluation/detail/",query:{evaluation_set_uuid:t.uuid}},children:t.name}),(0,a.jsx)("span",{className:"ms-4 text-sm text-stone-500",children:t.task})]}),(0,a.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,a.jsx)("div",{className:"flex flex-row py-4",children:(0,a.jsx)(d.h,{label:(0,a.jsx)(x.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})})]})}var h=n(31014),f=n(25524),v=n(39343),j=n(40711),p=n(37051),g=n(93847);let b=[{id:"clip_classification",label:"Clip Classification",value:"clip_classification"},{id:"clip_multi_label_classification",label:"Clip Multi Label Classification",value:"clip_multi_label_classification"},{id:"sound_event_detection",label:"Sound Event Detection",value:"sound_event_detection"},{id:"sound_event_classification",label:"Sound Event Classification",value:"sound_event_classification"}];function N(e){var t,n,l;let{onCreate:i,onError:r}=e,{handleSubmit:o,control:c,formState:{errors:u},register:d}=(0,v.cI)({resolver:(0,h.F)(j.YK),mode:"onChange"}),{mutateAsync:x}=(0,f.D)({mutationFn:p.Z.evaluationSets.create,onError:r}),m=(0,s.useCallback)(async e=>{let t=x(e);null==i||i(t)},[x,i]);return(0,a.jsxs)("form",{className:"w-full",onSubmit:o(m),children:[(0,a.jsx)(g.BZ,{label:"Name",name:"name",help:"Please provide a name this evaluation set.",error:null===(t=u.name)||void 0===t?void 0:t.message,children:(0,a.jsx)(g.II,{...d("name")})}),(0,a.jsx)(g.BZ,{label:"Description",name:"description",help:"Describe the purpose of this evaluation set.",error:null===(n=u.description)||void 0===n?void 0:n.message,children:(0,a.jsx)(g.Kx,{rows:6,...d("description")})}),(0,a.jsx)(g.BZ,{name:"task",label:"Select which task to evaluate",help:"Select the name of the particular Machine Learning task that you want to evaluate this model run on.",error:null===(l=u.task)||void 0===l?void 0:l.message,children:(0,a.jsx)(v.Qr,{control:c,name:"task",render:e=>{let{field:t}=e;return(0,a.jsx)(g.Ph,{options:b,selected:b.find(e=>e.value===t.value)||b[0],onChange:e=>t.onChange(e)})}})}),(0,a.jsx)(g.k4,{children:"Create Evaluation Set"})]})}function k(e){var t;let{onCreate:n}=e,{register:l,handleSubmit:i,setError:r,control:o,formState:{errors:c}}=(0,v.cI)({mode:"onChange"}),{mutateAsync:u}=(0,f.D)({mutationFn:p.Z.evaluationSets.import,onError:e=>{var t;(null===(t=e.response)||void 0===t?void 0:t.status)===422&&e.response.data.detail.forEach(e=>{r(e.loc[1],{message:e.msg})})}}),d=(0,s.useCallback)(async e=>{let t=new FormData,a=e.evaluation_set[0],l=e.task;t.append("evaluation_set",a),t.append("task",l);let s=u(t);null==n||n(s)},[u,n]);return(0,a.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:i(d),children:[(0,a.jsx)(g.BZ,{name:"evaluation_set",label:"Select an Evaluation Set file to import",help:"The file must be in AOEF format",error:null===(t=c.file)||void 0===t?void 0:t.message,children:(0,a.jsx)(g.II,{type:"file",...l("evaluation_set"),required:!0})}),(0,a.jsx)(g.BZ,{name:"task",label:"Select which task to evaluate",help:"Select the name of the particular Machine Learning task that you want to evaluate this model run on.",children:(0,a.jsx)(v.Qr,{control:o,name:"task",render:e=>{let{field:t}=e;return(0,a.jsx)(g.Ph,{options:b,selected:b.find(e=>e.value===t.value)||b[0],onChange:e=>t.onChange(e)})}})}),(0,a.jsxs)(g.k4,{children:[(0,a.jsx)(x.rG,{className:"inline-block h-6 w-6 align-middle mr-2"}),"Import"]})]})}var w=n(16315),_=n(63425),S=n(38875),C=n(33833),Z=n(30635);let y={},E=[];function F(){return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(x.aN,{className:"w-8 h-8 text-stone-500"}),(0,a.jsx)("p",{children:"No evaluation sets found."}),(0,a.jsxs)("p",{children:["To create an evaluation set, click on the",(0,a.jsxs)("span",{className:"text-emerald-500",children:[(0,a.jsx)(x.dt,{className:"inline-block mr-1 ml-2 w-4 h-4"}),"Create"," "]})," ","button above."]})]})}function I(e){let{onCreate:t}=e,{items:n,pagination:l,filter:s,isLoading:i}=function(){let{filter:e=y,fixed:t=E,pageSize:n=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,C.Z)({defaults:e,fixed:t}),{query:l,pagination:s,items:i,total:r}=(0,Z.Z)({name:"evaluation_sets",queryFn:p.Z.evaluationSets.getMany,pageSize:n,filter:a.filter});return{...l,items:i,filter:a,pagination:s,total:r}}();return(0,a.jsxs)("div",{className:"flex flex-col p-8 space-y-2 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(w.Z,{label:"Search",placeholder:"Search evaluation set...",value:s.get("search"),onChange:e=>s.set("search",e),onSubmit:()=>s.submit(),icon:(0,a.jsx)(x.Fl,{})})}),(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(o.Z,{mode:"text",title:"Import an Evaluation Set",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.rG,{className:"inline-block w-4 h-4 align-middle"})," ","Import"]}),children:()=>(0,a.jsx)(k,{onCreate:t})})}),(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(o.Z,{mode:"text",title:"Create Evaluation Set",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.dt,{className:"inline-block w-4 h-4 align-middle"})," Create"]}),children:()=>(0,a.jsx)(N,{onCreate:t})})})]}),i?(0,a.jsx)(r.Z,{}):(0,a.jsxs)(a.Fragment,{children:[0===n.length&&(0,a.jsx)(F,{}),(0,a.jsx)(S.Z,{items:n.map(e=>(0,a.jsx)(m,{evaluationSet:e},e.uuid))}),n.length>0&&(0,a.jsx)(_.Z,{...l})]})]})}var D=n(92814);function B(){let e=(0,l.useRouter)(),t=(0,s.useCallback)(t=>{i.ZP.promise(t,{loading:"Creating evaluation set... This can take a while when importing a large file.",success:"Evaluation set created!",error:"Failed to create evaluation set."}),t.then(t=>e.push("/evaluation/detail/?evaluation_set_uuid=".concat(t.uuid)))},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.Z,{text:"Evaluation Sets"}),(0,a.jsx)(I,{onCreate:t})]})}},40918:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437),l=n(4933);function s(){return(0,a.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center",children:(0,a.jsx)(l.Z,{})})}},56341:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437);function l(e){let{children:t}=e;return(0,a.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,a.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},68e3:function(e,t,n){"use strict";n.d(t,{H1:function(){return i},H2:function(){return r},H3:function(){return o},H4:function(){return c}});var a=n(57437),l=n(56800),s=n.n(l);function i(e){let{children:t,className:n,...l}=e;return(0,a.jsx)("h1",{className:s()("text-2xl font-bold text-stone-800 dark:text-stone-300",n),...l,children:t})}function r(e){let{children:t,className:n,...l}=e;return(0,a.jsx)("h2",{className:s()("text-xl font-bold text-stone-800 dark:text-stone-300",n),...l,children:t})}function o(e){let{children:t,className:n,...l}=e;return(0,a.jsx)("h3",{className:s()("text-lg font-semibold leading-7 items-center text-stone-800 dark:text-stone-300",n),...l,children:t})}function c(e){let{children:t,className:n,...l}=e;return(0,a.jsx)("h4",{className:s()(n,"text-md font-semibold leading-6 text-stone-800 dark:text-stone-300"),...l,children:t})}},92814:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437),l=n(56341),s=n(68e3);function i(e){let{text:t}=e;return(0,a.jsx)(l.Z,{children:(0,a.jsx)(s.H1,{children:t})})}},82155:function(e,t,n){"use strict";n.d(t,{Z:function(){return r},h:function(){return i}});var a=n(57437),l=n(87138),s=n(14088);function i(e){let{label:t,value:n}=e;return(0,a.jsxs)("div",{className:"flex flex-row mx-4 space-x-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-stone-500",children:t}),(0,a.jsx)("div",{className:"text-sm text-stone-700 dark:text-stone-300",children:n})]})}function r(e){let{dataset:t}=e;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold leading-7 text-stone-900 dark:text-stone-100",children:[(0,a.jsx)("span",{className:"inline-block w-6 h-6 align-middle text-stone-500",children:(0,a.jsx)(s.lQ,{})})," ",(0,a.jsx)(l.default,{className:"hover:font-bold hover:text-emerald-500",href:{pathname:"/datasets/detail/",query:{dataset_uuid:t.uuid}},children:t.name})]}),(0,a.jsx)("p",{className:"mt-1 w-full text-sm leading-5 text-stone-600 dark:text-stone-400",children:t.description})]}),(0,a.jsxs)("div",{className:"flex flex-row py-4",children:[(0,a.jsx)(i,{label:(0,a.jsx)(s.se,{className:"w-4 h-4 align-middle"}),value:t.recording_count.toString()}),(0,a.jsx)(i,{label:(0,a.jsx)(s.Qu,{className:"w-4 h-4 align-middle"}),value:t.created_on.toDateString()})]})]})}}},function(e){e.O(0,[8173,8083,5790,3277,231,932,9226,4898,3215,8726,6845,4880,7051,3847,3127,2971,7023,1744],function(){return e(e.s=57562)}),_N_E=e.O()}]);