(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6086],{42866:function(e,t,r){Promise.resolve().then(r.bind(r,44130))},16463:function(e,t,r){"use strict";var s=r(71169);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}}),r.o(s,"useSelectedLayoutSegment")&&r.d(t,{useSelectedLayoutSegment:function(){return s.useSelectedLayoutSegment}})},44130:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(57437),o=r(2265),n=r(88726),a=r(16463),i=r(14088),l=r(25524),d=r(93847),u=r(12098),c=r(31014),h=r(39343),b=r(37051),m=r(27918);function g(e){var t,r,n,a,i;let{register:g,handleSubmit:f,setError:p,formState:{errors:v}}=(0,h.cI)({resolver:(0,c.F)(m.i2),mode:"onChange"}),{mutateAsync:x}=(0,l.D)({mutationFn:b.Z.user.first}),{onCreate:k,onAuthenticationError:y}=e,w=(0,o.useCallback)(e=>{let t=x(e,{onError:e=>{var t;let{status:r}=null!==(t=e.response)&&void 0!==t?t:{};switch(r){case 401:null==y||y(e);break;case 409:p("email",{message:"Email already exists"});break;default:p("username",{message:"Unknown error"})}}});null==k||k(t)},[p,y,x,k]);return(0,s.jsxs)("form",{className:"flex flex-col gap-1",onSubmit:f(w),children:[(0,s.jsx)(d.BZ,{label:"Username",name:"username",help:"This name will be used to identify you in the app.",error:null===(t=v.username)||void 0===t?void 0:t.message,children:(0,s.jsx)(d.II,{...g("username")})}),(0,s.jsx)(d.BZ,{label:"Name",name:"name",error:null===(r=v.name)||void 0===r?void 0:r.message,help:"Please provide your full name. This is especially helpful for sharing your annotations, ensuring correct attribution.",children:(0,s.jsx)(d.II,{...g("name")})}),(0,s.jsx)(d.BZ,{label:"Email",name:"email",error:null===(n=v.email)||void 0===n?void 0:n.message,help:"Provide a valid email address. While not displayed in the app, it helps others contact you regarding annotated data.",children:(0,s.jsx)(d.II,{type:"email",...g("email")})}),(0,s.jsx)(d.BZ,{label:"Password",name:"password",error:null===(a=v.password)||void 0===a?void 0:a.message,help:"Create a strong password with at least 8 characters, including one number and one letter.",children:(0,s.jsx)(d.II,{type:"password",...g("password")})}),(0,s.jsx)(d.BZ,{label:"Confirm password",name:"password_confirm",error:null===(i=v.password_confirm)||void 0===i?void 0:i.message,help:"Enter the same password again.",children:(0,s.jsx)(d.II,{type:"password",...g("password_confirm")})}),(0,s.jsx)("div",{className:"flex flex-row justify-center",children:(0,s.jsx)(u.Z,{type:"submit",variant:"primary",children:"Create account"})})]})}var f=r(8990);function p(){let e=(0,a.useRouter)(),t=(0,o.useCallback)(t=>{n.ZP.promise(t.then(t=>(e.push("/login"),t)),{loading:"Creating account...",success:"Account created!",error:"Failed to create account"})},[e]),r=(0,o.useCallback)(()=>{n.ZP.error("This is not your first time here, is it?"),e.push("/login")},[e]);return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"flex flex-col max-w-prose gap-4",children:[(0,s.jsxs)("div",{className:"mb-4 flex flex-col items-center gap-4 text-center text-7xl",children:[(0,s.jsx)(i.b_,{width:128,height:128}),(0,s.jsx)("span",{className:"font-sans font-bold text-emerald-500 underline decoration-8",children:"Whombat"})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Welcome!"}),(0,s.jsx)("p",{className:"max-w-prose text-center",children:"Let's get started by creating your account. Provide your information and set up a secure password below."}),(0,s.jsx)(g,{onCreate:t,onAuthenticationError:r}),(0,s.jsx)(f.Z,{children:(0,s.jsx)("p",{className:"text-sm max-w-prose text-center",children:"Your data is stored locally on your computer and is not sent to any server."})})]})})}},12098:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var s=r(57437),o=r(56800),n=r.n(o),a=r(2265);let i={filled:{primary:"border-emerald-500 bg-emerald-300 hover:bg-emerald-500 dark:bg-emerald-600 dark:hover:bg-emerald-700 dark:ring-offset-opacity-50 disabled:bg-emerald-300 dark:disabled:bg-emerald-700",secondary:"border-stone-300 dark:border-stone-600 bg-stone-100 hover:bg-stone-200 dark:bg-stone-700 dark:hover:bg-stone-800 disabled:bg-stone-300 dark:disabled:bg-stone-700 dark:text-stone-400",danger:"border-rose-500 bg-rose-700 hover:bg-rose-800 dark:bg-rose-600 dark:hover:bg-rose-700 disabled:bg-rose-300 dark:disabled:bg-rose-700",success:"border-green-500 bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700 disabled:bg-green-300 dark:disabled:bg-green-700",warning:"border-yellow-500 bg-yellow-700 hover:bg-yellow-800 dark:bg-yellow-600 dark:hover:bg-yellow-700 disabled:bg-yellow-300 dark:disabled:bg-yellow-700",info:"border-blue-500 bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 disabled:bg-blue-300 dark:disabled:bg-blue-700",common:"border text-stone-900 dark:text-stone-100 disabled:text-stone-500 dark:disabled:text-stone-300"},outline:{primary:"border-emerald-500 hover:bg-emerald-300 dark:hover:bg-emerald-700",secondary:"border-stone-500 hover:bg-stone-300 dark:hover:bg-stone-700",danger:"border-rose-500 hover:bg-rose-300 dark:hover:bg-rose-700",success:"border-green-500 hover:bg-green-300 dark:hover:bg-green-700",warning:"border-yellow-500 hover:bg-yellow-300 dark:hover:bg-yellow-700",info:"border-blue-500 hover:bg-blue-300 dark:hover:bg-blue-700",common:"border bg-transparent text-stone-900 dark:text-stone-100"},text:{primary:"text-emerald-500 stroke-emerald-500 hover:stroke-emerald-300 dark:hover:stroke-emerald-800",secondary:"text-stone-500 stroke-stone-500 hover:stroke-stone-800 dark:hover:stroke-stone-300 disabled:stroke-stone-500 dark:disabled:stroke-stone-500",danger:"text-rose-500 stroke-rose-500 hover:stroke-rose-300 dark:hover:stroke-rose-800",success:"text-green-500 stroke-green-500 hover:stroke-green-300 dark:hover:stroke-green-800",warning:"text-yellow-500 stroke-yellow-500 hover:stroke-yellow-300 dark:hover:stroke-yellow-800",info:"text-blue-500 stroke-blue-500 hover:stroke-blue-300 dark:hover:stroke-blue-800",common:"bg-transparent hover:underline hover:decoration-solid hover:decoration-2 hover:underline-offset-2 hover:font-extrabold disabled:no-underline disabled:font-medium stroke-2 hover:stroke-4 disabled:stroke-1"}};function l(e){let{variant:t="primary",mode:r="filled",padding:s="p-2.5"}=e;return n()(i[r][t],i[r].common,"focus:ring-4 focus:ring-emerald-500/50 focus:outline-none",s,"group flex flex-row items-center rounded-lg text-center text-sm font-medium")}let d=(0,a.forwardRef)(function(e,t){let{children:r,variant:o="primary",mode:a="filled",padding:i="p-2.5",className:d,...u}=e,c=l({variant:o,mode:a,padding:i});return(0,s.jsx)("button",{className:n()(c,d),...u,ref:t,children:r})});t.Z=d},8990:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(57437),o=r(56800),n=r.n(o);function a(e){let{title:t,className:r,children:o}=e;return(0,s.jsxs)("div",{className:n()(r,"flex items-center p-3 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800"),role:"alert",children:[(0,s.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,s.jsx)("span",{className:"sr-only",children:"Info"}),(0,s.jsxs)("div",{children:[null!=t," ",o]})]})}},25524:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var s=r(2265),o=r(92812),n=r(69948),a=r(49010),i=r(56298),l=class extends a.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.Ym)(t.mutationKey)!==(0,i.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){let e=this.#r?.state??(0,o.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(93191),u=r(37832);function c(e,t){let r=(0,d.NL)(t),[o]=s.useState(()=>new l(r,e));s.useEffect(()=>{o.setOptions(e)},[o,e]);let a=s.useSyncExternalStore(s.useCallback(e=>o.subscribe(n.V.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=s.useCallback((e,t)=>{o.mutate(e,t).catch(u.Z)},[o]);if(a.error&&(0,u.L)(o.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}},37832:function(e,t,r){"use strict";function s(e,t){return"function"==typeof e?e(...t):!!e}function o(){}r.d(t,{L:function(){return s},Z:function(){return o}})}},function(e){e.O(0,[8173,8083,5790,3277,9226,4898,3215,8726,7051,3847,2971,7023,1744],function(){return e(e.s=42866)}),_N_E=e.O()}]);