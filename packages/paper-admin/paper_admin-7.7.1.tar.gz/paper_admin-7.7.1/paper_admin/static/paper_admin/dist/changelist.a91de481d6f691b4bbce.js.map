{"version":3,"file":"changelist.a91de481d6f691b4bbce.js","mappings":"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","sources":["webpack://paper-admin/./paper_admin/static/paper_admin/src/js/components/sortable_table/ListTree.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/js/components/sortable_table/SortableTable.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/components/date-range-filter/index.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/components/select2-filter/index.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-actions/paper-actions.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-pagination/paper-pagination.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/bem/paper-search-form/paper-search-form.js","webpack://paper-admin/./paper_admin/static/paper_admin/src/js/changelist.js"],"sourcesContent":["/**\n * @module ListTree\n */\n\n/**\n * @typedef {Object} module:ListTree.ListTreeNode\n * @property {string}       pk\n * @property {string}       parent\n * @property {HTMLElement}  element\n * @property {string[]}     childs\n */\n\n/**\n * Представление списка DOM-элементов в виде дерева.\n * Каждый DOM-элемент должен иметь data-атрибуты \"id\" и \"parent\".\n * Каждый дочерний узел должен идти после родителя.\n */\nexport default class ListTree {\n    /**\n     * @param {NodeList|Element[]} elements\n     */\n    constructor(elements) {\n        this._buildTree(elements);\n    }\n\n    /**\n     * Создание структуры узла дерева.\n     * @param {HTMLElement} child\n     * @returns {module:ListTree.ListTreeNode}\n     * @private\n     */\n    _createNode(child) {\n        const dataset = child.dataset;\n        return {\n            pk: dataset.id,\n            parent: dataset.parent,\n            element: child,\n            childs: []\n        };\n    }\n\n    /**\n     * Добавление узла дерева в карту, для быстрого поиска по ID.\n     * @param {module:ListTree.ListTreeNode} node\n     * @private\n     */\n    _addNode(node) {\n        if (node && (typeof node.pk !== \"undefined\")) {\n            this._nodes[node.pk] = node;\n            if (node.parent === \"\") {\n                this._roots.push(node);\n            }\n        }\n    }\n\n    /**\n     * Построение дерева из DOM-элементов.\n     * @param {NodeList|Element[]} elements\n     * @private\n     */\n    _buildTree(elements) {\n        const stack = [];\n\n        this._nodes = {};\n        this._roots = [];\n        elements.forEach(elem => {\n            const node = this._createNode(elem);\n            this._addNode(node);\n\n            while (stack.length) {\n                const stackNode = stack[0];\n                if (node.parent === stackNode.pk) {\n                    stackNode.childs.push(node.pk);\n                    stack.unshift(node);\n                    return;\n                }\n                stack.shift();\n            }\n\n            stack.unshift(node);\n        });\n    }\n\n    /**\n     * Получение узла по ID.\n     * @param {string} pk\n     * @returns {module:ListTree.ListTreeNode}\n     */\n    getNode(pk) {\n        if (!(pk in this._nodes)) {\n            throw new Error(`node ${pk} not found`);\n        }\n\n        return this._nodes[pk];\n    }\n\n    /**\n     * Получение корневых элементов.\n     * @returns {Element[]}\n     */\n    getRoots() {\n        return this._roots.map(rootNode => {\n            return rootNode.element;\n        });\n    }\n\n    /**\n     * Получение всех потомков узла.\n     * @param {string} pk\n     * @returns {Element[]}\n     */\n    getDescendants(pk) {\n        const node = this.getNode(pk);\n        return node.childs.reduce((result, childId) => {\n            const childNode = this.getNode(childId);\n            if (childNode) {\n                result.push(childNode.element);\n                result = result.concat(this.getDescendants(childId));\n            }\n            return result;\n        }, []);\n    }\n}\n","/**\n * Таблица с возможностью сортировки строк.\n * Каждая строка должна иметь атрибуты data-id и data-order-value.\n * В случае, если строки представляют дерево, то еще необходим атрибут data-parent.\n * @module SortableTable\n */\n\n/**\n * @typedef {Object} module:SortableTable.SortableTableOptions\n * @property {String}  url\n * @property {Boolean} [tree]\n * @property {String}  [handler]\n * @property {String}  [disabledClass]\n */\n\nimport Sortable from \"sortablejs\";\nimport ListTree from \"js/components/sortable_table/ListTree.js\";\n\nexport default class SortableTable {\n    /**\n     * @param {Element} table\n     * @param {module:SortableTable.SortableTableOptions} [options]\n     */\n    constructor(table, options) {\n        /** @type {module:SortableTable.SortableTableOptions} */\n        this.opts = Object.assign(\n            {\n                url: null,\n                tree: false,\n                handler: \".handler\",\n                disabledClass: \"disabled\"\n            },\n            options\n        );\n\n        /** @type {Element} */\n        this.table = table;\n\n        /** @type {Element} */\n        this.tbody = table.querySelector(\"tbody\");\n        if (!this.tbody) {\n            throw new Error(\"table body not found\");\n        }\n\n        /** @type {?ListTree} */\n        this.tree = null;\n\n        this._createSortable();\n    }\n\n    /**\n     * Инициализация плагина сортировки.\n     * @returns {Sortable}\n     * @private\n     */\n    _createSortable() {\n        return Sortable.create(this.tbody, {\n            animation: 0,\n            draggable: \"tr\",\n            handle: this.opts.handler,\n            filter: (event, row, instance) => {\n                if (row.classList.contains(this.opts.disabledClass)) {\n                    return true;\n                }\n\n                const handler = row.querySelector(this.opts.handler);\n                if (handler && handler.classList.contains(this.opts.disabledClass)) {\n                    return true;\n                }\n            },\n            ghostClass: \"sortable-ghost\",\n            onStart: this._onStart.bind(this),\n            onMove: this._onMove.bind(this),\n            onEnd: this._onEnd.bind(this)\n        });\n    }\n\n    /**\n     * Обработчик события начала перетаскивания.\n     * @param evt\n     * @private\n     */\n    _onStart(evt) {\n        const rows = this.tbody.querySelectorAll(\"tr\");\n\n        if (this.opts.tree) {\n            this.tree = new ListTree(rows);\n\n            // Блокируем все узлы, кроме соседних.\n            const currentParentId = evt.item.dataset.parent;\n            if (typeof currentParentId !== \"undefined\") {\n                rows.forEach(row => {\n                    const parentId = row.dataset.parent;\n                    if ((typeof parentId !== \"undefined\") && (parentId !== currentParentId)) {\n                        row.classList.add(this.opts.disabledClass);\n                    }\n                });\n            }\n        }\n    }\n\n    /**\n     * Обработчик события перетаскивания.\n     * @param evt\n     * @returns {boolean}\n     * @private\n     */\n    _onMove(evt) {\n        return !evt.related.classList.contains(this.opts.disabledClass);\n    }\n\n    /**\n     * Обработчик события завершения перетаскивания.\n     * @param evt\n     * @private\n     */\n    _onEnd(evt) {\n        // Снимаем блокировку со всех узлов.\n        const rows = this.tbody.querySelectorAll(\"tr\");\n        rows.forEach(row => {\n            row.classList.remove(this.opts.disabledClass);\n        });\n\n        const moved = this._getMovedRows(evt);\n        if (!moved.length || moved.length === 1) {\n            return;\n        }\n\n        this._normalizeTable(evt, moved);\n\n        const map = this._createOrderMap(evt, moved);\n\n        // блокировка областей сортировки на время выполнения запроса\n        const handlers = this.tbody.querySelectorAll(this.opts.handler);\n        handlers.forEach(handler => {\n            handler.classList.add(this.opts.disabledClass);\n        });\n\n        // отправка запроса на сервер\n        this._sendRequest(map).then(() => {\n            // снятие блокировки\n            handlers.forEach(handler => {\n                handler.classList.remove(this.opts.disabledClass);\n            });\n        });\n    }\n\n    /**\n     * Получение строк, чей порядок изменился после перетаскивания.\n     * @param evt\n     * @returns {HTMLElement[]}\n     * @private\n     */\n    _getMovedRows(evt) {\n        const sliceStart = Math.min(evt.oldIndex, evt.newIndex);\n        const sliceEnd = Math.max(evt.oldIndex, evt.newIndex);\n        const rows = this.tbody.querySelectorAll(\"tr\");\n        let slice = Array.prototype.slice.call(rows, sliceStart, sliceEnd + 1);\n        if (this.tree) {\n            // пропускаем узлы, не являющиеся соседними\n            const pk = evt.item.dataset.id;\n            const node = this.tree.getNode(pk);\n            slice = slice.filter(row => {\n                return row.dataset.parent === node.parent;\n            });\n        }\n        return slice;\n    }\n\n    /**\n     * Создание карты новых значений сортировки элементов.\n     * @param evt\n     * @param {HTMLElement[]} rows\n     * @returns {Object}\n     * @private\n     */\n    _createOrderMap(evt, rows) {\n        const pkArray = [];\n        const orderArray = [];\n\n        // заполнение массивов ID и сортировки\n        rows.forEach(row => {\n            const handle = row.querySelector(this.opts.handler);\n            if (handle) {\n                pkArray.push(row.dataset.id);\n                orderArray.push(parseInt(row.dataset.orderValue));\n            }\n        });\n\n        // циклический сдвиг значений сортировки\n        const movedDown = evt.oldIndex < evt.newIndex;\n        if (movedDown) {\n            orderArray.unshift(orderArray.pop());\n        } else {\n            orderArray.push(orderArray.shift());\n        }\n\n        return pkArray.reduce((result, pk, i) => {\n            result[pk] = orderArray[i];\n\n            // обновляем атрибут data-order-value\n            const row = this.tbody.querySelector(`tr[data-id=\"${pk}\"]`);\n            row.setAttribute(\"data-order-value\", orderArray[i]);\n\n            return result;\n        }, {});\n    }\n\n    /**\n     * Нормализация таблицы.\n     * Все дочерние строки перемещаются под своего родителя.\n     * Без этого метода может случиться ситуация, когда элемент\n     * был перемещен между своим соседом и его детьми.\n     * @param evt\n     * @param {Element[]} moved\n     * @private\n     */\n    _normalizeTable(evt, moved) {\n        if (!this.tree) {\n            return;\n        }\n\n        const pk = evt.item.dataset.id;\n        const node = this.tree.getNode(pk);\n        const prev = evt.item.previousElementSibling;\n        const next = evt.item.nextElementSibling;\n        const parents = moved.slice();\n        if (prev && next) {\n            // если предыдущая строка - сосед, а следующая - ребенок соседа,\n            // то сосед должен быть в списке нормализации.\n            const isPrevSibling = prev.dataset.parent === node.parent;\n            const isNextChild = next.dataset.parent === prev.dataset.id;\n            if (isPrevSibling && isNextChild && !parents.includes(prev)) {\n                parents.unshift(prev);\n            }\n        }\n\n        // перенос детей под родителя\n        parents.forEach(parent => {\n            const pk = parent.dataset.id;\n            const childs = this.tree.getDescendants(pk);\n            Element.prototype.after.apply(parent, childs);\n        });\n    }\n\n    /**\n     * Отправка новых значений сортировки на сервер.\n     * @param {Object} data\n     * @returns {Promise<Response>}\n     * @private\n     */\n    _sendRequest(data) {\n        return fetch(this.opts.url, {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }).then(response => {\n            if (!response.ok) {\n                const error = new Error(`${response.status} ${response.statusText}`);\n                error.response = response;\n                throw error;\n            }\n        });\n    }\n}\n","/* global flatpickr */\nimport XClass from \"data-xclass\";\nimport { dateFormats, flatpickr } from \"components/flatpickr/index.js\";\nimport { BaseComponent } from \"js/components/baseComponent.js\";\nimport getPossibleLocales from \"js/utilities/locale.js\";\n\nexport class DateRangeFilter extends BaseComponent {\n    get Defaults() {\n        return {\n            allowInput: true,\n            altInput: true,\n            locale: this._getLocale(),\n            dateFormat: this._getDateFormat(),\n            parseDate: function(value) {\n                return new Date(value);\n            }\n        };\n    }\n\n    constructor(element, options) {\n        super(options);\n\n        this.startElement = element.querySelector(\"[data-range-start]\");\n        flatpickr(this.startElement, this.options);\n\n        this.endElement = element.querySelector(\"[data-range-end]\");\n        flatpickr(this.endElement, this.options);\n\n        this.on(element, \"click\", event => {\n            const button = event.target.closest(\"[data-today]\");\n            if (button) {\n                const inputGroup = button.closest(\".input-group\");\n                const input = inputGroup && inputGroup.querySelector(\"input\");\n                if (input && input._flatpickr) {\n                    input._flatpickr.setDate(\"today\");\n                }\n            }\n        });\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this.startElement._flatpickr) {\n            this.startElement._flatpickr.destroy();\n        }\n\n        if (this.endElement._flatpickr) {\n            this.endElement._flatpickr.destroy();\n        }\n    }\n\n    _getLocale() {\n        for (const locale of getPossibleLocales()) {\n            if (flatpickr.l10ns[locale]) {\n                return locale;\n            }\n        }\n        return \"default\";\n    }\n\n    _getDateFormat() {\n        for (const locale of getPossibleLocales()) {\n            if (dateFormats[locale]) {\n                return dateFormats[locale];\n            }\n        }\n        return \"Y-m-d\";\n    }\n}\n\nXClass.register(\"paper-date-range-filter\", {\n    init: function (element) {\n        element._dateRangeFilter = new DateRangeFilter(element);\n    },\n    destroy: function (element) {\n        if (element._dateRangeFilter) {\n            element._dateRangeFilter.destroy();\n            delete element._dateRangeFilter;\n        }\n    }\n});\n","import XClass from \"data-xclass\";\nimport { Select2Component } from \"components/select2/index.js\";\n\nXClass.register(\"paper-select2-filter\", {\n    init: function (element) {\n        element._select2Instance = new Select2Component(element, {\n            width: \"100%\",\n            allowClear: true,\n            containerCssClass: \"select2-container--small\"\n        });\n    },\n    destroy: function (element) {\n        if (element._select2Instance) {\n            element._select2Instance.destroy();\n            delete element._select2Instance;\n        }\n    }\n});\n","/*global gettext, interpolate, ngettext*/\n\nimport \"./paper-actions.scss\";\n\nconst TOGGLE_ALL_ID = \"action-toggle\";\nconst CHECKBOX_CLASS = \"action-select\";\nconst CHECKBOX_LABEL_SELECTOR = \".action-checkbox .custom-control\";\nconst COUNTER_CLASS = \"paper-actions__counter\";\nconst QUESTION_CLASS = \"paper-actions__question\";\nconst ALL_CLASS = \"paper-actions__all\";\nconst CLEAR_CLASS = \"paper-actions__clear\";\nconst ACROSS_INPUT = \".paper-actions__select_across input.select-across\";\n\nfunction initActions(inputs) {\n    let lastChecked = null;\n    const table = document.getElementById(\"result_list\");\n    const allToggleInput = document.getElementById(TOGGLE_ALL_ID);\n\n    // клик на чекбокс \"выбрать все\"\n    allToggleInput.addEventListener(\"change\", () => {\n        const rows = inputs.map(input => input.closest(\"tr\"));\n        toggleRows(rows, allToggleInput.checked);\n        updateCounter(inputs);\n    });\n\n    // пользовательское событие выделения ряда таблицы\n    table.addEventListener(\"select\", event => {\n        const target = event.target;\n        if (target.tagName !== \"TR\" || target.closest(\"table\") !== table) {\n            return;\n        }\n\n        const state = Boolean(event.detail.state);\n        const checkbox = target.querySelector(`.${CHECKBOX_CLASS}`);\n        checkbox.checked = state;\n        target.classList.toggle(\"selected\", state);\n\n        // все ли чекбоксы выделены\n        allToggleInput.checked = inputs.find(input => !input.checked) == null;\n    });\n\n    table.addEventListener(\"click\", event => {\n        const target = event.target;\n\n        // клик вне строк таблицы\n        const row = target.closest(\"tr\");\n        if (!row) {\n            return;\n        }\n\n        const checkbox_clicked = target.closest(CHECKBOX_LABEL_SELECTOR);\n        const checkbox = row.querySelector(`.${CHECKBOX_CLASS}`);\n\n        if (event.shiftKey && lastChecked) {\n            // массовое выделение (через Shift)\n            const lastIndex = inputs.indexOf(lastChecked);\n            const targetIndex = inputs.indexOf(checkbox);\n            const startIndex = Math.min(lastIndex, targetIndex);\n            const endIndex = Math.max(lastIndex, targetIndex);\n            const input_slice = inputs.slice(startIndex, endIndex + 1);\n            const rows = input_slice.map(input => input.closest(\"tr\"));\n            toggleRows(rows, lastChecked.checked);\n        } else if (checkbox_clicked || (event.ctrlKey && !event.shiftKey)) {\n            // клик на чекбокс или на строку через Ctrl\n            lastChecked = checkbox;\n            toggleRows([row], !checkbox.checked);\n        }\n\n        updateCounter(inputs);\n    });\n\n    // отмена выделения текста при клике с удержанным Shift\n    table.addEventListener(\"mousedown\", event => {\n        const target = event.target;\n        if (event.shiftKey && (target.tagName === \"TD\" || target.tagName === \"TH\")) {\n            event.preventDefault();\n        }\n    });\n\n    // выбор всех записей таблицы\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        if (target.tagName === \"A\" && target.closest(`.${QUESTION_CLASS}`)) {\n            event.preventDefault();\n            selectAcross();\n        }\n    });\n\n    // очистка выбора\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        if (target.tagName === \"A\" && target.closest(`.${CLEAR_CLASS}`)) {\n            event.preventDefault();\n            allToggleInput.checked = false;\n            const rows = inputs.map(input => input.closest(\"tr\"));\n            toggleRows(rows, false);\n            clearAcross(inputs);\n            updateCounter(inputs);\n        }\n    });\n\n    protectEditForm();\n}\n\n/**\n * Требование подтверждения выполнения действия, если в форме были изменения.\n */\nfunction protectEditForm() {\n    let list_editable_changed = false;\n    const form = document.getElementById(\"changelist-form\");\n\n    form.addEventListener(\"change\", event => {\n        const target = event.target;\n        if (target.tagName === \"INPUT\") {\n            if (target.closest(`.${CHECKBOX_CLASS}`) || target.id === TOGGLE_ALL_ID) {\n                // nothing\n            } else {\n                list_editable_changed = true;\n            }\n        } else if (target.tagName === \"SELECT\") {\n            if (target.closest(\".action-action\")) {\n                // nothing\n            } else {\n                list_editable_changed = true;\n            }\n        } else {\n            list_editable_changed = true;\n        }\n    });\n\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        const action_button = target.closest('[name=\"index\"]');\n        if (action_button && list_editable_changed) {\n            const agree = confirm(\n                gettext(\n                    \"You have unsaved changes on individual editable fields. If you run an action, your unsaved changes will be lost.\"\n                )\n            );\n            if (!agree) {\n                event.preventDefault();\n            }\n        }\n    });\n\n    document.addEventListener(\"click\", event => {\n        const target = event.target;\n        const save_button = target.closest('[name=\"_save\"]');\n\n        const action_selects = document.querySelectorAll('.actions select[name=\"action\"]');\n        const action_changed = !Array.prototype.every.call(action_selects, select => {\n            return !select.value;\n        });\n\n        if (save_button && action_changed) {\n            let apply;\n            if (list_editable_changed) {\n                apply = confirm(\n                    gettext(\n                        \"You have selected an action, but you haven't saved your changes to individual fields yet. Please click OK to save. You'll need to re-run the action.\"\n                    )\n                );\n            } else {\n                apply = confirm(\n                    gettext(\n                        \"You have selected an action, and you haven't made any changes on individual fields. You're probably looking for the Go button rather than the Save button.\"\n                    )\n                );\n            }\n            if (!apply) {\n                event.preventDefault();\n            }\n        }\n    });\n}\n\n/**\n * Установка/сброс галочки в чекбоксах.\n * @param {HTMLTableRowElement[]} rows\n * @param {Boolean} checked\n */\nfunction toggleRows(rows, checked) {\n    rows.forEach(row => {\n        if (row && row.tagName === \"TR\") {\n            row.dispatchEvent(\n                new CustomEvent(\"select\", {\n                    bubbles: true,\n                    cancelable: true,\n                    detail: {\n                        state: checked\n                    }\n                })\n            );\n        }\n    });\n}\n\nfunction updateCounter(inputs) {\n    const selected = inputs.reduce((sum, input) => sum + (input.checked ? 1 : 0), 0);\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.innerHTML = interpolate(\n            ngettext(\"%(sel)s of %(cnt)s selected\", \"%(sel)s of %(cnt)s selected\", selected),\n            {\n                sel: selected,\n                cnt: counter.dataset.actionsIcnt\n            },\n            true\n        );\n    });\n\n    if (selected === inputs.length) {\n        showQuestion();\n    } else {\n        clearAcross(inputs);\n    }\n}\n\n/**\n * Показ ссылки \"выбрать всё\"\n */\nfunction showQuestion() {\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = false;\n    });\n}\n\n/**\n * Установка значения input-элементу для выполнения действия над всеми элементами\n * @param {Boolean} value\n */\nfunction setAcrossInput(value) {\n    const acrossInput = document.querySelectorAll(ACROSS_INPUT);\n    acrossInput.forEach(input => {\n        input.value = Number(value);\n    });\n}\n\nfunction selectAcross() {\n    setAcrossInput(true);\n\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.hidden = true;\n    });\n\n    const allContainers = document.querySelectorAll(`.${ALL_CLASS}`);\n    allContainers.forEach(container => {\n        container.hidden = false;\n    });\n\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = true;\n    });\n\n    const clear_buttons = document.querySelectorAll(`.${CLEAR_CLASS}`);\n    clear_buttons.forEach(clear_button => {\n        clear_button.hidden = false;\n    });\n}\n\nfunction clearAcross(inputs) {\n    setAcrossInput(false);\n\n    const counters = document.querySelectorAll(`.${COUNTER_CLASS}`);\n    counters.forEach(counter => {\n        counter.hidden = false;\n    });\n\n    const allContainers = document.querySelectorAll(`.${ALL_CLASS}`);\n    allContainers.forEach(container => {\n        container.hidden = true;\n    });\n\n    const selected = inputs.reduce((sum, input) => sum + (input.checked ? 1 : 0), 0);\n    const questions = document.querySelectorAll(`.${QUESTION_CLASS}`);\n    questions.forEach(question => {\n        question.hidden = selected !== inputs.length;\n    });\n\n    const clear_buttons = document.querySelectorAll(`.${CLEAR_CLASS}`);\n    clear_buttons.forEach(clear_button => {\n        clear_button.hidden = true;\n    });\n}\n\nconst checkboxes = document.querySelectorAll(`.${CHECKBOX_CLASS}`);\nif (checkboxes.length) {\n    initActions(Array.from(checkboxes));\n}\n","// Ctrl + Arrows navigation\nwindow.addEventListener(\"keydown\", event => {\n    if (event.defaultPrevented) {\n        return; // Do nothing if the event was already processed\n    }\n\n    if (event.ctrlKey) {\n        const pagination = document.querySelector(\".paper-pagination\");\n        if (!pagination) {\n            return;\n        }\n\n        switch (event.key) {\n            case \"Left\":\n            case \"ArrowLeft\":\n                pagination.querySelector('.page-link[aria-label=\"Previous\"]').click();\n                break;\n            case \"Right\":\n            case \"ArrowRight\":\n                pagination.querySelector('.page-link[aria-label=\"Next\"]').click();\n                break;\n            default:\n                // Quit when this doesn't handle the key event.\n                return;\n        }\n\n        // Cancel the default action to avoid it being handled twice\n        event.preventDefault();\n    }\n});\n","import \"./paper-search-form.scss\";\n\n// Выделение текста в поле поиска при фокусе\nconst form = document.querySelector(\".paper-search-form\");\nconst input = form && form.querySelector(\".form-control\");\ninput &&\n    input.addEventListener(\"focus\", () => {\n        input.select();\n    });\n","import XClass from \"data-xclass\";\nimport SortableTable from \"js/components/sortable_table/SortableTable.js\";\nimport { Select2Component } from \"components/select2/index.js\";\n\n// -----------------\n//  JS Components\n// -----------------\nimport \"components/date-range-filter/index.js\";\nimport \"components/select2-filter/index.js\";\n\n// -----------------\n//  BEM\n// -----------------\nimport \"bem/paper-actions/paper-actions.js\";\nimport \"bem/paper-filter/paper-filter.js\";\nimport \"bem/paper-pagination/paper-pagination.js\";\nimport \"bem/paper-search-form/paper-search-form.js\";\n\n// -----------------\n//  Styles\n// -----------------\nimport \"css/changelist.scss\";\n\n// Select2 для выпадающего списка действий над списком\nXClass.register(\"paper-actions\", {\n    init: function (element) {\n        element._paperActions = new Select2Component(element, {\n            allowClear: true,\n            containerCssClass: \"select2-container--small\",\n            minimumResultsForSearch: Infinity\n        });\n    },\n    destroy: function (element) {\n        if (element._paperActions) {\n            element._paperActions.destroy();\n            delete element._paperActions;\n        }\n    }\n});\n\n// Сортируемые таблицы\nconst table = document.getElementById(\"result_list\");\nif (table && table.classList.contains(\"paper-table--sortable\")) {\n    new SortableTable(table, {\n        url: table.dataset.orderUrl,\n        tree: table.classList.contains(\"paper-table--tree\"),\n        handler: \".paper-table__sort-handler\"\n    });\n}\n"],"names":["ListTree","constructor","elements","this","_buildTree","_createNode","child","dataset","pk","id","parent","element","childs","_addNode","node","_nodes","_roots","push","stack","forEach","elem","length","stackNode","unshift","shift","getNode","Error","getRoots","map","rootNode","getDescendants","reduce","result","childId","childNode","concat","SortableTable","table","options","opts","Object","assign","url","tree","handler","disabledClass","tbody","querySelector","_createSortable","Sortable","create","animation","draggable","handle","filter","event","row","instance","classList","contains","ghostClass","onStart","_onStart","bind","onMove","_onMove","onEnd","_onEnd","evt","rows","querySelectorAll","currentParentId","item","parentId","add","related","remove","moved","_getMovedRows","_normalizeTable","_createOrderMap","handlers","_sendRequest","then","sliceStart","Math","min","oldIndex","newIndex","sliceEnd","max","slice","Array","prototype","call","pkArray","orderArray","parseInt","orderValue","pop","i","setAttribute","prev","previousElementSibling","next","nextElementSibling","parents","isPrevSibling","isNextChild","includes","Element","after","apply","data","fetch","method","credentials","headers","body","JSON","stringify","response","ok","error","status","statusText","DateRangeFilter","BaseComponent","Defaults","allowInput","altInput","locale","_getLocale","dateFormat","_getDateFormat","parseDate","value","Date","super","startElement","flatpickr","endElement","on","button","target","closest","inputGroup","input","_flatpickr","setDate","destroy","getPossibleLocales","l10ns","dateFormats","XClass","register","init","_dateRangeFilter","_select2Instance","Select2Component","width","allowClear","containerCssClass","TOGGLE_ALL_ID","CHECKBOX_CLASS","COUNTER_CLASS","QUESTION_CLASS","ALL_CLASS","CLEAR_CLASS","ACROSS_INPUT","toggleRows","checked","tagName","dispatchEvent","CustomEvent","bubbles","cancelable","detail","state","updateCounter","inputs","selected","sum","document","counter","innerHTML","interpolate","ngettext","sel","cnt","actionsIcnt","question","hidden","clearAcross","setAcrossInput","Number","container","clear_button","checkboxes","lastChecked","getElementById","allToggleInput","addEventListener","Boolean","toggle","find","checkbox_clicked","checkbox","shiftKey","lastIndex","indexOf","targetIndex","startIndex","endIndex","ctrlKey","preventDefault","list_editable_changed","confirm","gettext","save_button","action_selects","action_changed","every","select","protectEditForm","initActions","from","window","defaultPrevented","pagination","key","click","form","_paperActions","minimumResultsForSearch","Infinity","orderUrl"],"sourceRoot":""}