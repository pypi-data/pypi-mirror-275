[tox]
isolated_build = True
envlist = py3{8,9,10,11,12}

[testenv]
description = testing against {basepython}
deps = pipenv
commands=
    pipenv install --dev
    pipenv run pytest tests --numprocesses auto

[testenv:cov]
description = generate code coverage report in html
deps = pipenv
commands=
    pipenv install --dev
    pipenv run pytest --numprocesses auto --cov --cov-report=term --cov-report=html {toxinidir}/tests

[testenv:doc]
description = generate sphinx documentation in html
basepython = python3.12
deps = pipenv
commands =
    pipenv install --categories doc
    pipenv run sphinx-build {toxinidir}/docs/source/ {toxinidir}/docs/build/html
