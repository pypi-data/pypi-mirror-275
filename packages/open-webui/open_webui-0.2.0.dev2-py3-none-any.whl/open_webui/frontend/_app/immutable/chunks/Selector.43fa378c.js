import{s as oe,z as se,A as re,h as C,d as _,j as c,i as N,r as E,C as K,p as Te,X as ze,w as ae,P as Pe,W as Be,o as je,a as B,c as j,f as V,g as I,E as Se,F as We,G as Ae,H as Le,K as _e,l as L,m as H,n as G,Q as ge,u as ie,R as ue}from"./scheduler.bc5a4ea8.js";import{S as fe,i as ce,f as He,b as q,d as Z,m as R,a as M,t as O,e as U,g as x,c as ee}from"./index.5e522d2c.js";import{e as ne}from"./each.eda84b85.js";import{T as de}from"./create.427b7dc2.js";import{z as qe,g as Ze,A as Re,M as Ue,p as Fe,c as Ge,d as Ye}from"./menu-trigger.003d1e90.js";import{f as Je}from"./index.1df8947f.js";import{M as le,m as Ke,u as Qe,e as Xe}from"./index.dca233de.js";import{a as J}from"./Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{s as xe,k as pe}from"./index.9a95918f.js";import{b as et}from"./index.d36de17a.js";/* empty css                                               */function tt(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(l){e=re(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=C(e);t=re(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(l,s){N(l,e,s),E(e,t)},p(l,[s]){s&2&&c(e,"stroke-width",l[1]),s&1&&c(e,"class",l[0])},i:K,o:K,d(l){l&&_(e)}}}function lt(r,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,s=a.strokeWidth)},[l,s]}class st extends fe{constructor(e){super(),ce(this,e,lt,tt,oe,{className:0,strokeWidth:1})}}function rt(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(l){e=re(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=C(e);t=re(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m4.5 12.75 6 6 9-13.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(l,s){N(l,e,s),E(e,t)},p(l,[s]){s&2&&c(e,"stroke-width",l[1]),s&1&&c(e,"class",l[0])},i:K,o:K,d(l){l&&_(e)}}}function at(r,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,s=a.strokeWidth)},[l,s]}class nt extends fe{constructor(e){super(),ce(this,e,at,rt,oe,{className:0,strokeWidth:1})}}function ot(r){let e,t;return{c(){e=se("svg"),t=se("path"),this.h()},l(l){e=re(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=C(e);t=re(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(l,s){N(l,e,s),E(e,t)},p(l,[s]){s&2&&c(e,"stroke-width",l[1]),s&1&&c(e,"class",l[0])},i:K,o:K,d(l){l&&_(e)}}}function it(r,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,s=a.strokeWidth)},[l,s]}class ut extends fe{constructor(e){super(),ce(this,e,it,ot,oe,{className:0,strokeWidth:1})}}function ve(r,e,t){const l=r.slice();return l[27]=e[t],l}function we(r,e,t){const l=r.slice();return l[30]=e[t],l}function ft(r){let e;return{c(){e=L(r[1])},l(t){e=H(t,r[1])},m(t,l){N(t,e,l)},p(t,l){l[0]&2&&G(e,t[1])},d(t){t&&_(e)}}}function ct(r){let e=r[7].label+"",t;return{c(){t=L(e)},l(l){t=H(l,e)},m(l,s){N(l,t,s)},p(l,s){s[0]&128&&e!==(e=l[7].label+"")&&G(t,e)},d(l){l&&_(t)}}}function dt(r){let e,t,l,s;function a(h,k){return h[7]?ct:ft}let n=a(r),i=n(r);return l=new st({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),i.c(),t=B(),q(l.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var k=C(e);i.l(k),t=j(k),Z(l.$$.fragment,k),k.forEach(_),this.h()},h(){c(e,"class","flex w-full text-left px-0.5 outline-none bg-transparent truncate text-lg font-semibold placeholder-gray-400 focus:outline-none")},m(h,k){N(h,e,k),i.m(e,null),E(e,t),R(l,e,null),s=!0},p(h,k){n===(n=a(h))&&i?i.p(h,k):(i.d(1),i=n(h),i&&(i.c(),i.m(e,t)))},i(h){s||(M(l.$$.fragment,h),s=!0)},o(h){O(l.$$.fragment,h),s=!1},d(h){h&&_(e),i.d(),U(l)}}}function ke(r){let e,t,l,s,a,n,i,h,k;return t=new ut({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),q(t.$$.fragment),l=B(),s=V("input"),a=B(),n=V("hr"),this.h()},l(g){e=I(g,"DIV",{class:!0});var d=C(e);Z(t.$$.fragment,d),l=j(d),s=I(d,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),d.forEach(_),a=j(g),n=I(g,"HR",{class:!0}),this.h()},h(){c(s,"id","model-search-input"),c(s,"class","w-full text-sm bg-transparent outline-none"),c(s,"placeholder",r[3]),c(s,"autocomplete","off"),c(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-3"),c(n,"class","border-gray-100 dark:border-gray-800")},m(g,d){N(g,e,d),R(t,e,null),E(e,l),E(e,s),ge(s,r[5]),N(g,a,d),N(g,n,d),i=!0,h||(k=ie(s,"input",r[19]),h=!0)},p(g,d){(!i||d[0]&8)&&c(s,"placeholder",g[3]),d[0]&32&&s.value!==g[5]&&ge(s,g[5])},i(g){i||(M(t.$$.fragment,g),i=!0)},o(g){O(t.$$.fragment,g),i=!1},d(g){g&&(_(e),_(a),_(n)),U(t),h=!1,k()}}}function be(r){let e,t,l=r[11].t("No results found")+"",s;return{c(){e=V("div"),t=V("div"),s=L(l),this.h()},l(a){e=I(a,"DIV",{});var n=C(e);t=I(n,"DIV",{class:!0});var i=C(t);s=H(i,l),i.forEach(_),n.forEach(_),this.h()},h(){c(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(a,n){N(a,e,n),E(e,t),E(t,s)},p(a,n){n[0]&2048&&l!==(l=a[11].t("No results found")+"")&&G(s,l)},d(a){a&&_(e)}}}function $e(r){var s,a,n,i,h,k;let e,t,l;return t=new de({props:{content:`${(a=(s=r[30].model.ollama)==null?void 0:s.details)!=null&&a.quantization_level?((i=(n=r[30].model.ollama)==null?void 0:n.details)==null?void 0:i.quantization_level)+" ":""}${(h=r[30].model.ollama)!=null&&h.size?`(${(((k=r[30].model.ollama)==null?void 0:k.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[mt]},$$scope:{ctx:r}}}),{c(){e=V("div"),q(t.$$.fragment),this.h()},l(g){e=I(g,"DIV",{class:!0});var d=C(e);Z(t.$$.fragment,d),d.forEach(_),this.h()},h(){c(e,"class","flex ml-1 items-center")},m(g,d){N(g,e,d),R(t,e,null),l=!0},p(g,d){var b,y,p,v,w,$;const D={};d[0]&512&&(D.content=`${(y=(b=g[30].model.ollama)==null?void 0:b.details)!=null&&y.quantization_level?((v=(p=g[30].model.ollama)==null?void 0:p.details)==null?void 0:v.quantization_level)+" ":""}${(w=g[30].model.ollama)!=null&&w.size?`(${((($=g[30].model.ollama)==null?void 0:$.size)/1024**3).toFixed(1)}GB)`:""}`),d[0]&33554944&&(D.$$scope={dirty:d,ctx:g}),t.$set(D)},i(g){l||(M(t.$$.fragment,g),l=!0)},o(g){O(t.$$.fragment,g),l=!1},d(g){g&&_(e),U(t)}}}function mt(r){var s,a;let e,t=(((a=(s=r[30].model.ollama)==null?void 0:s.details)==null?void 0:a.parameter_size)??"")+"",l;return{c(){e=V("span"),l=L(t),this.h()},l(n){e=I(n,"SPAN",{class:!0});var i=C(e);l=H(i,t),i.forEach(_),this.h()},h(){c(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400")},m(n,i){N(n,e,i),E(e,l)},p(n,i){var h,k;i[0]&512&&t!==(t=(((k=(h=n[30].model.ollama)==null?void 0:h.details)==null?void 0:k.parameter_size)??"")+"")&&G(l,t)},d(n){n&&_(e)}}}function Ee(r){let e,t;return e=new de({props:{content:"External",$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,s){R(e,l,s),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function ht(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1oe5yxi"&&(e.innerHTML=t),this.h()},h(){c(e,"class","")},m(l,s){N(l,e,s)},p:K,d(l){l&&_(e)}}}function ye(r){var l,s,a;let e,t;return e=new de({props:{content:`${pe((a=(s=(l=r[30].model)==null?void 0:l.info)==null?void 0:s.meta)==null?void 0:a.description).replaceAll(`
`,"<br>")}`,$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,i){R(e,n,i),t=!0},p(n,i){var k,g,d;const h={};i[0]&512&&(h.content=`${pe((d=(g=(k=n[30].model)==null?void 0:k.info)==null?void 0:g.meta)==null?void 0:d.description).replaceAll(`
`,"<br>")}`),i[0]&33554432&&(h.$$scope={dirty:i,ctx:n}),e.$set(h)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function _t(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-asg5tw"&&(e.innerHTML=t),this.h()},h(){c(e,"class","")},m(l,s){N(l,e,s)},p:K,d(l){l&&_(e)}}}function Me(r){let e,t,l;return t=new nt({}),{c(){e=V("div"),q(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=C(e);Z(t.$$.fragment,a),a.forEach(_),this.h()},h(){c(e,"class","ml-auto")},m(s,a){N(s,e,a),R(t,e,null),l=!0},i(s){l||(M(t.$$.fragment,s),l=!0)},o(s){O(t.$$.fragment,s),l=!1},d(s){s&&_(e),U(t)}}}function De(r){var z,o,u,f,P;let e,t,l,s,a=r[30].label+"",n,i,h,k,g,d,D,b,y=r[30].model.owned_by==="ollama"&&(((o=(z=r[30].model.ollama)==null?void 0:z.details)==null?void 0:o.parameter_size)??"")!==""&&$e(r),p=r[30].model.owned_by==="openai"&&Ee(r),v=((P=(f=(u=r[30].model)==null?void 0:u.info)==null?void 0:f.meta)==null?void 0:P.description)&&ye(r),w=r[0]===r[30].value&&Me();function $(){return r[20](r[30])}return{c(){e=V("button"),t=V("div"),l=V("div"),s=V("div"),n=L(a),i=B(),y&&y.c(),h=B(),p&&p.c(),k=B(),v&&v.c(),g=B(),w&&w.c(),this.h()},l(S){e=I(S,"BUTTON",{"aria-label":!0,class:!0});var T=C(e);t=I(T,"DIV",{class:!0});var A=C(t);l=I(A,"DIV",{class:!0});var F=C(l);s=I(F,"DIV",{class:!0});var Q=C(s);n=H(Q,a),Q.forEach(_),i=j(F),y&&y.l(F),F.forEach(_),h=j(A),p&&p.l(A),k=j(A),v&&v.l(A),A.forEach(_),g=j(T),w&&w.l(T),T.forEach(_),this.h()},h(){c(s,"class","line-clamp-1"),c(l,"class","flex items-center"),c(t,"class","flex items-center gap-2"),c(e,"aria-label","model-item"),c(e,"class","flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(S,T){N(S,e,T),E(e,t),E(t,l),E(l,s),E(s,n),E(l,i),y&&y.m(l,null),E(t,h),p&&p.m(t,null),E(t,k),v&&v.m(t,null),E(e,g),w&&w.m(e,null),d=!0,D||(b=ie(e,"click",$),D=!0)},p(S,T){var A,F,Q,m,Y;r=S,(!d||T[0]&512)&&a!==(a=r[30].label+"")&&G(n,a),r[30].model.owned_by==="ollama"&&(((F=(A=r[30].model.ollama)==null?void 0:A.details)==null?void 0:F.parameter_size)??"")!==""?y?(y.p(r,T),T[0]&512&&M(y,1)):(y=$e(r),y.c(),M(y,1),y.m(l,null)):y&&(x(),O(y,1,1,()=>{y=null}),ee()),r[30].model.owned_by==="openai"?p?T[0]&512&&M(p,1):(p=Ee(r),p.c(),M(p,1),p.m(t,k)):p&&(x(),O(p,1,1,()=>{p=null}),ee()),(Y=(m=(Q=r[30].model)==null?void 0:Q.info)==null?void 0:m.meta)!=null&&Y.description?v?(v.p(r,T),T[0]&512&&M(v,1)):(v=ye(r),v.c(),M(v,1),v.m(t,null)):v&&(x(),O(v,1,1,()=>{v=null}),ee()),r[0]===r[30].value?w?T[0]&513&&M(w,1):(w=Me(),w.c(),M(w,1),w.m(e,null)):w&&(x(),O(w,1,1,()=>{w=null}),ee())},i(S){d||(M(y),M(p),M(v),M(w),d=!0)},o(S){O(y),O(p),O(v),O(w),d=!1},d(S){S&&_(e),y&&y.d(),p&&p.d(),v&&v.d(),w&&w.d(),D=!1,b()}}}function Ne(r){let e,t=r[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[5]})+"",l,s,a;return{c(){e=V("button"),l=L(t),this.h()},l(n){e=I(n,"BUTTON",{class:!0});var i=C(e);l=H(i,t),i.forEach(_),this.h()},h(){c(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(n,i){N(n,e,i),E(e,l),s||(a=ie(e,"click",r[21]),s=!0)},p(n,i){i[0]&2080&&t!==(t=n[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:n[5]})+"")&&G(l,t)},d(n){n&&_(e),s=!1,a()}}}function Ve(r){let e,t=r[10][r[27]].digest+"",l;return{c(){e=V("div"),l=L(t),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=C(e);l=H(a,t),a.forEach(_),this.h()},h(){c(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(s,a){N(s,e,a),E(e,l)},p(s,a){a[0]&1024&&t!==(t=s[10][s[27]].digest+"")&&G(l,t)},d(s){s&&_(e)}}}function gt(r){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,s;function a(){return r[22](r[27])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(n){e=I(n,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-gray-800 dark:text-gray-100")},m(n,i){N(n,e,i),l||(s=ie(e,"click",a),l=!0)},p(n,i){r=n},d(n){n&&_(e),l=!1,s()}}}function Ie(r){let e,t,l,s=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,a,n,i,h,k=r[27]+"",g,d,D="pullProgress"in r[10][r[27]]?`(${r[10][r[27]].pullProgress}%)`:"",b,y,p,v,w,$,z,o="digest"in r[10][r[27]]&&r[10][r[27]].digest&&Ve(r);return w=new de({props:{content:r[11].t("Cancel"),$$slots:{default:[gt]},$$scope:{ctx:r}}}),{c(){e=V("div"),t=V("div"),l=V("div"),l.innerHTML=s,a=B(),n=V("div"),i=V("div"),h=L('Downloading "'),g=L(k),d=L('" '),b=L(D),y=B(),o&&o.c(),p=B(),v=V("div"),q(w.$$.fragment),$=B(),this.h()},l(u){e=I(u,"DIV",{class:!0});var f=C(e);t=I(f,"DIV",{class:!0});var P=C(t);l=I(P,"DIV",{class:!0,"data-svelte-h":!0}),ue(l)!=="svelte-102rp4j"&&(l.innerHTML=s),a=j(P),n=I(P,"DIV",{class:!0});var S=C(n);i=I(S,"DIV",{class:!0});var T=C(i);h=H(T,'Downloading "'),g=H(T,k),d=H(T,'" '),b=H(T,D),T.forEach(_),y=j(S),o&&o.l(S),S.forEach(_),P.forEach(_),p=j(f),v=I(f,"DIV",{class:!0});var A=C(v);Z(w.$$.fragment,A),A.forEach(_),$=j(f),f.forEach(_),this.h()},h(){c(l,"class","-ml-2 mr-2.5 translate-y-0.5"),c(i,"class","line-clamp-1"),c(n,"class","flex flex-col self-start"),c(t,"class","flex"),c(v,"class","mr-2 translate-y-0.5"),c(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(u,f){N(u,e,f),E(e,t),E(t,l),E(t,a),E(t,n),E(n,i),E(i,h),E(i,g),E(i,d),E(i,b),E(n,y),o&&o.m(n,null),E(e,p),E(e,v),R(w,v,null),E(e,$),z=!0},p(u,f){(!z||f[0]&1024)&&k!==(k=u[27]+"")&&G(g,k),(!z||f[0]&1024)&&D!==(D="pullProgress"in u[10][u[27]]?`(${u[10][u[27]].pullProgress}%)`:"")&&G(b,D),"digest"in u[10][u[27]]&&u[10][u[27]].digest?o?o.p(u,f):(o=Ve(u),o.c(),o.m(n,null)):o&&(o.d(1),o=null);const P={};f[0]&2048&&(P.content=u[11].t("Cancel")),f[0]&33555456&&(P.$$scope={dirty:f,ctx:u}),w.$set(P)},i(u){z||(M(w.$$.fragment,u),z=!0)},o(u){O(w.$$.fragment,u),z=!1},d(u){u&&_(e),o&&o.d(),U(w)}}}function pt(r){let e,t,l,s=!(r[5].trim()in r[10])&&r[5]&&r[8]&&r[13].role==="admin",a,n,i,h,k,g,d=r[2]&&ke(r),D=ne(r[9]),b=[];for(let o=0;o<D.length;o+=1)b[o]=De(we(r,D,o));const y=o=>O(b[o],1,1,()=>{b[o]=null});let p=null;D.length||(p=be(r));let v=s&&Ne(r),w=ne(Object.keys(r[10])),$=[];for(let o=0;o<w.length;o+=1)$[o]=Ie(ve(r,w,o));const z=o=>O($[o],1,1,()=>{$[o]=null});return{c(){d&&d.c(),e=B(),t=V("div");for(let o=0;o<b.length;o+=1)b[o].c();p&&p.c(),l=B(),v&&v.c(),a=B();for(let o=0;o<$.length;o+=1)$[o].c();n=B(),i=V("div"),h=B(),k=V("div"),this.h()},l(o){d&&d.l(o),e=j(o),t=I(o,"DIV",{class:!0});var u=C(t);for(let f=0;f<b.length;f+=1)b[f].l(u);p&&p.l(u),l=j(u),v&&v.l(u),a=j(u);for(let f=0;f<$.length;f+=1)$[f].l(u);u.forEach(_),n=j(o),i=I(o,"DIV",{class:!0}),C(i).forEach(_),h=j(o),k=I(o,"DIV",{class:!0}),C(k).forEach(_),this.h()},h(){c(t,"class","px-3 my-2 max-h-64 overflow-y-auto scrollbar-hidden svelte-141e0sl"),c(i,"class","hidden w-[42rem]"),c(k,"class","hidden w-[32rem]")},m(o,u){d&&d.m(o,u),N(o,e,u),N(o,t,u);for(let f=0;f<b.length;f+=1)b[f]&&b[f].m(t,null);p&&p.m(t,null),E(t,l),v&&v.m(t,null),E(t,a);for(let f=0;f<$.length;f+=1)$[f]&&$[f].m(t,null);N(o,n,u),N(o,i,u),N(o,h,u),N(o,k,u),g=!0},p(o,u){if(o[2]?d?(d.p(o,u),u[0]&4&&M(d,1)):(d=ke(o),d.c(),M(d,1),d.m(e.parentNode,e)):d&&(x(),O(d,1,1,()=>{d=null}),ee()),u[0]&2625){D=ne(o[9]);let f;for(f=0;f<D.length;f+=1){const P=we(o,D,f);b[f]?(b[f].p(P,u),M(b[f],1)):(b[f]=De(P),b[f].c(),M(b[f],1),b[f].m(t,l))}for(x(),f=D.length;f<b.length;f+=1)y(f);ee(),!D.length&&p?p.p(o,u):D.length?p&&(p.d(1),p=null):(p=be(o),p.c(),p.m(t,l))}if(u[0]&9504&&(s=!(o[5].trim()in o[10])&&o[5]&&o[8]&&o[13].role==="admin"),s?v?v.p(o,u):(v=Ne(o),v.c(),v.m(t,a)):v&&(v.d(1),v=null),u[0]&68608){w=ne(Object.keys(o[10]));let f;for(f=0;f<w.length;f+=1){const P=ve(o,w,f);$[f]?($[f].p(P,u),M($[f],1)):($[f]=Ie(P),$[f].c(),M($[f],1),$[f].m(t,null))}for(x(),f=w.length;f<$.length;f+=1)z(f);ee()}},i(o){if(!g){M(d);for(let u=0;u<D.length;u+=1)M(b[u]);for(let u=0;u<w.length;u+=1)M($[u]);g=!0}},o(o){O(d),b=b.filter(Boolean);for(let u=0;u<b.length;u+=1)O(b[u]);$=$.filter(Boolean);for(let u=0;u<$.length;u+=1)O($[u]);g=!1},d(o){o&&(_(e),_(t),_(n),_(i),_(h),_(k)),d&&d.d(o),_e(b,o),p&&p.d(),v&&v.d(),_e($,o)}}}function vt(r){let e;const t=r[18].default,l=Se(t,r,r[25],null),s=l||pt(r);return{c(){s&&s.c()},l(a){s&&s.l(a)},m(a,n){s&&s.m(a,n),e=!0},p(a,n){l?l.p&&(!e||n[0]&33554432)&&We(l,t,a,a[25],e?Le(t,a[25],n,null):Ae(a[25]),null):s&&s.p&&(!e||n[0]&12141)&&s.p(a,e?n:[-1,-1])},i(a){e||(M(s,a),e=!0)},o(a){O(s,a),e=!1},d(a){s&&s.d(a)}}}function wt(r){let e,t,l,s;return e=new Re({props:{class:"relative w-full","aria-label":r[1],$$slots:{default:[dt]},$$scope:{ctx:r}}}),l=new Ue({props:{class:" z-40 "+(r[12]?"w-full":`${r[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none ",transition:Je,side:r[12]?"bottom":"bottom-start",sideOffset:4,$$slots:{default:[vt]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment),t=B(),q(l.$$.fragment)},l(a){Z(e.$$.fragment,a),t=j(a),Z(l.$$.fragment,a)},m(a,n){R(e,a,n),N(a,t,n),R(l,a,n),s=!0},p(a,n){const i={};n[0]&2&&(i["aria-label"]=a[1]),n[0]&33554562&&(i.$$scope={dirty:n,ctx:a}),e.$set(i);const h={};n[0]&4112&&(h.class=" z-40 "+(a[12]?"w-full":`${a[4]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none "),n[0]&4096&&(h.side=a[12]?"bottom":"bottom-start"),n[0]&33566573&&(h.$$scope={dirty:n,ctx:a}),l.$set(h)},i(a){s||(M(e.$$.fragment,a),M(l.$$.fragment,a),s=!0)},o(a){O(e.$$.fragment,a),O(l.$$.fragment,a),s=!1},d(a){a&&_(t),U(e,a),U(l,a)}}}function kt(r){let e,t,l;function s(n){r[24](n)}let a={onOpenChange:r[23],$$slots:{default:[wt]},$$scope:{ctx:r}};return r[6]!==void 0&&(a.open=r[6]),e=new qe({props:a}),Te.push(()=>He(e,"open",s)),{c(){q(e.$$.fragment)},l(n){Z(e.$$.fragment,n)},m(n,i){R(e,n,i),l=!0},p(n,i){const h={};i[0]&32&&(h.onOpenChange=n[23]),i[0]&33570815&&(h.$$scope={dirty:i,ctx:n}),!t&&i[0]&64&&(t=!0,h.open=n[6],ze(()=>t=!1)),e.$set(h)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){U(e,n)}}}function bt(r,e,t){let l,s,a,n,i;ae(r,le,m=>t(10,s=m)),ae(r,Ke,m=>t(12,n=m)),ae(r,Qe,m=>t(13,i=m));let{$$slots:h={},$$scope:k}=e;const g=Pe("i18n");ae(r,g,m=>t(11,a=m)),Be();let{value:d=""}=e,{placeholder:D="Select a model"}=e,{searchEnabled:b=!0}=e,{searchPlaceholder:y=a.t("Search a model")}=e,{items:p=[]}=e,{className:v="w-[30rem]"}=e,w=!1,$="",z="",o=null;const u=async()=>{const m=z.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(s),s[m]){J.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:m}));return}if(Object.keys(s).length===3){J.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const Y=await Fe(localStorage.token,m,"0").catch(te=>(J.error(te),null));if(Y){const te=Y.body.pipeThrough(new TextDecoderStream).pipeThrough(xe(`
`)).getReader();for(;;)try{const{value:X,done:Ce}=await te.read();if(Ce)break;let Oe=X.split(`
`);for(const he of Oe)if(he!==""){let W=JSON.parse(he);if(console.log(W),W.error)throw W.error;if(W.detail)throw W.detail;if(W.id&&(le.set({...s,[m]:{...s[m],requestId:W.id,reader:te,done:!1}}),console.log(W)),W.status)if(W.digest){let me=0;W.completed?me=Math.round(W.completed/W.total*1e3)/10:me=100,le.set({...s,[m]:{...s[m],pullProgress:me,digest:W.digest}})}else J.success(W.status),le.set({...s,[m]:{...s[m],done:W.status==="success"}})}}catch(X){console.log(X),typeof X!="string"&&(X=X.message),J.error(X)}s[m].done?(J.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:m})),Xe.set(await et(localStorage.token))):J.error(a.t("Download canceled")),delete s[m],le.set({...s})}};je(async()=>{t(8,o=await Ze(localStorage.token).catch(m=>!1))});const f=async m=>{const{reader:Y,requestId:te}=s[m];Y&&(await Y.cancel(),await Ge(localStorage.token,te),delete s[m],le.set({...s}),await Ye(localStorage.token,m),J.success(`${m} download has been canceled`))};function P(){z=this.value,t(5,z)}const S=m=>{t(0,d=m.value),t(6,w=!1)},T=()=>{u()},A=m=>{f(m)},F=async()=>{t(5,z=""),window.setTimeout(()=>{var m;return(m=document.getElementById("model-search-input"))==null?void 0:m.focus()},0)};function Q(m){w=m,t(6,w)}return r.$$set=m=>{"value"in m&&t(0,d=m.value),"placeholder"in m&&t(1,D=m.placeholder),"searchEnabled"in m&&t(2,b=m.searchEnabled),"searchPlaceholder"in m&&t(3,y=m.searchPlaceholder),"items"in m&&t(17,p=m.items),"className"in m&&t(4,v=m.className),"$$scope"in m&&t(25,k=m.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&131073&&t(7,$=p.find(m=>m.value===d)??""),r.$$.dirty[0]&131104&&t(9,l=z?p.filter(m=>m.value.toLowerCase().includes(z.toLowerCase())):p)},[d,D,b,y,v,z,w,$,o,l,s,a,n,i,g,u,f,p,h,P,S,T,A,F,Q,k]}class zt extends fe{constructor(e){super(),ce(this,e,bt,kt,oe,{value:0,placeholder:1,searchEnabled:2,searchPlaceholder:3,items:17,className:4},null,[-1,-1])}}export{zt as S};
//# sourceMappingURL=Selector.43fa378c.js.map
