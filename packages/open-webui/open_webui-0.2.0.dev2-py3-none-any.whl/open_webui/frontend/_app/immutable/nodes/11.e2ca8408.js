import{s as Is,f as u,a as w,l as N,g as d,h as f,c as k,R as bt,m as S,d as c,j as n,Q as K,U as Ds,i as O,r as o,V as Gl,u as F,O as Vs,n as A,K as vl,v as vs,w as Kl,P as Ts,o as Ns,p as gs,X as Ss,C as gl,t as As,T as Ms,z as Ql,A as xl,S as $l,e as es}from"../chunks/scheduler.bc5a4ea8.js";import{S as Ps,i as Cs,a as Ve,t as et,c as ts,f as Os,b as bs,d as ws,m as ks,e as ys,g as ls}from"../chunks/index.5e522d2c.js";import{e as tt}from"../chunks/each.eda84b85.js";import{a as ss}from"../chunks/Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{g as Bs}from"../chunks/navigation.01f37cd6.js";import{e as as}from"../chunks/index.dca233de.js";import{a as Ls}from"../chunks/index.6db751cf.js";import{b as Us}from"../chunks/index.d36de17a.js";import{A as js}from"../chunks/AdvancedParams.a797b5e7.js";import{C as Hs}from"../chunks/Checkbox.f3d4e893.js";function rs(l,e,t){const a=l.slice();return a[36]=e[t],a}function os(l,e,t){const a=l.slice();return a[39]=e[t],a[40]=e,a[41]=t,a}function ns(l,e,t){const a=l.slice();return a[42]=e[t],a}function Rs(l){let e,t;return{c(){e=Ql("svg"),t=Ql("path"),this.h()},l(a){e=xl(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=f(e);t=xl(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),f(t).forEach(c),s.forEach(c),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-8")},m(a,s){O(a,e,s),o(e,t)},p:gl,d(a){a&&c(e)}}}function zs(l){let e,t;return{c(){e=u("img"),this.h()},l(a){e=d(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){$l(e.src,t=l[9].meta.profile_image_url)||n(e,"src",t),n(e,"alt","modelfile profile"),n(e,"class","rounded-full w-20 h-20 object-cover")},m(a,s){O(a,e,s)},p(a,s){s[0]&1536&&!$l(e.src,t=a[9].meta.profile_image_url)&&n(e,"src",t)},d(a){a&&c(e)}}}function is(l){let e,t=l[42].name+"",a,s;return{c(){e=u("option"),a=N(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var _=f(e);a=S(_,t),_.forEach(c),this.h()},h(){e.__value=s=l[42].id,K(e,e.__value),n(e,"class","text-gray-900")},m(r,_){O(r,e,_),o(e,a)},p(r,_){_[0]&1024&&t!==(t=r[42].name+"")&&A(a,t),_[0]&1024&&s!==(s=r[42].id)&&(e.__value=s,K(e,e.__value))},d(r){r&&c(e)}}}function qs(l){let e,t=l[11].t("Show")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Show")+"")&&A(a,t)},d(s){s&&c(e)}}}function Fs(l){let e,t=l[11].t("Hide")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Hide")+"")&&A(a,t)},d(s){s&&c(e)}}}function cs(l){let e,t,a,s;function r(b){l[25](b)}let _={};return l[7]!==void 0&&(_.params=l[7]),t=new js({props:_}),gs.push(()=>Os(t,"params",r)),t.$on("change",l[26]),{c(){e=u("div"),bs(t.$$.fragment),this.h()},l(b){e=d(b,"DIV",{class:!0});var y=f(e);ws(t.$$.fragment,y),y.forEach(c),this.h()},h(){n(e,"class","my-2")},m(b,y){O(b,e,y),ks(t,e,null),s=!0},p(b,y){const U={};!a&&y[0]&128&&(a=!0,U.params=b[7],Ss(()=>a=!1)),t.$set(U)},i(b){s||(Ve(t.$$.fragment,b),s=!0)},o(b){et(t.$$.fragment,b),s=!1},d(b){b&&c(e),ys(t)}}}function Js(l){let e,t=l[11].t("Custom")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Custom")+"")&&A(a,t)},d(s){s&&c(e)}}}function Ws(l){let e,t=l[11].t("Default")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Default")+"")&&A(a,t)},d(s){s&&c(e)}}}function us(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',a,s;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),bt(e)!=="svelte-1syph4x"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-1 px-2 text-xs flex rounded transition"),n(e,"type","button")},m(r,_){O(r,e,_),a||(s=F(e,"click",l[28]),a=!0)},p:gl,d(r){r&&c(e),a=!1,s()}}}function ds(l){let e;function t(r,_){return r[9].meta.suggestion_prompts.length>0?Ys:Xs}let a=t(l),s=a(l);return{c(){e=u("div"),s.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var _=f(e);s.l(_),_.forEach(c),this.h()},h(){n(e,"class","flex flex-col space-y-1 mt-2")},m(r,_){O(r,e,_),s.m(e,null)},p(r,_){a===(a=t(r))&&s?s.p(r,_):(s.d(1),s=a(r),s&&(s.c(),s.m(e,null)))},d(r){r&&c(e),s.d()}}}function Xs(l){let e,t="No suggestion prompts";return{c(){e=u("div"),e.textContent=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-18dnedh"&&(e.textContent=t),this.h()},h(){n(e,"class","text-xs text-center")},m(a,s){O(a,e,s)},p:gl,d(a){a&&c(e)}}}function Ys(l){let e,t=tt(l[9].meta.suggestion_prompts),a=[];for(let s=0;s<t.length;s+=1)a[s]=fs(os(l,t,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=es()},l(s){for(let r=0;r<a.length;r+=1)a[r].l(s);e=es()},m(s,r){for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(s,r);O(s,e,r)},p(s,r){if(r[0]&2560){t=tt(s[9].meta.suggestion_prompts);let _;for(_=0;_<t.length;_+=1){const b=os(s,t,_);a[_]?a[_].p(b,r):(a[_]=fs(b),a[_].c(),a[_].m(e.parentNode,e))}for(;_<a.length;_+=1)a[_].d(1);a.length=t.length}},d(s){s&&c(e),vl(a,s)}}}function fs(l){let e,t,a,s,r,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,y,U;function I(){l[29].call(t,l[40],l[41])}function M(){return l[30](l[41])}return{c(){e=u("div"),t=u("input"),s=w(),r=u("button"),r.innerHTML=_,b=w(),this.h()},l(v){e=d(v,"DIV",{class:!0});var E=f(e);t=d(E,"INPUT",{class:!0,placeholder:!0}),s=k(E),r=d(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),bt(r)!=="svelte-svd6gc"&&(r.innerHTML=_),b=k(E),E.forEach(c),this.h()},h(){n(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),n(t,"placeholder",a=l[11].t("Write a prompt suggestion (e.g. Who are you?)")),n(r,"class","px-2"),n(r,"type","button"),n(e,"class","flex border dark:border-gray-600 rounded-lg")},m(v,E){O(v,e,E),o(e,t),K(t,l[39].content),o(e,s),o(e,r),o(e,b),y||(U=[F(t,"input",I),F(r,"click",M)],y=!0)},p(v,E){l=v,E[0]&2048&&a!==(a=l[11].t("Write a prompt suggestion (e.g. Who are you?)"))&&n(t,"placeholder",a),E[0]&1536&&t.value!==l[39].content&&K(t,l[39].content)},d(v){v&&c(e),y=!1,vs(U)}}}function ps(l){let e,t,a,s,r=l[11].t(l[36])+"",_,b,y;function U(...I){return l[31](l[36],...I)}return t=new Hs({props:{state:l[8][l[36]]?"checked":"unchecked"}}),t.$on("change",U),{c(){e=u("div"),bs(t.$$.fragment),a=w(),s=u("div"),_=N(r),b=w(),this.h()},l(I){e=d(I,"DIV",{class:!0});var M=f(e);ws(t.$$.fragment,M),a=k(M),s=d(M,"DIV",{class:!0});var v=f(s);_=S(v,r),v.forEach(c),b=k(M),M.forEach(c),this.h()},h(){n(s,"class","py-1.5 text-sm w-full capitalize"),n(e,"class","flex items-center gap-2")},m(I,M){O(I,e,M),ks(t,e,null),o(e,a),o(e,s),o(s,_),o(e,b),y=!0},p(I,M){l=I;const v={};M[0]&256&&(v.state=l[8][l[36]]?"checked":"unchecked"),t.$set(v),(!y||M[0]&2304)&&r!==(r=l[11].t(l[36])+"")&&A(_,r)},i(I){y||(Ve(t.$$.fragment,I),y=!0)},o(I){et(t.$$.fragment,I),y=!1},d(I){I&&c(e),ys(t)}}}function Zs(l){let e,t=l[11].t("Show")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Show")+"")&&A(a,t)},d(s){s&&c(e)}}}function Gs(l){let e,t=l[11].t("Hide")+"",a;return{c(){e=u("span"),a=N(t),this.h()},l(s){e=d(s,"SPAN",{class:!0});var r=f(e);a=S(r,t),r.forEach(c),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,r){O(s,e,r),o(e,a)},p(s,r){r[0]&2048&&t!==(t=s[11].t("Hide")+"")&&A(a,t)},d(s){s&&c(e)}}}function _s(l){let e,t,a;return{c(){e=u("div"),t=u("textarea"),this.h()},l(s){e=d(s,"DIV",{});var r=f(e);t=d(r,"TEXTAREA",{class:!0,rows:!0}),f(t).forEach(c),r.forEach(c),this.h()},h(){n(t,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(t,"rows","10"),t.value=a=JSON.stringify(l[9],null,2),t.disabled=!0,t.readOnly=!0},m(s,r){O(s,e,r),o(e,t)},p(s,r){r[0]&1536&&a!==(a=JSON.stringify(s[9],null,2))&&(t.value=a)},d(s){s&&c(e)}}}function hs(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(a){e=d(a,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-qf5fty"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-1.5 self-center")},m(a,s){O(a,e,s)},d(a){a&&c(e)}}}function Ks(l){let e,t,a,s,r,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',b,y,U=l[11].t("Back")+"",I,M,v,E,D,j,h,Be,Q,se,ue,Te=l[11].t("Name")+"",Le,lt,st,Ne,X,Ue,at,ae,de,Se=l[11].t("Model ID")+"",je,rt,ot,Ae,Y,He,nt,m,P,re=l[11].t("Base Model (From)")+"",Z,ge,Me,B,W,oe=l[11].t("Select a base model")+"",Re,it,ne,ze,ct=l[11].t("Description")+"",wt,Gt,ut,ie,kt,Kt,be,qe,Fe,dt=l[11].t("Model Params")+"",yt,Qt,x,we,Je,ft=l[11].t("System Prompt")+"",Et,xt,pt,ce,$t,ke,We,_t=l[11].t("Advanced Params")+"",It,el,fe,tl,ll,pe,_e,ye,Xe,ht=l[11].t("Prompt suggestions")+"",Dt,sl,he,al,rl,ol,Ee,Ye,Ze,mt=l[11].t("Capabilities")+"",Vt,nl,Pe,il,me,Ie,Ge,vt=l[11].t("JSON Preview")+"",Tt,cl,ve,ul,dl,Ke,G,Qe,gt=l[11].t("Save & Create")+"",Nt,fl,St,T,pl,bl;function wl(i,p){return i[9].meta.profile_image_url?zs:Rs}let At=wl(l),$=At(l),xe=tt(l[10].filter(ms)),H=[];for(let i=0;i<xe.length;i+=1)H[i]=is(ns(l,xe,i));function kl(i,p){return i[3]?Fs:qs}let Mt=kl(l),ee=Mt(l),C=l[3]&&cs(l);function yl(i,p){return i[9].meta.suggestion_prompts===null?Ws:Js}let Pt=yl(l),te=Pt(l),R=l[9].meta.suggestion_prompts!==null&&us(l),z=l[9].meta.suggestion_prompts&&ds(l),Ce=tt(Object.keys(l[8])),V=[];for(let i=0;i<Ce.length;i+=1)V[i]=ps(rs(l,Ce,i));const Es=i=>et(V[i],1,1,()=>{V[i]=null});function El(i,p){return i[4]?Gs:Zs}let Ct=El(l),le=Ct(l),q=l[4]&&_s(l),J=l[5]&&hs();return{c(){e=u("div"),t=u("input"),a=w(),s=u("button"),r=u("div"),r.innerHTML=_,b=w(),y=u("div"),I=N(U),M=w(),v=u("form"),E=u("div"),D=u("div"),j=u("button"),$.c(),Be=w(),Q=u("div"),se=u("div"),ue=u("div"),Le=N(Te),lt=N("*"),st=w(),Ne=u("div"),X=u("input"),at=w(),ae=u("div"),de=u("div"),je=N(Se),rt=N("*"),ot=w(),Ae=u("div"),Y=u("input"),nt=w(),m=u("div"),P=u("div"),Z=N(re),ge=w(),Me=u("div"),B=u("select"),W=u("option"),Re=N(oe);for(let i=0;i<H.length;i+=1)H[i].c();it=w(),ne=u("div"),ze=u("div"),wt=N(ct),Gt=w(),ut=u("div"),ie=u("input"),Kt=w(),be=u("div"),qe=u("div"),Fe=u("div"),yt=N(dt),Qt=w(),x=u("div"),we=u("div"),Je=u("div"),Et=N(ft),xt=w(),pt=u("div"),ce=u("textarea"),$t=w(),ke=u("div"),We=u("div"),It=N(_t),el=w(),fe=u("button"),ee.c(),tl=w(),C&&C.c(),ll=w(),pe=u("div"),_e=u("div"),ye=u("div"),Xe=u("div"),Dt=N(ht),sl=w(),he=u("button"),te.c(),al=w(),R&&R.c(),rl=w(),z&&z.c(),ol=w(),Ee=u("div"),Ye=u("div"),Ze=u("div"),Vt=N(mt),nl=w(),Pe=u("div");for(let i=0;i<V.length;i+=1)V[i].c();il=w(),me=u("div"),Ie=u("div"),Ge=u("div"),Tt=N(vt),cl=w(),ve=u("button"),le.c(),ul=w(),q&&q.c(),dl=w(),Ke=u("div"),G=u("button"),Qe=u("div"),Nt=N(gt),fl=w(),J&&J.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var p=f(e);t=d(p,"INPUT",{type:!0,accept:!0}),a=k(p),s=d(p,"BUTTON",{class:!0});var g=f(s);r=d(g,"DIV",{class:!0,"data-svelte-h":!0}),bt(r)!=="svelte-1klo87r"&&(r.innerHTML=_),b=k(g),y=d(g,"DIV",{class:!0});var De=f(y);I=S(De,U),De.forEach(c),g.forEach(c),M=k(p),v=d(p,"FORM",{class:!0});var L=f(v);E=d(L,"DIV",{class:!0});var Il=f(E);D=d(Il,"DIV",{class:!0});var Dl=f(D);j=d(Dl,"BUTTON",{class:!0,type:!0});var Vl=f(j);$.l(Vl),Vl.forEach(c),Dl.forEach(c),Il.forEach(c),Be=k(L),Q=d(L,"DIV",{class:!0});var Ot=f(Q);se=d(Ot,"DIV",{class:!0});var Bt=f(se);ue=d(Bt,"DIV",{class:!0});var _l=f(ue);Le=S(_l,Te),lt=S(_l,"*"),_l.forEach(c),st=k(Bt),Ne=d(Bt,"DIV",{});var Tl=f(Ne);X=d(Tl,"INPUT",{class:!0,placeholder:!0}),Tl.forEach(c),Bt.forEach(c),at=k(Ot),ae=d(Ot,"DIV",{class:!0});var Lt=f(ae);de=d(Lt,"DIV",{class:!0});var hl=f(de);je=S(hl,Se),rt=S(hl,"*"),hl.forEach(c),ot=k(Lt),Ae=d(Lt,"DIV",{});var Nl=f(Ae);Y=d(Nl,"INPUT",{class:!0,placeholder:!0}),Nl.forEach(c),Lt.forEach(c),Ot.forEach(c),nt=k(L),m=d(L,"DIV",{class:!0});var Ut=f(m);P=d(Ut,"DIV",{class:!0});var Sl=f(P);Z=S(Sl,re),Sl.forEach(c),ge=k(Ut),Me=d(Ut,"DIV",{});var Al=f(Me);B=d(Al,"SELECT",{class:!0,placeholder:!0});var ml=f(B);W=d(ml,"OPTION",{class:!0});var Ml=f(W);Re=S(Ml,oe),Ml.forEach(c);for(let Oe=0;Oe<H.length;Oe+=1)H[Oe].l(ml);ml.forEach(c),Al.forEach(c),Ut.forEach(c),it=k(L),ne=d(L,"DIV",{class:!0});var jt=f(ne);ze=d(jt,"DIV",{class:!0});var Pl=f(ze);wt=S(Pl,ct),Pl.forEach(c),Gt=k(jt),ut=d(jt,"DIV",{});var Cl=f(ut);ie=d(Cl,"INPUT",{class:!0,placeholder:!0}),Cl.forEach(c),jt.forEach(c),Kt=k(L),be=d(L,"DIV",{class:!0});var Ht=f(be);qe=d(Ht,"DIV",{class:!0});var Ol=f(qe);Fe=d(Ol,"DIV",{class:!0});var Bl=f(Fe);yt=S(Bl,dt),Bl.forEach(c),Ol.forEach(c),Qt=k(Ht),x=d(Ht,"DIV",{class:!0});var $e=f(x);we=d($e,"DIV",{class:!0});var Rt=f(we);Je=d(Rt,"DIV",{class:!0});var Ll=f(Je);Et=S(Ll,ft),Ll.forEach(c),xt=k(Rt),pt=d(Rt,"DIV",{});var Ul=f(pt);ce=d(Ul,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),f(ce).forEach(c),Ul.forEach(c),Rt.forEach(c),$t=k($e),ke=d($e,"DIV",{class:!0});var zt=f(ke);We=d(zt,"DIV",{class:!0});var jl=f(We);It=S(jl,_t),jl.forEach(c),el=k(zt),fe=d(zt,"BUTTON",{class:!0,type:!0});var Hl=f(fe);ee.l(Hl),Hl.forEach(c),zt.forEach(c),tl=k($e),C&&C.l($e),$e.forEach(c),Ht.forEach(c),ll=k(L),pe=d(L,"DIV",{class:!0});var qt=f(pe);_e=d(qt,"DIV",{class:!0});var Ft=f(_e);ye=d(Ft,"DIV",{class:!0});var Jt=f(ye);Xe=d(Jt,"DIV",{class:!0});var Rl=f(Xe);Dt=S(Rl,ht),Rl.forEach(c),sl=k(Jt),he=d(Jt,"BUTTON",{class:!0,type:!0});var zl=f(he);te.l(zl),zl.forEach(c),Jt.forEach(c),al=k(Ft),R&&R.l(Ft),Ft.forEach(c),rl=k(qt),z&&z.l(qt),qt.forEach(c),ol=k(L),Ee=d(L,"DIV",{class:!0});var Wt=f(Ee);Ye=d(Wt,"DIV",{class:!0});var ql=f(Ye);Ze=d(ql,"DIV",{class:!0});var Fl=f(Ze);Vt=S(Fl,mt),Fl.forEach(c),ql.forEach(c),nl=k(Wt),Pe=d(Wt,"DIV",{class:!0});var Jl=f(Pe);for(let Oe=0;Oe<V.length;Oe+=1)V[Oe].l(Jl);Jl.forEach(c),Wt.forEach(c),il=k(L),me=d(L,"DIV",{class:!0});var Xt=f(me);Ie=d(Xt,"DIV",{class:!0});var Yt=f(Ie);Ge=d(Yt,"DIV",{class:!0});var Wl=f(Ge);Tt=S(Wl,vt),Wl.forEach(c),cl=k(Yt),ve=d(Yt,"BUTTON",{class:!0,type:!0});var Xl=f(ve);le.l(Xl),Xl.forEach(c),Yt.forEach(c),ul=k(Xt),q&&q.l(Xt),Xt.forEach(c),dl=k(L),Ke=d(L,"DIV",{class:!0});var Yl=f(Ke);G=d(Yl,"BUTTON",{class:!0,type:!0});var Zt=f(G);Qe=d(Zt,"DIV",{class:!0});var Zl=f(Qe);Nt=S(Zl,gt),Zl.forEach(c),fl=k(Zt),J&&J.l(Zt),Zt.forEach(c),Yl.forEach(c),L.forEach(c),p.forEach(c),this.h()},h(){n(t,"type","file"),t.hidden=!0,n(t,"accept","image/*"),n(r,"class","self-center"),n(y,"class","self-center font-medium text-sm"),n(s,"class","flex space-x-1"),n(j,"class",h=(l[9].meta.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),n(j,"type","button"),n(D,"class","self-center"),n(E,"class","flex justify-center my-4"),n(ue,"class","text-sm font-semibold mb-2"),n(X,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(X,"placeholder",Ue=l[11].t("Name your model")),X.required=!0,n(se,"class","flex-1"),n(de,"class","text-sm font-semibold mb-2"),n(Y,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(Y,"placeholder",He=l[11].t("Add a model id")),Y.required=!0,n(ae,"class","flex-1"),n(Q,"class","my-2 flex space-x-2"),n(P,"class","text-sm font-semibold mb-2"),W.__value=null,K(W,W.__value),n(W,"class","text-gray-900"),n(B,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(B,"placeholder","Select a base model (e.g. llama3, gpt-4o)"),B.required=!0,l[9].base_model_id===void 0&&Ds(()=>l[21].call(B)),n(m,"class","my-2"),n(ze,"class","text-sm font-semibold mb-2"),n(ie,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),n(ie,"placeholder",kt=l[11].t("Add a short description about what this model does")),n(ne,"class","my-2"),n(Fe,"class","self-center text-sm font-semibold"),n(qe,"class","flex w-full justify-between"),n(Je,"class","text-xs font-semibold mb-2"),n(ce,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),n(ce,"placeholder",`Write your model system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),n(ce,"rows","4"),n(we,"class","my-1"),n(We,"class","self-center text-xs font-semibold"),n(fe,"class","p-1 px-3 text-xs flex rounded transition"),n(fe,"type","button"),n(ke,"class","flex w-full justify-between"),n(x,"class","mt-2"),n(be,"class","my-2"),n(Xe,"class","self-center text-sm font-semibold"),n(he,"class","p-1 text-xs flex rounded transition"),n(he,"type","button"),n(ye,"class","flex w-full justify-between items-center"),n(_e,"class","flex w-full justify-between items-center"),n(pe,"class","my-2"),n(Ze,"class","self-center text-sm font-semibold"),n(Ye,"class","flex w-full justify-between"),n(Pe,"class","flex flex-col"),n(Ee,"class","my-2"),n(Ge,"class","self-center text-sm font-semibold"),n(ve,"class","p-1 px-3 text-xs flex rounded transition"),n(ve,"type","button"),n(Ie,"class","flex w-full justify-between mb-2"),n(me,"class","my-2 text-gray-500"),n(Qe,"class","self-center font-medium"),n(G,"class",St="text-sm px-3 py-2 transition rounded-xl "+(l[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),n(G,"type","submit"),G.disabled=l[5],n(Ke,"class","my-2 flex justify-end mb-20"),n(v,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),n(e,"class","w-full max-h-full")},m(i,p){O(i,e,p),o(e,t),l[14](t),o(e,a),o(e,s),o(s,r),o(s,b),o(s,y),o(y,I),o(e,M),o(e,v),o(v,E),o(E,D),o(D,j),$.m(j,null),o(v,Be),o(v,Q),o(Q,se),o(se,ue),o(ue,Le),o(ue,lt),o(se,st),o(se,Ne),o(Ne,X),K(X,l[0]),o(Q,at),o(Q,ae),o(ae,de),o(de,je),o(de,rt),o(ae,ot),o(ae,Ae),o(Ae,Y),K(Y,l[6]),o(v,nt),o(v,m),o(m,P),o(P,Z),o(m,ge),o(m,Me),o(Me,B),o(B,W),o(W,Re);for(let g=0;g<H.length;g+=1)H[g]&&H[g].m(B,null);Gl(B,l[9].base_model_id,!0),o(v,it),o(v,ne),o(ne,ze),o(ze,wt),o(ne,Gt),o(ne,ut),o(ut,ie),K(ie,l[9].meta.description),o(v,Kt),o(v,be),o(be,qe),o(qe,Fe),o(Fe,yt),o(be,Qt),o(be,x),o(x,we),o(we,Je),o(Je,Et),o(we,xt),o(we,pt),o(pt,ce),K(ce,l[9].params.system),o(x,$t),o(x,ke),o(ke,We),o(We,It),o(ke,el),o(ke,fe),ee.m(fe,null),o(x,tl),C&&C.m(x,null),o(v,ll),o(v,pe),o(pe,_e),o(_e,ye),o(ye,Xe),o(Xe,Dt),o(ye,sl),o(ye,he),te.m(he,null),o(_e,al),R&&R.m(_e,null),o(pe,rl),z&&z.m(pe,null),o(v,ol),o(v,Ee),o(Ee,Ye),o(Ye,Ze),o(Ze,Vt),o(Ee,nl),o(Ee,Pe);for(let g=0;g<V.length;g+=1)V[g]&&V[g].m(Pe,null);o(v,il),o(v,me),o(me,Ie),o(Ie,Ge),o(Ge,Tt),o(Ie,cl),o(Ie,ve),le.m(ve,null),o(me,ul),q&&q.m(me,null),o(v,dl),o(v,Ke),o(Ke,G),o(G,Qe),o(Qe,Nt),o(G,fl),J&&J.m(G,null),T=!0,pl||(bl=[F(t,"change",l[15]),F(t,"change",l[16]),F(s,"click",l[17]),F(j,"click",l[18]),F(X,"input",l[19]),F(Y,"input",l[20]),F(B,"change",l[21]),F(ie,"input",l[22]),F(ce,"input",l[23]),F(fe,"click",l[24]),F(he,"click",l[27]),F(ve,"click",l[32]),F(v,"submit",Vs(l[33]))],pl=!0)},p(i,p){if((!T||p[0]&2048)&&U!==(U=i[11].t("Back")+"")&&A(I,U),At===(At=wl(i))&&$?$.p(i,p):($.d(1),$=At(i),$&&($.c(),$.m(j,null))),(!T||p[0]&1536&&h!==(h=(i[9].meta.profile_image_url?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"))&&n(j,"class",h),(!T||p[0]&2048)&&Te!==(Te=i[11].t("Name")+"")&&A(Le,Te),(!T||p[0]&2048&&Ue!==(Ue=i[11].t("Name your model")))&&n(X,"placeholder",Ue),p[0]&1&&X.value!==i[0]&&K(X,i[0]),(!T||p[0]&2048)&&Se!==(Se=i[11].t("Model ID")+"")&&A(je,Se),(!T||p[0]&2048&&He!==(He=i[11].t("Add a model id")))&&n(Y,"placeholder",He),p[0]&64&&Y.value!==i[6]&&K(Y,i[6]),(!T||p[0]&2048)&&re!==(re=i[11].t("Base Model (From)")+"")&&A(Z,re),(!T||p[0]&2048)&&oe!==(oe=i[11].t("Select a base model")+"")&&A(Re,oe),p[0]&1024){xe=tt(i[10].filter(ms));let g;for(g=0;g<xe.length;g+=1){const De=ns(i,xe,g);H[g]?H[g].p(De,p):(H[g]=is(De),H[g].c(),H[g].m(B,null))}for(;g<H.length;g+=1)H[g].d(1);H.length=xe.length}if(p[0]&1536&&Gl(B,i[9].base_model_id),(!T||p[0]&2048)&&ct!==(ct=i[11].t("Description")+"")&&A(wt,ct),(!T||p[0]&2048&&kt!==(kt=i[11].t("Add a short description about what this model does")))&&n(ie,"placeholder",kt),p[0]&1536&&ie.value!==i[9].meta.description&&K(ie,i[9].meta.description),(!T||p[0]&2048)&&dt!==(dt=i[11].t("Model Params")+"")&&A(yt,dt),(!T||p[0]&2048)&&ft!==(ft=i[11].t("System Prompt")+"")&&A(Et,ft),p[0]&1536&&K(ce,i[9].params.system),(!T||p[0]&2048)&&_t!==(_t=i[11].t("Advanced Params")+"")&&A(It,_t),Mt===(Mt=kl(i))&&ee?ee.p(i,p):(ee.d(1),ee=Mt(i),ee&&(ee.c(),ee.m(fe,null))),i[3]?C?(C.p(i,p),p[0]&8&&Ve(C,1)):(C=cs(i),C.c(),Ve(C,1),C.m(x,null)):C&&(ls(),et(C,1,1,()=>{C=null}),ts()),(!T||p[0]&2048)&&ht!==(ht=i[11].t("Prompt suggestions")+"")&&A(Dt,ht),Pt===(Pt=yl(i))&&te?te.p(i,p):(te.d(1),te=Pt(i),te&&(te.c(),te.m(he,null))),i[9].meta.suggestion_prompts!==null?R?R.p(i,p):(R=us(i),R.c(),R.m(_e,null)):R&&(R.d(1),R=null),i[9].meta.suggestion_prompts?z?z.p(i,p):(z=ds(i),z.c(),z.m(pe,null)):z&&(z.d(1),z=null),(!T||p[0]&2048)&&mt!==(mt=i[11].t("Capabilities")+"")&&A(Vt,mt),p[0]&2304){Ce=tt(Object.keys(i[8]));let g;for(g=0;g<Ce.length;g+=1){const De=rs(i,Ce,g);V[g]?(V[g].p(De,p),Ve(V[g],1)):(V[g]=ps(De),V[g].c(),Ve(V[g],1),V[g].m(Pe,null))}for(ls(),g=Ce.length;g<V.length;g+=1)Es(g);ts()}(!T||p[0]&2048)&&vt!==(vt=i[11].t("JSON Preview")+"")&&A(Tt,vt),Ct===(Ct=El(i))&&le?le.p(i,p):(le.d(1),le=Ct(i),le&&(le.c(),le.m(ve,null))),i[4]?q?q.p(i,p):(q=_s(i),q.c(),q.m(me,null)):q&&(q.d(1),q=null),(!T||p[0]&2048)&&gt!==(gt=i[11].t("Save & Create")+"")&&A(Nt,gt),i[5]?J||(J=hs(),J.c(),J.m(G,null)):J&&(J.d(1),J=null),(!T||p[0]&32&&St!==(St="text-sm px-3 py-2 transition rounded-xl "+(i[5]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&n(G,"class",St),(!T||p[0]&32)&&(G.disabled=i[5])},i(i){if(!T){Ve(C);for(let p=0;p<Ce.length;p+=1)Ve(V[p]);T=!0}},o(i){et(C),V=V.filter(Boolean);for(let p=0;p<V.length;p+=1)et(V[p]);T=!1},d(i){i&&c(e),l[14](null),$.d(),vl(H,i),ee.d(),C&&C.d(),te.d(),R&&R.d(),z&&z.d(),vl(V,i),le.d(),q&&q.d(),J&&J.d(),pl=!1,vs(bl)}}}const ms=l=>!(l!=null&&l.preset);function Qs(l,e,t){let a,s;Kl(l,as,m=>t(10,a=m));const r=Ts("i18n");Kl(l,r,m=>t(11,s=m));let _,b,y=!1,U=!1,I=!1,M=!1,v="",E="",D={},j={vision:!0},h={id:"",base_model_id:null,name:"",meta:{profile_image_url:null,description:"",suggestion_prompts:[{content:""}]},params:{system:""}};const Be=async()=>{if(t(5,I=!0),t(9,h.id=v,h),t(9,h.name=E,h),t(9,h.meta.capabilities=j,h),t(9,h.params.stop=D.stop?D.stop.split(",").filter(m=>m.trim()):null,h),a.find(m=>m.id===h.id))return ss.error(`Error: A model with the ID '${h.id}' already exists. Please select a different ID to proceed.`),t(5,I=!1),M=!1,M;h&&await Ls(localStorage.token,{...h,meta:{...h.meta,profile_image_url:h.meta.profile_image_url??"/favicon.png",suggestion_prompts:h.meta.suggestion_prompts?h.meta.suggestion_prompts.filter(P=>P.content!==""):null},params:{...h.params,...D}})&&(ss.success("Model created successfully!"),await Bs("/workspace/models"),await as.set(await Us(localStorage.token))),t(5,I=!1),M=!1},Q=async m=>{var P,re,Z;t(0,E=m.name),await As(),t(6,v=m.id),t(7,D={...D,...(P=m==null?void 0:m.info)==null?void 0:P.params}),t(7,D.stop=D!=null&&D.stop?((D==null?void 0:D.stop)??[]).join(","):null,D),t(8,j={...j,...((Z=(re=m==null?void 0:m.info)==null?void 0:re.meta)==null?void 0:Z.capabilities)??{}}),t(9,h={...h,...m.info})};Ns(async()=>{if(window.addEventListener("message",async m=>{if(!["https://ollamahub.com","https://www.ollamahub.com","https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(m.origin))return;const P=JSON.parse(m.data);console.log(P),Q(P)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model){const m=JSON.parse(sessionStorage.model);sessionStorage.removeItem("model"),console.log(m),Q(m)}});function se(m){gs[m?"unshift":"push"](()=>{_=m,t(1,_)})}function ue(){b=this.files,t(2,b)}const Te=()=>{let m=new FileReader;m.onload=P=>{let re=`${P.target.result}`;const Z=new Image;Z.src=re,Z.onload=function(){const ge=document.createElement("canvas"),Me=ge.getContext("2d"),B=Z.width/Z.height;let W,oe;B>1?(W=100*B,oe=100):(W=100,oe=100/B),ge.width=100,ge.height=100;const Re=(100-W)/2,it=(100-oe)/2;Me.drawImage(Z,Re,it,W,oe);const ne=ge.toDataURL("image/jpeg");t(9,h.meta.profile_image_url=ne,h),t(2,b=null)}},b&&b.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(b[0].type)?m.readAsDataURL(b[0]):(console.log(`Unsupported File Type '${b[0].type}'.`),t(2,b=null))},Le=()=>{history.back()},lt=()=>{_.click()};function st(){E=this.value,t(0,E)}function Ne(){v=this.value,t(6,v),t(0,E)}function X(){h.base_model_id=Ms(this),t(9,h)}function Ue(){h.meta.description=this.value,t(9,h)}function at(){h.params.system=this.value,t(9,h)}const ae=()=>{t(3,y=!y)};function de(m){D=m,t(7,D)}const Se=m=>{t(9,h.params={...h.params,...D},h)},je=()=>{h.meta.suggestion_prompts===null?t(9,h.meta.suggestion_prompts=[{content:""}],h):t(9,h.meta.suggestion_prompts=null,h)},rt=()=>{(h.meta.suggestion_prompts.length===0||h.meta.suggestion_prompts.at(-1).content!=="")&&t(9,h.meta.suggestion_prompts=[...h.meta.suggestion_prompts,{content:""}],h)};function ot(m,P){m[P].content=this.value,t(9,h)}const Ae=m=>{h.meta.suggestion_prompts.splice(m,1),t(9,h)},Y=(m,P)=>{t(8,j[m]=P.detail==="checked",j)},He=()=>{t(4,U=!U)},nt=()=>{Be()};return l.$$.update=()=>{l.$$.dirty[0]&1&&E&&t(6,v=E.replace(/\s+/g,"-").toLowerCase())},[E,_,b,y,U,I,v,D,j,h,a,s,r,Be,se,ue,Te,Le,lt,st,Ne,X,Ue,at,ae,de,Se,je,rt,ot,Ae,Y,He,nt]}class ia extends Ps{constructor(e){super(),Cs(this,e,Qs,Ks,Is,{},null,[-1,-1])}}export{ia as component};
//# sourceMappingURL=11.e2ca8408.js.map
