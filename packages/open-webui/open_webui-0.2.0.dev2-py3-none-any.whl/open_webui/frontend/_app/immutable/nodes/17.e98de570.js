import{s as Ne,a as D,e as ge,M as Ue,d as _,c as S,i as j,w as oe,P as Pe,o as Te,f as g,g as b,R as Ae,h as k,j as m,r as o,l as T,m as A,Q as J,u as $,O as Me,n as B,C as be,v as Ye}from"../chunks/scheduler.bc5a4ea8.js";import{S as Be,i as Ce,a as K,t as x,c as Se,g as Ve,b as He,d as je,m as qe,e as ze}from"../chunks/index.5e522d2c.js";import{g as Ee}from"../chunks/navigation.01f37cd6.js";import{k as Oe,l as Re}from"../chunks/index.c973976e.js";import{S as We}from"../chunks/Spinner.185bac12.js";import{c as Fe,u as ye,W as Le,a as Qe}from"../chunks/index.dca233de.js";import{a as me}from"../chunks/Toaster.svelte_svelte_type_style_lang.264cdd7d.js";import{g as Ge}from"../chunks/index.9a95918f.js";function ke(s){let t,a=`<div class="flex space-x-2"><div class="self-center"><img crossorigin="anonymous" src="${Qe}/static/favicon.png" class="w-8 rounded-full" alt="logo"/></div></div>`,n,u,l,e,i,f;const E=[Ke,Je],d=[];function h(r,c){var p,y;return(((p=r[5])==null?void 0:p.auth_trusted_header)??!1)||((y=r[5])==null?void 0:y.auth)===!1?0:1}return e=h(s),i=d[e]=E[e](s),{c(){t=g("div"),t.innerHTML=a,n=D(),u=g("div"),l=g("div"),i.c(),this.h()},l(r){t=b(r,"DIV",{class:!0,"data-svelte-h":!0}),Ae(t)!=="svelte-18zumjz"&&(t.innerHTML=a),n=S(r),u=b(r,"DIV",{class:!0});var c=k(u);l=b(c,"DIV",{class:!0});var p=k(l);i.l(p),p.forEach(_),c.forEach(_),this.h()},h(){m(t,"class","fixed m-10 z-50"),m(l,"class","w-full sm:max-w-md px-10 min-h-screen flex flex-col text-center"),m(u,"class","bg-white dark:bg-gray-950 min-h-screen w-full flex justify-center font-mona svelte-zxai24")},m(r,c){j(r,t,c),j(r,n,c),j(r,u,c),o(u,l),d[e].m(l,null),f=!0},p(r,c){let p=e;e=h(r),e===p?d[e].p(r,c):(Ve(),x(d[p],1,1,()=>{d[p]=null}),Se(),i=d[e],i?i.p(r,c):(i=d[e]=E[e](r),i.c()),K(i,1),i.m(l,null))},i(r){f||(K(i),f=!0)},o(r){x(i),f=!1},d(r){r&&(_(t),_(n),_(u)),d[e].d()}}}function Je(s){let t,a,n,u,l=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Sign up"))+"",e,i,f=s[6].t("to")+"",E,d,h,r,c,p,y,I,C,M=s[6].t("Email")+"",q,ee,Y,w,O,R,F,X=s[6].t("Password")+"",te,ue,H,le,de,z,W,Z=(s[1]==="signin"?s[6].t("Sign in"):s[6].t("Create Account"))+"",se,fe,ce,pe,N=s[1]==="signup"&&we(s),U=s[1]==="signup"&&Ie(s),P=s[5].enable_signup&&De(s);return{c(){t=g("div"),a=g("form"),n=g("div"),u=g("div"),e=T(l),i=D(),E=T(f),d=D(),h=T(s[7]),r=D(),N&&N.c(),c=D(),p=g("div"),U&&U.c(),y=D(),I=g("div"),C=g("div"),q=T(M),ee=D(),Y=g("input"),O=D(),R=g("div"),F=g("div"),te=T(X),ue=D(),H=g("input"),de=D(),z=g("div"),W=g("button"),se=T(Z),fe=D(),P&&P.c(),this.h()},l(v){t=b(v,"DIV",{class:!0});var V=k(t);a=b(V,"FORM",{class:!0});var L=k(a);n=b(L,"DIV",{class:!0});var ae=k(n);u=b(ae,"DIV",{class:!0});var Q=k(u);e=A(Q,l),i=S(Q),E=A(Q,f),d=S(Q),h=A(Q,s[7]),Q.forEach(_),r=S(ae),N&&N.l(ae),ae.forEach(_),c=S(L),p=b(L,"DIV",{class:!0});var G=k(p);U&&U.l(G),y=S(G),I=b(G,"DIV",{class:!0});var ne=k(I);C=b(ne,"DIV",{class:!0});var _e=k(C);q=A(_e,M),_e.forEach(_),ee=S(ne),Y=b(ne,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),ne.forEach(_),O=S(G),R=b(G,"DIV",{});var ie=k(R);F=b(ie,"DIV",{class:!0});var ve=k(F);te=A(ve,X),ve.forEach(_),ue=S(ie),H=b(ie,"INPUT",{type:!0,class:!0,placeholder:!0,autocomplete:!0}),ie.forEach(_),G.forEach(_),de=S(L),z=b(L,"DIV",{class:!0});var re=k(z);W=b(re,"BUTTON",{class:!0,type:!0});var he=k(W);se=A(he,Z),he.forEach(_),fe=S(re),P&&P.l(re),re.forEach(_),L.forEach(_),V.forEach(_),this.h()},h(){m(u,"class","text-2xl font-bold"),m(n,"class","mb-1"),m(C,"class","text-sm font-semibold text-left mb-1"),m(Y,"type","email"),m(Y,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(Y,"autocomplete","email"),m(Y,"placeholder",w=s[6].t("Enter Your Email")),Y.required=!0,m(I,"class","mb-2"),m(F,"class","text-sm font-semibold text-left mb-1"),m(H,"type","password"),m(H,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(H,"placeholder",le=s[6].t("Enter Your Password")),m(H,"autocomplete","current-password"),H.required=!0,m(p,"class","flex flex-col mt-4"),m(W,"class","bg-gray-900 hover:bg-gray-800 w-full rounded-2xl text-white font-semibold text-sm py-3 transition"),m(W,"type","submit"),m(z,"class","mt-5"),m(a,"class","flex flex-col justify-center"),m(t,"class","my-auto pb-10 w-full dark:text-gray-100")},m(v,V){j(v,t,V),o(t,a),o(a,n),o(n,u),o(u,e),o(u,i),o(u,E),o(u,d),o(u,h),o(n,r),N&&N.m(n,null),o(a,c),o(a,p),U&&U.m(p,null),o(p,y),o(p,I),o(I,C),o(C,q),o(I,ee),o(I,Y),J(Y,s[3]),o(p,O),o(p,R),o(R,F),o(F,te),o(R,ue),o(R,H),J(H,s[4]),o(a,de),o(a,z),o(z,W),o(W,se),o(z,fe),P&&P.m(z,null),ce||(pe=[$(Y,"input",s[11]),$(H,"input",s[12]),$(a,"submit",Me(s[14]))],ce=!0)},p(v,V){V&66&&l!==(l=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Sign up"))+"")&&B(e,l),V&64&&f!==(f=v[6].t("to")+"")&&B(E,f),V&128&&B(h,v[7]),v[1]==="signup"?N?N.p(v,V):(N=we(v),N.c(),N.m(n,null)):N&&(N.d(1),N=null),v[1]==="signup"?U?U.p(v,V):(U=Ie(v),U.c(),U.m(p,y)):U&&(U.d(1),U=null),V&64&&M!==(M=v[6].t("Email")+"")&&B(q,M),V&64&&w!==(w=v[6].t("Enter Your Email"))&&m(Y,"placeholder",w),V&8&&Y.value!==v[3]&&J(Y,v[3]),V&64&&X!==(X=v[6].t("Password")+"")&&B(te,X),V&64&&le!==(le=v[6].t("Enter Your Password"))&&m(H,"placeholder",le),V&16&&H.value!==v[4]&&J(H,v[4]),V&66&&Z!==(Z=(v[1]==="signin"?v[6].t("Sign in"):v[6].t("Create Account"))+"")&&B(se,Z),v[5].enable_signup?P?P.p(v,V):(P=De(v),P.c(),P.m(z,null)):P&&(P.d(1),P=null)},i:be,o:be,d(v){v&&_(t),N&&N.d(),U&&U.d(),P&&P.d(),ce=!1,Ye(pe)}}}function Ke(s){let t,a,n,u=s[6].t("Signing in")+"",l,e,i=s[6].t("to")+"",f,E,d,h,r,c,p;return c=new We({}),{c(){t=g("div"),a=g("div"),n=g("div"),l=T(u),e=D(),f=T(i),E=D(),d=T(s[7]),h=D(),r=g("div"),He(c.$$.fragment),this.h()},l(y){t=b(y,"DIV",{class:!0});var I=k(t);a=b(I,"DIV",{class:!0});var C=k(a);n=b(C,"DIV",{});var M=k(n);l=A(M,u),e=S(M),f=A(M,i),E=S(M),d=A(M,s[7]),M.forEach(_),h=S(C),r=b(C,"DIV",{});var q=k(r);je(c.$$.fragment,q),q.forEach(_),C.forEach(_),I.forEach(_),this.h()},h(){m(a,"class","flex items-center justify-center gap-3 text-xl sm:text-2xl text-center font-bold dark:text-gray-200"),m(t,"class","my-auto pb-10 w-full")},m(y,I){j(y,t,I),o(t,a),o(a,n),o(n,l),o(n,e),o(n,f),o(n,E),o(n,d),o(a,h),o(a,r),qe(c,r,null),p=!0},p(y,I){(!p||I&64)&&u!==(u=y[6].t("Signing in")+"")&&B(l,u),(!p||I&64)&&i!==(i=y[6].t("to")+"")&&B(f,i),(!p||I&128)&&B(d,y[7])},i(y){p||(K(c.$$.fragment,y),p=!0)},o(y){x(c.$$.fragment,y),p=!1},d(y){y&&_(t),ze(c)}}}function we(s){let t,a,n,u,l=s[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"",e;return{c(){t=g("div"),a=T("ⓘ "),n=T(s[7]),u=D(),e=T(l),this.h()},l(i){t=b(i,"DIV",{class:!0});var f=k(t);a=A(f,"ⓘ "),n=A(f,s[7]),u=S(f),e=A(f,l),f.forEach(_),this.h()},h(){m(t,"class","mt-1 text-xs font-medium text-gray-500")},m(i,f){j(i,t,f),o(t,a),o(t,n),o(t,u),o(t,e)},p(i,f){f&128&&B(n,i[7]),f&64&&l!==(l=i[6].t("does not make any external connections, and your data stays securely on your locally hosted server.")+"")&&B(e,l)},d(i){i&&_(t)}}}function Ie(s){let t,a,n=s[6].t("Name")+"",u,l,e,i,f,E,d,h;return{c(){t=g("div"),a=g("div"),u=T(n),l=D(),e=g("input"),f=D(),E=g("hr"),this.h()},l(r){t=b(r,"DIV",{});var c=k(t);a=b(c,"DIV",{class:!0});var p=k(a);u=A(p,n),p.forEach(_),l=S(c),e=b(c,"INPUT",{type:!0,class:!0,autocomplete:!0,placeholder:!0}),c.forEach(_),f=S(r),E=b(r,"HR",{class:!0}),this.h()},h(){m(a,"class","text-sm font-semibold text-left mb-1"),m(e,"type","text"),m(e,"class","px-5 py-3 rounded-2xl w-full text-sm outline-none border dark:border-none dark:bg-gray-900"),m(e,"autocomplete","name"),m(e,"placeholder",i=s[6].t("Enter Your Full Name")),e.required=!0,m(E,"class","my-3 dark:border-gray-900")},m(r,c){j(r,t,c),o(t,a),o(a,u),o(t,l),o(t,e),J(e,s[2]),j(r,f,c),j(r,E,c),d||(h=$(e,"input",s[10]),d=!0)},p(r,c){c&64&&n!==(n=r[6].t("Name")+"")&&B(u,n),c&64&&i!==(i=r[6].t("Enter Your Full Name"))&&m(e,"placeholder",i),c&4&&e.value!==r[2]&&J(e,r[2])},d(r){r&&(_(t),_(f),_(E)),d=!1,h()}}}function De(s){let t,a=(s[1]==="signin"?s[6].t("Don't have an account?"):s[6].t("Already have an account?"))+"",n,u,l,e=(s[1]==="signin"?s[6].t("Sign up"):s[6].t("Sign in"))+"",i,f,E;return{c(){t=g("div"),n=T(a),u=D(),l=g("button"),i=T(e),this.h()},l(d){t=b(d,"DIV",{class:!0});var h=k(t);n=A(h,a),u=S(h),l=b(h,"BUTTON",{class:!0,type:!0});var r=k(l);i=A(r,e),r.forEach(_),h.forEach(_),this.h()},h(){m(l,"class","font-medium underline"),m(l,"type","button"),m(t,"class","mt-4 text-sm text-center")},m(d,h){j(d,t,h),o(t,n),o(t,u),o(t,l),o(l,i),f||(E=$(l,"click",s[13]),f=!0)},p(d,h){h&66&&a!==(a=(d[1]==="signin"?d[6].t("Don't have an account?"):d[6].t("Already have an account?"))+"")&&B(n,a),h&66&&e!==(e=(d[1]==="signin"?d[6].t("Sign up"):d[6].t("Sign in"))+"")&&B(i,e)},d(d){d&&_(t),f=!1,E()}}}function Xe(s){let t,a,n,u;document.title=t=`
		${s[7]}
	`;let l=s[0]&&ke(s);return{c(){a=D(),l&&l.c(),n=ge()},l(e){Ue("svelte-sdpf07",document.head).forEach(_),a=S(e),l&&l.l(e),n=ge()},m(e,i){j(e,a,i),l&&l.m(e,i),j(e,n,i),u=!0},p(e,[i]){(!u||i&128)&&t!==(t=`
		${e[7]}
	`)&&(document.title=t),e[0]?l?(l.p(e,i),i&1&&K(l,1)):(l=ke(e),l.c(),K(l,1),l.m(n.parentNode,n)):l&&(Ve(),x(l,1,1,()=>{l=null}),Se())},i(e){u||(K(l),u=!0)},o(e){x(l),u=!1},d(e){e&&(_(a),_(n)),l&&l.d(e)}}}function Ze(s,t,a){let n,u,l,e;oe(s,Fe,w=>a(5,n=w)),oe(s,ye,w=>a(15,u=w)),oe(s,Le,w=>a(7,e=w));const i=Pe("i18n");oe(s,i,w=>a(6,l=w));let f=!1,E="signin",d="",h="",r="";const c=async w=>{w&&(console.log(w),me.success(l.t("You're now logged in.")),localStorage.token=w.token,await ye.set(w),Ee("/"))},p=async()=>{const w=await Oe(h,r).catch(O=>(me.error(O),null));await c(w)},y=async()=>{const w=await Re(d,h,r,Ge(d)).catch(O=>(me.error(O),null));await c(w)},I=async()=>{E==="signin"?await p():await y()};Te(async()=>{u!==void 0&&await Ee("/"),a(0,f=!0),(((n==null?void 0:n.auth_trusted_header)??!1)||(n==null?void 0:n.auth)===!1)&&await p()});function C(){d=this.value,a(2,d)}function M(){h=this.value,a(3,h)}function q(){r=this.value,a(4,r)}return[f,E,d,h,r,n,l,e,i,I,C,M,q,()=>{E==="signin"?a(1,E="signup"):a(1,E="signin")},()=>{I()}]}class it extends Be{constructor(t){super(),Ce(this,t,Ze,Xe,Ne,{})}}export{it as component};
//# sourceMappingURL=17.e98de570.js.map
