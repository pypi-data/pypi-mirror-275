{"version":3,"file":"lib_index_js.737bfe9ba96b874e2c48.js","mappings":"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","sources":["webpack://jupyterlab_optumi/./src/index.ts","webpack://jupyterlab_optumi/./src/widget.tsx"],"sourcesContent":["/*\n **  Copyright (C) Optumi Inc - All rights reserved.\n **\n **  You may only use this code under license with Optumi Inc and any distribution or modification is strictly prohibited.\n **  To receive a copy of the licensing terms please write to contact@optumi.com or visit us at http://www.optumi.com.\n **/\n\nimport { JupyterFrontEndPlugin } from '@jupyterlab/application';\n\nimport optumiPlugin from './widget';\n\nexport default [optumiPlugin] as JupyterFrontEndPlugin<any>[];\n","/*\n **  Copyright (C) Optumi Inc - All rights reserved.\n **\n **  You may only use this code under license with Optumi Inc and any distribution or modification is strictly prohibited.\n **  To receive a copy of the licensing terms please write to contact@optumi.com or visit us at http://www.optumi.com.\n **/\n\nimport * as React from 'react';\nimport { Global } from 'common';\n\nimport { JupyterFrontEnd, JupyterFrontEndPlugin, ILabShell, ILayoutRestorer } from '@jupyterlab/application';\nimport { ServerConnection } from '@jupyterlab/services';\nimport { IDocumentManager } from '@jupyterlab/docmanager';\nimport { ReactWidget, IThemeManager } from '@jupyterlab/apputils';\nimport { Token } from '@lumino/coreutils';\nimport { Widget } from '@lumino/widgets';\n\nimport { LabIcon } from '@jupyterlab/ui-components';\n\nimport { OptumiLeftPanel, JupyterlabProgramTracker } from 'common';\n\n// TODO:JJ Does this really need to be exported?\nexport const IOptumi = new Token<IOptumi>('optumi:IOptumi');\n\n// TODO:JJ Does this really need to be exported?\nexport interface IOptumi {\n    widget: Widget;\n}\n\nconst id = 'optumi';\n\nexport default {\n    activate,\n    id,\n    requires: [ILabShell, ILayoutRestorer, IThemeManager, IDocumentManager],\n    provides: IOptumi,\n    autoStart: true,\n} as JupyterFrontEndPlugin<void>;\n\nasync function activate(\n    lab: JupyterFrontEnd,\n    labShell: ILabShell,\n    restorer: ILayoutRestorer,\n    manager: IThemeManager,\n    docManager: IDocumentManager,\n) {\n    // Creates the left side bar widget once the app has fully started\n    lab.started.then(async () => {\n        document.documentElement.style.setProperty('--jp-sidebar-min-width', '340px');\n        // Set some well known globals\n        Global.lab = lab;\n        Global.labShell = labShell;\n        Global.programTracker = new JupyterlabProgramTracker(labShell);\n        Global.themeManager = manager;\n        Global.docManager = docManager;\n        Global.agreementURL = await docManager.services.contents.getDownloadUrl('Agreement.html');\n\n        // Wait until we have a version to set metadata related globals\n        const settings = ServerConnection.makeSettings();\n        const url = settings.baseUrl + 'optumi/version';\n        const response = await ServerConnection.makeRequest(url, {}, settings);\n        if (response.status !== 200) throw new ServerConnection.ResponseError(response);\n\n        const data = await response.json();\n        // Get the version from the server\n        // We do not want to start the extension until we know the version, it might mess with metadata\n        const version = data.version;\n        const userHome = data.userHome;\n        const jupyterHome = data.jupyterHome;\n\n        console.log('JupyterLab extension jupyterlab-optumi version ' + version + ' is activated!');\n\n        Global.version = version;\n        Global.userHome = userHome;\n        Global.jupyterHome = jupyterHome;\n\n        const widget = ReactWidget.create(<OptumiLeftPanel />);\n        widget.id = 'optumi/Optumi';\n        // This is a hack to stop jupyterlab from showing a default icon above our optumi logo\n        widget.title.icon = new LabIcon({\n            name: 'empty',\n            svgstr: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1\" height=\"1\"/>',\n        });\n        widget.title.iconClass = 'jp-o-logo jp-SideBar-tabIcon';\n        widget.title.caption = 'Optumi';\n\n        restorer.add(widget, widget.id);\n\n        // Initialize once the application shell has been restored\n        lab.restored.then(() => {\n            // add widget\n            if (!widget.isAttached) {\n                labShell.add(widget, 'left', { rank: 1000 });\n            }\n        });\n    });\n}\n"],"names":[],"sourceRoot":""}