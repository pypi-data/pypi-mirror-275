{% load i18n static %}
<nav role="navigation" class="fastoche-nav" id="fastoche-navigation" aria-label="Menu principal" id="fastoche-navigation"
  data-fastoche-js-navigation="true">
  <ul class="fastoche-nav__list">
    <li class="fastoche-nav__item">
      {% url 'index' as home_url %}
      <a class="fastoche-nav__link" href="{{ home_url }}" target="_self" {% if request.path == home_url %}aria-current="true"
        {% endif %}>Accueil</a>
    </li>
    <li class="fastoche-nav__item">
      <button class="fastoche-nav__btn" aria-expanded="false" aria-controls="menu-doc" {% if '/doc-' in request.path
        %}aria-current="true" {% endif %}>
        Documentation
      </button>
      <div class="fastoche-collapse fastoche-menu" id="menu-doc">
        <ul class="fastoche-menu__list">
          <li>
            {% url 'doc_install' as doc_install_url %}
            <a class="fastoche-nav__link" href="{{ doc_install_url }}" target="_self" {% if request.path==doc_install_url
              %}aria-current="true" {% endif %}>Installation</a>
          </li>
          <li>
            {% url 'doc_usage' as doc_usage_url %}
            <a class="fastoche-nav__link" href="{{ doc_usage_url }}" target="_self" {% if request.path==doc_usage_url
              %}aria-current="true" {% endif %}>Utilisation</a>
          </li>
          <li>
            {% url 'doc_contributing' as doc_contributing_url %}
            <a class="fastoche-nav__link" href="{{ doc_contributing_url }}" target="_self" {% if
              request.path==doc_contributing_url %}aria-current="true" {% endif %}>Contribuer</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="fastoche-nav__item">
      <button class="fastoche-nav__btn" aria-expanded="false" aria-controls="mega-menu-components" {% if '/components/' in
        request.path %}aria-current="true" {% endif %}>
        Composants
      </button>
      <div class="fastoche-collapse fastoche-mega-menu" id="mega-menu-components" tabindex="-1">
        <div class="fastoche-container fastoche-container--fluid fastoche-container-lg">
          <button class="fastoche-link--close fastoche-link" aria-controls="mega-menu-components">
            Fermer
          </button>
          {% url 'components_index' as components_index_url %}
          <div class="fastoche-grid-row fastoche-grid-row-lg--gutters">
            <div class="fastoche-col-12 fastoche-col-lg-8 fastoche-col-offset-lg-4--right">
              <div class="fastoche-mega-menu__leader">
                <h2 class="fastoche-h4 fastoche-mb-2v">
                  Composants
                </h2>
                <a class="fastoche-link fastoche-fi-arrow-right-line fastoche-link--icon-right fastoche-link--align-on-content"
                  href="{{ components_index_url }}">Voir la documentation</a>
              </div>
            </div>
            {% for category in mega_menu_categories %}
            <div class="fastoche-col-12 fastoche-col-lg-3">
              <h5 class="fastoche-mega-menu__category">
                <a class="fastoche-nav__link" href="#" target="_self">Composants implémentés</a>
              </h5>
              <ul class="fastoche-mega-menu__list">
                {% for key, entry in category.items %}
                {% if key == "see_all" %}
                <li>
                  <a class="fastoche-nav__link" href="{{ components_index_url }}#tabpanel-implemented-panel" {% if
                    request.path==components_index_url %}aria-current="true" {% endif %} target="_self"><strong>{{
                      entry.title }}</strong></a>
                </li>
                {% else %}
                <li>
                  {% url 'page_component' key as entry_url %}
                  <a class="fastoche-nav__link" href="{{ entry_url }}" {% if request.path==entry_url %}aria-current="true"
                    {% endif %} target="_self">{{ entry.title }}</a>
                </li>
                {% endif %}
                {% endfor %}
              </ul>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </li>
    <li class="fastoche-nav__item">
      <button class="fastoche-nav__btn" aria-expanded="false" aria-controls="menu-forms" {% if 'django_fastoche/form' in
        request.path %}aria-current="true" {% endif %}>
        Formulaires
      </button>
      <div class="fastoche-collapse fastoche-menu" id="menu-forms">
        <ul class="fastoche-menu__list">
          <li>
            {% url 'doc_form' as doc_form_url %}
            <a class="fastoche-nav__link" href="{{ doc_form_url }}" target="_self" {% if request.path==doc_form_url
              %}aria-current="true" {% endif %}>Documentation</a>
          </li>
          <li>
            {% url 'page_form' as page_form_url %}
            <a class="fastoche-nav__link" href="{{ page_form_url }}" target="_self" {% if request.path==page_form_url
              %}aria-current="true" {% endif %}>Exemple basique</a>
          </li>
          <li>
            {% url 'form_formset' as form_formset_url %}
            <a class="fastoche-nav__link" href="{{ form_formset_url }}" target="_self" {% if request.path==form_formset_url
              %}aria-current="true" {% endif %}>Exemple avec formset</a>
          </li>
        </ul>
      </div>
    </li>
    <li class="fastoche-nav__item">
      <button class="fastoche-nav__btn" aria-expanded="false" aria-controls="menu-resources" {% if '/resources' in
        request.path %}aria-current="true" {% endif %}>
        Ressources
      </button>
      <div class="fastoche-collapse fastoche-menu" id="menu-resources">
        <ul class="fastoche-menu__list">
          <li>
            {% url 'resource_colors' as resource_colors_url %}
            <a class="fastoche-nav__link" href="{{ resource_colors_url }}" target="_self" {% if
              request.path==resource_colors_url %}aria-current="true" {% endif %}>Couleurs</a>
          </li>
          <li>
            {% url 'resource_icons' as resource_icons_url %}
            <a class="fastoche-nav__link" href="{{ resource_icons_url }}" target="_self" {% if
              request.path==resource_icons_url %}aria-current="true" {% endif %}>Icônes</a>
          </li>
          <li>
            {% url 'resource_pictograms' as resource_pictograms_url %}
            <a class="fastoche-nav__link" href="{{ resource_pictograms_url }}" target="_self" {% if
              request.path==resource_pictograms_url %}aria-current="true" {% endif %}>Pictogrammes</a>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</nav>