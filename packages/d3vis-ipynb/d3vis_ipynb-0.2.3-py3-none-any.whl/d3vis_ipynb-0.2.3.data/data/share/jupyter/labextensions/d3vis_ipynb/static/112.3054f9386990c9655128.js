"use strict";(self.webpackChunkd3vis_ipynb=self.webpackChunkd3vis_ipynb||[]).push([[112],{112:(e,t,n)=>{n.r(t),n.d(t,{BarPlotModel:()=>j,BarPlotView:()=>C,EmbeddingModel:()=>P,EmbeddingView:()=>B,HistogramPlotModel:()=>R,HistogramPlotView:()=>I,LinearHistPlotModel:()=>E,LinearHistPlotView:()=>S,LinearPlotModel:()=>D,LinearPlotView:()=>O,RangeSliderModel:()=>W,RangeSliderView:()=>H,ScatterPlotModel:()=>V,ScatterPlotView:()=>A,author:()=>T.author,dependencies:()=>T.dependencies,description:()=>T.description,devDependencies:()=>T.devDependencies,files:()=>T.files,jupyterlab:()=>T.jupyterlab,keywords:()=>T.keywords,license:()=>T.license,main:()=>T.main,name:()=>T.name,repository:()=>T.repository,scripts:()=>T.scripts,version:()=>T.version});var a=n(801),i=n(72),o=n.n(i),s=n(825),r=n.n(s),l=n(659),d=n.n(l),c=n(56),u=n.n(c),m=n(540),p=n.n(m),h=n(113),f=n.n(h),g=n(930),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=d().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=p(),o()(g.A,v),g.A&&g.A.locals&&g.A.locals;var _=n(840);function x(e){const t=e.reduce(((e,t)=>e+t),0)/e.length,n=1.96*function(e,t){let n=0;return e.forEach((e=>n+=(e-t)**2)),n=Math.sqrt(n)/e.length,n}(e,t);return[t-n,t+n]}function y(e,t,n,a,i,o,s,r,l,d){let c=[];const u=_.line(),m=_.select(e).selectAll(".dot"),p=_.drag().on("start",(function(){c=[],r(),_.select(e).select("svg").append("path").attr("id","lasso"+d)})).on("drag",(function(e){let t=e.sourceEvent.offsetX,n=e.sourceEvent.offsetY;c.push([t,n]),_.select("#lasso"+d).style("stroke","blue").style("stroke-width",2).style("fill","#00008854").attr("d",u(c))})).on("end",(function(){let e=[];m.each(((r,l)=>{(function(e,t){for(var n=e[0],a=e[1],i=!1,o=0,s=t.length-1;o<t.length;s=o++){var r=t[o][0],l=t[o][1],d=t[s][0],c=t[s][1];l>a!=c>a&&n<(d-r)*(a-l)/(c-l)+r&&(i=!i)}return i})([t(r[a])+o,n(r[i])+s],c)&&(_.select("#dot-"+d+r.id).style("fill","red").attr("r",6),e.push(r))})),_.select("#lasso"+d).remove(),l(e)}));_.select(e).call(p)}function b(e,t){return e.reduce((function(e,n){return{...e,[n[t]]:[...e[n[t]]??[],n]}}),{})}const w=n(330),k=400,M={top:20,right:20,bottom:30,left:40};function L(e){e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((()=>{e.plot()}),100)}class E extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:E.model_name,_view_name:E.view_name,_model_module:E.model_module,_view_module:E.view_module,_model_module_version:E.model_module_version,_view_module_version:E.view_module_version,linearData_x:[],linearData_y:[],histogramData:[],elementId:String,clickedValue:String}}static model_name="LinearHistPlotModel";static model_module=w.name;static model_module_version=w.version;static view_name="LinearHistPlotView";static view_module=w.name;static view_module_version=w.version}class S extends a.DOMWidgetView{timeout;render(){L(this),this.model.on("change:linearData_x",(()=>L(this)),this),this.model.on("change:linearData_y",(()=>L(this)),this),this.model.on("change:histogramData",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("linearData_x"),t=this.model.get("linearData_y"),n=this.model.get("histogramData");let a=this.model.get("elementId");"function"==typeof a&&(a=a());let i=k,o=this.el;a&&(o=document.getElementById(a),i=o.clientHeight);let s=o.clientWidth;const r=M;!function(e,t,n,a,i,o,s,r){const l=o-r.left-r.right,d=s-r.top-r.bottom,c=d/4;_.select(a).selectAll("*").remove();const u=Math.min(_.min(e),_.min(n)),m=Math.max(_.max(e),_.max(n)),p=_.scaleLinear().range([0,l]),h=_.scaleLinear().range([d,0]),f=_.scaleLinear().range([c,0]),g=_.axisBottom(p),v=_.axisLeft(h),x=_.bin().thresholds(20).value((e=>Math.round(10*e)/10))(n),y=_.select(a).append("svg").attr("width",o).attr("height",s).append("g").attr("transform","translate("+r.left+","+r.top+")");p.domain([u,m]),h.domain(_.extent(t)),f.domain([0,_.max(x,(e=>e.length))]);const b=y.append("g").append("rect").style("fill","none").attr("width",160).attr("height",40).attr("stroke","#69b3a2").attr("stroke-width",4).style("opacity",0),w=y.append("g").append("text").style("opacity",0).attr("text-anchor","left").attr("alignment-baseline","middle");y.append("g").attr("transform","translate(0,"+d+")").call(g).append("text").attr("x",l).attr("y",-6).style("text-anchor","end"),y.append("g").call(v).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end");const k=[];k.x0=x[0].x0-2.5,k.x1=x[0].x1-2.5,x.unshift(k);const M=[];M.x0=x[x.length-1].x0+2.5,M.x1=x[x.length-1].x1+2.5,y.append("path").datum(x).attr("fill","paleturquoise").attr("stroke","steelblue").attr("stroke-width",1).attr("d",_.line().x((e=>p((e.x1+e.x0)/2))).y((e=>f(e.length)+d-c)).curve(_.curveCatmullRom));const L=e.map(((e,n)=>[e,t[n]])).map((([e,t])=>({x:e,y:t})));y.append("path").datum(L).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",_.line().x((e=>p(e.x))).y((e=>h(e.y)))),y.selectAll("myCircles").data(L).enter().append("circle").attr("fill","red").attr("stroke","none").attr("cx",(e=>p(e.x))).attr("cy",(e=>h(e.y))).attr("r",3).on("mouseover",(function(e,t){b.style("opacity",1),w.style("opacity",1),b.attr("x",e.offsetX-30).attr("y",e.offsetY-40),w.html("x:"+Math.round(10*t.x)/10+"  -  y:"+Math.round(10*t.y)/10).attr("x",e.offsetX-15).attr("y",e.offsetY-20)})).on("mouseout",(function(){b.style("opacity",0),w.style("opacity",0)})).on("click",(function(e,t){const n="x:"+Math.round(10*t.x)/10+"  -  y:"+Math.round(10*t.y)/10;void 0!==i&&i(n)}))}(e,t,n,o,this.setValue.bind(this),s,i,r)}setValue(e){this.model.set({clickedValue:e}),this.model.save_changes()}}class V extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:V.model_name,_view_name:V.view_name,_model_module:V.model_module,_view_module:V.view_module,_model_module_version:V.model_module_version,_view_module_version:V.view_module_version,dataRecords:[],x:String,y:String,hue:String,elementId:String,clickedValue:String,selectedValuesRecords:[]}}static model_name="ScatterPlotModel";static model_module=w.name;static model_module_version=w.version;static view_name="ScatterPlotView";static view_module=w.name;static view_module_version=w.version}class A extends a.DOMWidgetView{timeout;render(){L(this),this.model.on("change:dataRecords",(()=>L(this)),this),this.model.on("change:x",(()=>L(this)),this),this.model.on("change:y",(()=>L(this)),this),this.model.on("change:hue",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("dataRecords"),t=this.model.get("x"),n=this.model.get("y"),a=this.model.get("hue");let i=this.model.get("elementId");"function"==typeof i&&(i=i());let o=k,s=this.el;i&&(s=document.getElementById(i),o=s.clientHeight);let r=s.clientWidth;const l=M;!function(e,t,n,a,i,o,s,r,l,d){const c=r-d.left-d.right,u=l-d.top-d.bottom;for(let t=0;t<e.length;t++)e[t].id=t;const m=Math.floor(Math.random()*Date.now()*1e4).toString(36);_.select(i).selectAll("*").remove();const p=_.scaleLinear().range([0,c]),h=_.scaleLinear().range([u,0]),f=_.scaleOrdinal(_.schemeCategory10),g=_.axisBottom(p),v=_.axisLeft(h),x=_.select(i).append("svg").attr("width",r).attr("height",l).append("g").attr("transform","translate("+d.left+","+d.top+")");if(p.domain(_.extent(e,(function(e){return e[t]}))).nice(),h.domain(_.extent(e,(function(e){return e[n]}))).nice(),x.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(g).append("text").attr("class","label").attr("x",c).attr("y",-6).style("text-anchor","end"),x.append("g").attr("class","y axis").call(v).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end"),x.selectAll(".dot").data(e).enter().append("circle").attr("id",(function(e,t){return"dot-"+m+e.id})).attr("class","dot").attr("r",3.5).attr("cx",(function(e){return p(e[t])})).attr("cy",(function(e){return h(e[n])})).style("fill",(function(e){return f(e[a])})).on("mouseover",(function(e,a){b.style("opacity",1),w.style("opacity",1),b.attr("x",e.offsetX-30).attr("y",e.offsetY-40),w.html("x: "+Math.round(10*a[t])/10+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y: "+Math.round(10*a[n])/10).attr("x",e.offsetX-15).attr("y",e.offsetY-20)})).on("mouseout",(function(){b.style("opacity",0),w.style("opacity",0)})).on("click",(function(e,a){const i="x:"+Math.round(10*a[t])/10+"    y:"+Math.round(10*a[n])/10;void 0!==o&&o(i)})),y(i,p,h,t,n,d.left,d.top,(function(){x.selectAll(".dot").data(e).attr("r",3.5).style("fill",(function(e){return f(e[a])}))}),(function(e){void 0!==s&&s(e)}),m),a){const e=x.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(0,"+20*t+")"}));e.append("rect").attr("x",c-18).attr("width",18).attr("height",18).style("fill",f),e.append("text").attr("x",c-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text((function(e){return e}))}const b=x.append("g").append("rect").style("fill","none").attr("width",160).attr("height",40).attr("stroke","#69b3a2").attr("stroke-width",4).style("opacity",0),w=x.append("g").append("text").style("opacity",0).attr("text-anchor","left").attr("alignment-baseline","middle")}(e,t,n,a,s,this.setValue.bind(this),this.setSelectedValues.bind(this),r,o,l)}setValue(e){this.model.set({clickedValue:e}),this.model.save_changes()}setSelectedValues(e){this.model.set({selectedValuesRecords:e}),this.model.save_changes()}}class D extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:D.model_name,_view_name:D.view_name,_model_module:D.model_module,_view_module:D.view_module,_model_module_version:D.model_module_version,_view_module_version:D.view_module_version,dataRecords:[],x:String,y:String,hue:String,elementId:String,clickedValue:String,selectedValuesRecords:[]}}static model_name="LinearPlotModel";static model_module=w.name;static model_module_version=w.version;static view_name="LinearPlotView";static view_module=w.name;static view_module_version=w.version}class O extends a.DOMWidgetView{timeout;render(){L(this),this.model.on("change:dataRecords",(()=>L(this)),this),this.model.on("change:x",(()=>L(this)),this),this.model.on("change:y",(()=>L(this)),this),this.model.on("change:hue",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("dataRecords"),t=this.model.get("x"),n=this.model.get("y"),a=this.model.get("hue");let i=this.model.get("elementId");"function"==typeof i&&(i=i());let o=k,s=this.el;i&&(s=document.getElementById(i),o=s.clientHeight);let r=s.clientWidth;const l=M;!function(e,t,n,a,i,o,s,r,l,d){const c=r-d.left-d.right,u=l-d.top-d.bottom;e=function(e,t,n,a){function i(e){const i=e.reduce((function(e,i){if(!e[i[t]]){const o={};return o[t]=i[t],o[n]=i[n],a&&(o[a]=i[a]),o.count=1,e[i[t]]=o,e}return e[i[t]][n]+=i[n],e[i[t]].count+=1,e}),{}),o=Object.keys(i).map((function(e){const t=i[e],a={};return a[n]=t[n]/t.count,{...t,...a}}));return o.sort((r=1,"-"===(s=t)[0]&&(r=-1,s=s.substr(1)),function(e,t){return(e[s]<t[s]?-1:e[s]>t[s]?1:0)*r})),o;var s,r}if(!a)return i(e);let o=b(e,a),s=[];return Object.values(o).forEach((function(e,t){const n=i(e);s=s.concat(n)})),s}(e,t,[n],a);for(let t=0;t<e.length;t++)e[t].id=t;const m=Math.floor(Math.random()*Date.now()*1e4).toString(36);_.select(i).selectAll("*").remove();const p=_.scaleLinear().range([0,c]),h=_.scaleLinear().range([u,0]),f=_.scaleOrdinal(_.schemeCategory10),g=_.axisBottom(p),v=_.axisLeft(h),x=_.select(i).append("svg").attr("width",r).attr("height",l).append("g").attr("transform","translate("+d.left+","+d.top+")");function w(e,a){x.append("path").datum(e).attr("fill","none").attr("stroke",f(a)).attr("stroke-width",2).attr("d",_.line().x((e=>p(e[t]))).y((e=>h(e[n]))))}if(p.domain(_.extent(e,(function(e){return e[t]}))).nice(),h.domain(_.extent(e,(function(e){return e[n]}))).nice(),x.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(g).append("text").attr("class","label").attr("x",c).attr("y",-6).style("text-anchor","end"),x.append("g").attr("class","y axis").call(v).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end"),a){const t=b(e,a);Object.keys(t).forEach((function(e,n){w(t[e],e)}))}else w(e);if(x.selectAll(".dot").data(e).enter().append("circle").attr("id",(function(e,t){return"dot-"+m+e.id})).attr("class","dot").attr("r",3.5).attr("cx",(function(e){return p(e[t])})).attr("cy",(function(e){return h(e[n])})).style("fill",(function(e){return f(e[a])})).on("mouseover",(function(e,a){k.style("opacity",1),M.style("opacity",1),k.attr("x",e.offsetX-30).attr("y",e.offsetY-40),M.html("x: "+Math.round(10*a[t])/10+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y: "+Math.round(10*a[n])/10).attr("x",e.offsetX-15).attr("y",e.offsetY-20)})).on("mouseout",(function(){k.style("opacity",0),M.style("opacity",0)})).on("click",(function(e,a){const i="x:"+Math.round(10*a[t])/10+"    y:"+Math.round(10*a[n])/10;void 0!==o&&o(i)})),y(i,p,h,t,n,d.left,d.top,(function(){x.selectAll(".dot").data(e).attr("r",3.5).style("fill",(function(e){return f(e[a])}))}),(function(e){void 0!==s&&s(e)}),m),a){const e=x.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(0,"+20*t+")"}));e.append("rect").attr("x",c-18).attr("width",18).attr("height",18).style("fill",f),e.append("text").attr("x",c-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text((function(e){return e}))}const k=x.append("g").append("rect").style("fill","none").attr("width",160).attr("height",40).attr("stroke","#69b3a2").attr("stroke-width",4).style("opacity",0),M=x.append("g").append("text").style("opacity",0).attr("text-anchor","left").attr("alignment-baseline","middle")}(e,t,n,a,s,this.setValue.bind(this),this.setSelectedValues.bind(this),r,o,l)}setValue(e){this.model.set({clickedValue:e}),this.model.save_changes()}setSelectedValues(e){this.model.set({selectedValuesRecords:e}),this.model.save_changes()}}class j extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:j.model_name,_view_name:j.view_name,_model_module:j.model_module,_view_module:j.view_module,_model_module_version:j.model_module_version,_view_module_version:j.view_module_version,dataRecords:[],x:String,y:String,hue:String,elementId:String}}static model_name="BarPlotModel";static model_module=w.name;static model_module_version=w.version;static view_name="BarPlotView";static view_module=w.name;static view_module_version=w.version}class C extends a.DOMWidgetView{timeout;render(){L(this),this.model.on("change:dataRecords",(()=>L(this)),this),this.model.on("change:x",(()=>L(this)),this),this.model.on("change:y",(()=>L(this)),this),this.model.on("change:hue",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("dataRecords"),t=this.model.get("x"),n=this.model.get("y"),a=this.model.get("hue");let i=this.model.get("elementId");"function"==typeof i&&(i=i());let o=k,s=this.el;i&&(s=document.getElementById(i),o=s.clientHeight),function(e,t,n,a,i,o,s,r){const l=o-r.left-r.right,d=s-r.top-r.bottom;_.select(i).selectAll("*").remove();const c=_.select(i).append("svg").attr("width",o).attr("height",s).append("g").attr("transform","translate("+r.left+","+r.top+")");a||(a=t);const u=e.reduce(((e,t)=>(e&&-1===e.indexOf(t[a])&&e.push(t[a]),e)),[]),m={},p=_.scaleOrdinal(_.schemeCategory10);a==t?function(){let a=e.reduce(((e,a)=>{const i=a[t],o=a[n];if(i in e)e[i]+=o,m[i].qt+=1,m[i][n].push(o);else{const t={qt:1};t[n]=[],t[n].push(o),m[i]=t,e[i]=o}return e}),{});a=Object.keys(a).map((e=>{const i={};return i[t]=e,i[n]=a[e],0!=m[e].qt&&(i[n]=i[n]/m[e].qt),i})),Object.keys(m).forEach((e=>{const t=m[e][n],[a,i]=x(t);m[e].min=a,m[e].max=i}));const i=a.map((e=>e[t])),o=[],s=Object.keys(m).map((e=>m[e]));o.push(_.min(s,(e=>e.min))),o.push(_.max(s,(e=>e.max))),o[0]>0&&o[1]>0?o[0]=0:o[0]<0&&o[1]<0&&(o[1]=0);const r=_.scaleLinear().domain(o).range([d,0]);c.append("g").call(_.axisLeft(r));const h=_.scaleBand().domain(i).range([0,l]).padding([.2]);c.append("g").selectAll("g").data(a).enter().append("rect").attr("x",(function(e){return h(e[t])})).attr("y",(function(e){return r(e[n])<r(0)?r(e[n]):r(0)})).attr("width",h.bandwidth()).attr("height",(function(e){return Math.abs(r(0)-r(e[n]))})).data(u).attr("fill",(function(e){return p(e)}));const f=Object.keys(m).map((e=>{const n={};return n[t]=e,n.min=m[e].min,n.max=m[e].max,n}));c.append("g").selectAll("g").data(f).enter().append("rect").attr("x",(function(e){return h(e[t])+h.bandwidth()/2-1})).attr("y",(function(e){return r(e.max)})).attr("width",2).attr("height",(function(e){return r(e.min)-r(e.max)})),c.append("g").style("font","18px times").attr("transform","translate(0,"+r(0)+")").call(_.axisBottom(h).tickSize(0))}():function(){let i=e.reduce(((e,i)=>{const o=i[t],s=i[n],r=i[a];if(o in e){m[o].qt[n+"-"+r]+=1,m[o][r][n].push(s);for(const t of u)r==t&&(e[o][n+"-"+t]+=s)}else{const t={};u.forEach((e=>{t[e]={},t[e][n]=[]}));const a={};for(const e of u)a[n+"-"+e]=0;a[n+"-"+r]=1,t.qt=a,t[r][n].push(s),m[o]=t;const i={};for(const e of u)i[n+"-"+e]=r==e?s:0;e[o]=i}return e}),{});i=Object.keys(i).map((e=>{let n={};n[t]=e;for(const t of Object.keys(i[e]))0!=m[e].qt[t]&&(i[e][t]=i[e][t]/m[e].qt[t]);return n={...n,...i[e]},n})),Object.keys(m).forEach((e=>{u.forEach((t=>{const a=m[e][t][n],[i,o]=x(a);m[e][t].min=i,m[e][t].max=o}))}));const o=u.map((e=>n+"-"+e)),s=i.map((e=>e[t])),r=[];Object.keys(m).map((e=>{u.forEach((t=>r.push(m[e][t])))}));const h=[];h.push(_.min(r,(e=>e.min))),h.push(_.max(r,(e=>e.max))),h[0]>0&&h[1]>0?h[0]=0:h[0]<0&&h[1]<0&&(h[1]=0);const f=_.scaleLinear().domain(h).range([d,0]);c.append("g").call(_.axisLeft(f));const g=_.scaleBand().domain(s).range([0,l]).padding([.2]),v=_.scaleBand().domain(o).range([0,g.bandwidth()]).padding([.05]);c.append("g").selectAll("g").data(i).enter().append("g").attr("transform",(function(e){return"translate("+g(e[t])+",0)"})).selectAll("rect").data((function(e){return o.map((function(t){return{key:t,value:e[t]}}))})).enter().append("rect").attr("x",(function(e){return v(e.key)})).attr("y",(function(e){return f(e.value)<f(0)?f(e.value):f(0)})).attr("width",v.bandwidth()).attr("height",(function(e){return Math.abs(f(0)-f(e.value))})).data(u).attr("fill",(function(e){return p(e)}));const y=Object.keys(m).map((e=>{let n={};return n[t]=e,n={...n,...m[e]},n}));c.append("g").selectAll("g").data(y).enter().append("g").attr("transform",(function(e){return"translate("+g(e[t])+",0)"})).selectAll("rect").data((function(e){return u.map((function(t){return{key:n+"-"+t,value:e[t]}}))})).enter().append("rect").attr("x",(function(e){return v(e.key)+v.bandwidth()/2-1})).attr("y",(function(e){return e.value.max?f(e.value.max):0})).attr("width",2).attr("height",(function(e){return e.value.min&&e.value.max?f(e.value.min)-f(e.value.max):0}));const b=c.selectAll(".legend").data(p.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(0,"+20*t+")"}));b.append("rect").attr("x",l-18).attr("width",18).attr("height",18).style("fill",p),b.append("text").attr("x",l-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text((function(e){return e})),c.append("g").style("font","18px times").attr("transform","translate(0,"+f(0)+")").call(_.axisBottom(g).tickSize(0))}()}(e,t,n,a,s,s.clientWidth,o,M)}}class R extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:R.model_name,_view_name:R.view_name,_model_module:R.model_module,_view_module:R.view_module,_model_module_version:R.model_module_version,_view_module_version:R.view_module_version,dataRecords:[],x:String,start:Number,end:Number,elementId:String}}static model_name="HistogramPlotModel";static model_module=w.name;static model_module_version=w.version;static view_name="HistogramPlotView";static view_module=w.name;static view_module_version=w.version}class I extends a.DOMWidgetView{timeout;render(){L(this),this.model.on("change:dataRecords",(()=>L(this)),this),this.model.on("change:x",(()=>L(this)),this),this.model.on("change:start",(()=>L(this)),this),this.model.on("change:end",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("dataRecords"),t=this.model.get("x"),n=this.model.get("start"),a=this.model.get("end");let i=this.model.get("elementId");"function"==typeof i&&(i=i());let o=k,s=this.el;i&&(s=document.getElementById(i),o=s.clientHeight),function(e,t,n,a,i,o,s,r){const l=o-r.left-r.right,d=s-r.top-r.bottom;_.select(i).selectAll("*").remove();let c=n;n||(c=_.min(e,(e=>e[t])));let u=a;a||(u=_.max(e,(e=>e[t])));const m=_.scaleLinear().range([0,l]),p=_.scaleLinear().range([d,0]),h=_.axisBottom(m),f=_.axisLeft(p),g=_.bin().thresholds(40).value((e=>Math.round(10*e[t])/10))(e),v=_.select(i).append("svg").attr("width",o).attr("height",s).append("g").attr("transform","translate("+r.left+","+r.top+")");m.domain([c,u]),p.domain([0,_.max(g,(e=>e.length))]),v.append("g").attr("transform","translate(0,"+d+")").call(h).append("text").attr("x",l).attr("y",-6).style("text-anchor","end"),v.append("g").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end"),v.append("g").attr("fill","steelblue").selectAll().data(g).join("rect").attr("x",(e=>m(e.x0)+1)).attr("width",(e=>m(e.x1)-m(e.x0)-1)).attr("y",(e=>p(e.length))).attr("height",(e=>p(0)-p(e.length)))}(e,t,n,a,s,s.clientWidth,o,M)}}class P extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:P.model_name,_view_name:P.view_name,_model_module:P.model_module,_view_module:P.view_module,_model_module_version:P.model_module_version,_view_module_version:P.view_module_version,matrix:[],grid_areas:[],grid_template_areas:String,style:String}}static model_name="EmbeddingModel";static model_module=w.name;static model_module_version=w.version;static view_name="EmbeddingView";static view_module=w.name;static view_module_version=w.version}class B extends a.DOMWidgetView{render(){this.value_changed()}value_changed(){const e=this.model.get("matrix"),t=this.model.get("grid_areas"),n=this.model.get("grid_template_areas");let a=this.model.get("style");a||(a="basic");const i=document.createElement("div");i.classList.add(a),i.style.display="grid",i.style.gridTemplateAreas=n,i.style.gridTemplateRows="repeat("+e.length+", 180px)",i.style.gridTemplateColumns="repeat("+e[0].length+", 1fr)",i.style.width="100%",t.forEach((e=>{const t=document.createElement("div");t.setAttribute("id",e),t.style.gridArea=e,t.classList.add("dashboard-div"),i.appendChild(t)})),this.el.appendChild(i)}}class W extends a.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:W.model_name,_view_name:W.view_name,_model_module:W.model_module,_view_module:W.view_module,_model_module_version:W.model_module_version,_view_module_version:W.view_module_version,dataRecords:[],variable:String,step:Number,description:String,minValue:Number,maxValue:Number,elementId:String}}static model_name="RangeSliderModel";static model_module=w.name;static model_module_version=w.version;static view_name="RangeSliderView";static view_module=w.name;static view_module_version=w.version}class H extends a.DOMWidgetView{render(){L(this),this.model.on("change:dataRecords",(()=>L(this)),this),this.model.on("change:variable",(()=>L(this)),this),this.model.on("change:step",(()=>L(this)),this),this.model.on("change:description",(()=>L(this)),this),window.addEventListener("resize",(()=>L(this)))}plot(){const e=this.model.get("dataRecords"),t=this.model.get("variable"),n=this.model.get("step"),a=this.model.get("description");let i=this.model.get("elementId");const o=this.model.get("minValue"),s=this.model.get("maxValue");"function"==typeof i&&(i=i());let r=this.el;i&&(r=document.getElementById(i));const l=M;!function(e,t,n,a,i,o,s,r,l){const d=document.createElement("div");d.classList.add("range_outside_container"),d.style.margin=l.top+"px "+l.right+"px "+l.bottom+"px "+l.left+"px";const c=document.createElement("span");c.classList.add("range_description"),c.textContent=a,d.appendChild(c);const u=document.createElement("div");u.classList.add("range_inside_container"),d.appendChild(u);const m=document.createElement("span");m.classList.add("range_value"),d.appendChild(m);const p=document.createElement("div");p.classList.add("sliders_control"),u.appendChild(p);const h=document.createElement("input");h.classList.add("top_slider"),h.setAttribute("step",n),h.setAttribute("type","range"),p.appendChild(h);const f=document.createElement("input");function g(e,t){m.textContent=e+" - "+t,s(e,t)}f.setAttribute("step",n),f.setAttribute("type","range"),p.appendChild(f);const v=_.min(e,(e=>e[t])),x=_.max(e,(e=>e[t]));h.setAttribute("min",v),h.setAttribute("max",x),f.setAttribute("min",v),f.setAttribute("max",x),i&&o?(h.value=i,f.value=o):(h.value=v,f.value=x),g(parseFloat(h.value),parseFloat(f.value)),h.addEventListener("input",(()=>{const e=parseFloat(h.value),t=parseFloat(f.value);e>t&&(h.value=f.value),g(e,t)})),f.addEventListener("input",(()=>{const e=parseFloat(h.value),t=parseFloat(f.value);t<e&&(f.value=h.value),g(e,t)})),h.addEventListener("click",(()=>{h.classList.add("top_slider"),f.classList.remove("top_slider")})),f.addEventListener("click",(()=>{f.classList.add("top_slider"),h.classList.remove("top_slider")})),r.innerHTML="",r.appendChild(d)}(e,t,n,a,o,s,this.setValues.bind(this),r,l)}setValues(e,t){this.model.set({minValue:e}),this.model.set({maxValue:t}),this.model.save_changes()}}var T=n(330)},930:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),i=n.n(a),o=n(314),s=n.n(o)()(i());s.push([e.id,'/***** EMBEDDING *****/\n.basic .dashboard-div {\n  border: 1px solid black;\n  text-align: center;\n}\n\n.dark .dashboard-div {\n  margin: 2px;\n  border-radius: 10px;\n  background-color: #262626;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n}\n\n.glassmorphism .dashboard-div {\n  margin: 5px;\n  border-radius: 10px;\n  background: rgb(255, 254, 254);\n  border: 1px solid rgb(255, 255, 255);\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.neumorphism .dashboard-div {\n  margin: 10px;\n  border-radius: 15px;\n  background-color: #e0e0e0;\n  box-shadow: 5px 5px 10px #bebebe, -5px -5px 10px #ffffff;\n}\n\n.minimalism .dashboard-div {\n  margin-bottom: 5px;\n}\n\n/***** RANGE SLIDER *****/\n.range_outside_container {\n  display: flex;\n  max-width: 500px;\n}\n\n.range_inside_container {\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n}\n\n.range_description {\n  padding-right: 20px;\n}\n\n.range_value {\n  padding-left: 20px;\n  width: 80px;\n}\n\n.sliders_control {\n  position: relative;\n  min-height: 50px;\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  pointer-events: all;\n  width: 24px;\n  height: 24px;\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 0 1px #c6c6c6;\n  cursor: pointer;\n}\n\ninput[type="range"]::-moz-range-thumb {\n  -webkit-appearance: none;\n  pointer-events: all;\n  width: 24px;\n  height: 24px;\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 0 1px #c6c6c6;\n  cursor: pointer;\n}\n\ninput[type="range"]::-webkit-slider-thumb:hover {\n  background: #f7f7f7;\n}\n\ninput[type="range"]::-webkit-slider-thumb:active {\n  box-shadow: inset 0 0 3px #387bbe, 0 0 9px #387bbe;\n  -webkit-box-shadow: inset 0 0 3px #387bbe, 0 0 9px #387bbe;\n}\n\ninput[type="range"] {\n  -webkit-appearance: none;\n  appearance: none;\n  height: 10px;\n  width: 100%;\n  border: none !important;\n  position: absolute;\n  background-color: #f79847;\n  pointer-events: none;\n}\n\n.top_slider {\n  height: 0 !important;\n  z-index: 1;\n  top: 5px;\n}\n',""]);const r=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},s=[],r=0;r<e.length;r++){var l=e[r],d=a.base?l[0]+a.base:l[0],c=o[d]||0,u="".concat(d," ").concat(c);o[d]=c+1;var m=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var h=i(p,a);a.byIndex=r,t.splice(r,0,{identifier:u,updater:h,references:1})}s.push(u)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=a(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var r=n(o[s]);t[r].references--}for(var l=a(e,i),d=0;d<o.length;d++){var c=n(o[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=l}}},659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},330:e=>{e.exports=JSON.parse('{"name":"d3vis_ipynb","version":"0.2.3","description":"A Custom Jupyter Widget Library with visualizations created with D3.js.","author":"Daniel Adam Miranda","license":"BSD-3-Clause","main":"lib/index.js","repository":{"type":"git","url":"https://github.com/H-IAAC/d3vis_ipynb.git"},"keywords":["jupyter","widgets","ipython","ipywidgets","jupyterlab-extension"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"scripts":{"clean":"rimraf dist/ && rimraf ../d3vis_ipynb/labextension/ && rimraf ../d3vis_ipynb/nbextension","prepublish":"yarn run clean && yarn run build:prod","build":"webpack --mode=development && yarn run build:labextension:dev","build:prod":"webpack --mode=production && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","watch":"webpack --watch --mode=development","start":"webpack serve --open --config webpack.exports.config.js","test":"echo \\"Error: no test specified\\" && exit 1"},"devDependencies":{"@jupyterlab/builder":"^4.0.6","html-webpack-plugin":"^5.6.0","rimraf":"^2.6.1","webpack":"^5","webpack-dev-server":"^5.0.2"},"dependencies":{"@jupyter-widgets/base":"^1.1 || ^2 || ^3 || ^4 || ^6","d3":"^7.9.0"},"jupyterlab":{"extension":"lib/labplugin","outputDir":"../d3vis_ipynb/labextension","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);