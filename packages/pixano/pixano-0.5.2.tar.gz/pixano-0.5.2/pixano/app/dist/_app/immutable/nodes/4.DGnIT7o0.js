var xt=Object.defineProperty;var es=(n,e,t)=>e in n?xt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var D=(n,e,t)=>(es(n,typeof e!="symbol"?e+"":e,t),t);import{n as q,X as ts,y as ue,Q as Mt,s as se,e as j,c as A,b as M,f as g,o as $,i as F,r as Oe,h as C,p as ae,M as Ne,I as je,t as ne,d as oe,j as be,J as Ae,v as N,q as Ue,x as Rt,a as P,g as L,a8 as lt,A as Bt,B as Ht,C as Ot,T as ss,D as nt,k as ye,E as rs,w as Pt,G as ls,S as Je,L as ve,R as ce,a9 as qe,l as Te,m as De,aa as ot}from"../chunks/scheduler.Cq5UBZ1T.js";import{n as ns,l as os,o as as,p as is,S as re,i as le,b as z,d as J,m as G,a as I,t as S,e as K,g as Z,c as x,j as cs,h as us,f as We}from"../chunks/index.D__UofN6.js";import{p as fs}from"../chunks/stores.titGXIKi.js";import{d as Y,r as Ie,w as me,g as ds}from"../chunks/entry.BdqlkNrw.js";import{e as ie,u as Me,f as hs,g as _e,a as Pe,o as Le,b as Se,D as ps,h as _s,d as gs}from"../chunks/datasetStores.BZ9GDOPp.js";import{b as ms,c as bs,s as vs,a as $s,d as ws,e as ks,f as ys,g as Es,h as Cs}from"../chunks/icons.Dxr1AG5A.js";import{i as Lt,q as Is}from"../chunks/command.YXxPKXvy.js";import{C as Ts,W as Ds}from"../chunks/checkbox.OiMtEzVH.js";import{B as Nt,P as Fs}from"../chunks/PrimaryButton.2luo0sZd.js";import{H as Ss}from"../chunks/Histogram.USYLred5.js";import{L as js}from"../chunks/loader-2.Cz-VINyt.js";function As(n,e,t,s){if(!e)return q;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return q;const{delay:l=0,duration:o=300,easing:a=ts,start:i=ns()+l,end:c=i+o,tick:d=q,css:w}=t(n,{from:e,to:r},s);let y=!0,m=!1,b;function f(){w&&(b=as(n,0,1,o,l,a,w)),l||(m=!0)}function u(){w&&is(n,b),y=!1}return os(h=>{if(!m&&h>=i&&(m=!0),m&&h>=c&&(d(1,0),u()),!y)return!1;if(m){const p=h-i,v=0+1*a(p/o);d(v,1-v)}return!0}),f(),d(0,1),u}function Ms(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Vt(n,r)}}function Vt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),r=s.transform==="none"?"":s.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Rs({fallback:n,...e}){const t=new Map,s=new Map;function r(o,a,i){const{delay:c=0,duration:d=V=>Math.sqrt(V)*30,easing:w=Lt}=ue(ue({},e),i),y=o.getBoundingClientRect(),m=a.getBoundingClientRect(),b=y.left-m.left,f=y.top-m.top,u=y.width/m.width,h=y.height/m.height,p=Math.sqrt(b*b+f*f),v=getComputedStyle(a),R=v.transform==="none"?"":v.transform,ee=+v.opacity;return{delay:c,duration:Mt(d)?d(p):d,easing:w,css:(V,k)=>`
				opacity: ${V*ee};
				transform-origin: top left;
				transform: ${R} translate(${k*b}px,${k*f}px) scale(${V+(1-V)*u}, ${V+(1-V)*h});
			`}}function l(o,a,i){return(c,d)=>(o.set(d.key,c),()=>{if(a.has(d.key)){const w=a.get(d.key);return a.delete(d.key),r(w,c,d)}return o.delete(d.key),n&&n(c,d,i)})}return[l(s,t,!1),l(t,s,!0)]}const Bs=!1,Hs=!1,Ml=Object.freeze(Object.defineProperty({__proto__:null,prerender:Bs,ssr:Hs},Symbol.toStringTag,{value:"Module"}));function Os(n){let e,t,s;return t=new Ss({props:{hist:n[0],minimal:!0}}),{c(){e=j("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var l=M(e);J(t.$$.fragment,l),l.forEach(g),this.h()},h(){$(e,"class","mx-8 h-24")},m(r,l){F(r,e,l),G(t,e,null),s=!0},p(r,[l]){const o={};l&1&&(o.hist=r[0]),t.$set(o)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){S(t.$$.fragment,r),s=!1},d(r){r&&g(e),K(t)}}}function Ps(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class Ls extends re{constructor(e){super(),le(this,e,Ps,Os,se,{value:0})}}function Ns(n){let e,t,s;return{c(){e=j("div"),t=j("img"),this.h()},l(r){e=A(r,"DIV",{class:!0});var l=M(e);t=A(l,"IMG",{class:!0,src:!0,alt:!0}),l.forEach(g),this.h()},h(){$(t,"class","h-full w-full object-cover rounded"),Oe(t.src,s=n[0])||$(t,"src",s),$(t,"alt",n[0]),$(e,"class","mx-8 h-20 aspect-square")},m(r,l){F(r,e,l),C(e,t)},p(r,[l]){l&1&&!Oe(t.src,s=r[0])&&$(t,"src",s),l&1&&$(t,"alt",r[0])},i:q,o:q,d(r){r&&g(e)}}}function Vs(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class zs extends re{constructor(e){super(),le(this,e,Vs,Ns,se,{value:0})}}function Gs(n){let e,t,s,r,l;return{c(){e=j("div"),t=j("video"),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=M(e);t=A(a,"VIDEO",{src:!0,class:!0}),M(t).forEach(g),a.forEach(g),this.h()},h(){Oe(t.src,s=n[0])||$(t,"src",s),t.loop=!0,t.muted=!0,$(t,"class","h-full w-full object-cover rounded"),$(e,"class","mx-8 h-20 aspect-square")},m(o,a){F(o,e,a),C(e,t),n[3](t),r||(l=[ae(t,"mouseenter",n[2]),ae(t,"mouseleave",n[2])],r=!0)},p(o,[a]){a&1&&!Oe(t.src,s=o[0])&&$(t,"src",s)},i:q,o:q,d(o){o&&g(e),n[3](null),r=!1,Ne(l)}}}function Ks(n,e,t){let{value:s}=e,r,l=!1;function o(){l=!l,l?(t(1,r.playbackRate=4,r),r.play().catch(()=>console.error("video playback error"))):r.pause()}function a(i){je[i?"unshift":"push"](()=>{r=i,t(1,r)})}return n.$$set=i=>{"value"in i&&t(0,s=i.value)},[s,r,o,a]}class qs extends re{constructor(e){super(),le(this,e,Ks,Gs,se,{value:0})}}function Us(n){let e,t;return{c(){e=j("div"),t=ne(n[0]),this.h()},l(s){e=A(s,"DIV",{class:!0});var r=M(e);t=oe(r,n[0]),r.forEach(g),this.h()},h(){$(e,"class","min-w-16 px-2")},m(s,r){F(s,e,r),C(e,t)},p(s,[r]){r&1&&be(t,s[0])},i:q,o:q,d(s){s&&g(e)}}}function Js(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class at extends re{constructor(e){super(),le(this,e,Js,Us,se,{value:0})}}function Ws(n){let e,t,s;return{c(){e=j("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0,class:!0}),this.h()},h(){$(e,"type","checkbox"),e.disabled=!0,$(e,"class","px-4 pointer-events: none;")},m(r,l){F(r,e,l),e.checked=n[0],t||(s=ae(e,"change",n[1]),t=!0)},p(r,[l]){l&1&&(e.checked=r[0])},i:q,o:q,d(r){r&&g(e),t=!1,s()}}}function Qs(n,e,t){let{value:s}=e;function r(){s=this.checked,t(0,s)}return n.$$set=l=>{"value"in l&&t(0,s=l.value)},[s,r]}class Xs extends re{constructor(e){super(),le(this,e,Qs,Ws,se,{value:0})}}function Ys(n){let e,t;return{c(){e=j("div"),t=ne(n[0]),this.h()},l(s){e=A(s,"DIV",{class:!0});var r=M(e);t=oe(r,n[0]),r.forEach(g),this.h()},h(){$(e,"class","min-w-24 px-2")},m(s,r){F(s,e,r),C(e,t)},p(s,[r]){r&1&&be(t,s[0])},i:q,o:q,d(s){s&&g(e)}}}function Zs(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class xs extends re{constructor(e){super(),le(this,e,Zs,Ys,se,{value:0})}}function er(n){let e,t,s;var r=n[1][n[0].dtype];function l(o,a){return{props:{value:o[0].value}}}return r&&(e=Ae(r,l(n))),{c(){e&&z(e.$$.fragment),t=N()},l(o){e&&J(e.$$.fragment,o),t=N()},m(o,a){e&&G(e,o,a),F(o,t,a),s=!0},p(o,[a]){if(a&1&&r!==(r=o[1][o[0].dtype])){if(e){Z();const i=e;S(i.$$.fragment,1,0,()=>{K(i,1)}),x()}r?(e=Ae(r,l(o)),z(e.$$.fragment),I(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(r){const i={};a&1&&(i.value=o[0].value),e.$set(i)}},i(o){s||(e&&I(e.$$.fragment,o),s=!0)},o(o){e&&S(e.$$.fragment,o),s=!1},d(o){o&&g(t),e&&K(e,o)}}}function tr(n,e,t){let{itemFeature:s}=e;const r={int:at,float:at,bool:Xs,str:xs,image:zs,video:qs,histogram:Ls};return n.$$set=l=>{"itemFeature"in l&&t(0,s=l.itemFeature)},[s,r]}class sr extends re{constructor(e){super(),le(this,e,tr,er,se,{itemFeature:0})}}function rr(n,{from:e,to:t},s={}){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform,[o,a]=r.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*a/t.height-(t.top+a),{delay:d=0,duration:w=m=>Math.sqrt(m)*120,easing:y=Lt}=s;return{delay:d,duration:Mt(w)?w(Math.sqrt(i*i+c*c)):w,easing:y,css:(m,b)=>{const f=b*i,u=b*c,h=m+b*e.width/t.width,p=m+b*e.height/t.height;return`transform: ${l} translate(${f}px, ${u}px) scale(${h}, ${p});`}}}function it(n,e,t){const s=n.slice();return s[15]=e[t],s[17]=t,s}const lr=n=>({item:n&1,index:n&1}),ct=n=>({item:n[15],index:n[17]});function ut(n){let e,t=[],s=new Map,r,l=ie(n[0]);const o=a=>a[8](a[15]);for(let a=0;a<l.length;a+=1){let i=it(n,l,a),c=o(i);s.set(c,t[a]=ft(c,i))}return{c(){e=j("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=A(a,"UL",{class:!0});var i=M(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(g),this.h()},h(){$(e,"class","svelte-s1iyrp")},m(a,i){F(a,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0},p(a,i){if(i&1523){l=ie(a[0]),Z();for(let c=0;c<t.length;c+=1)t[c].r();t=Me(t,i,o,1,a,l,s,e,hs,ft,null,it);for(let c=0;c<t.length;c+=1)t[c].a();x()}},i(a){if(!r){for(let i=0;i<l.length;i+=1)I(t[i]);r=!0}},o(a){for(let i=0;i<t.length;i+=1)S(t[i]);r=!1},d(a){a&&g(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function nr(n){let e,t=n[8](n[15])+"",s;return{c(){e=j("p"),s=ne(t)},l(r){e=A(r,"P",{});var l=M(e);s=oe(l,t),l.forEach(g)},m(r,l){F(r,e,l),C(e,s)},p(r,l){l&1&&t!==(t=r[8](r[15])+"")&&be(s,t)},d(r){r&&g(e)}}}function ft(n,e){let t,s,r,l,o,a,i,c=q,d,w,y;const m=e[11].default,b=Rt(m,e,e[10],ct),f=b||nr(e);return{key:n,first:null,c(){t=j("li"),f&&f.c(),s=P(),this.h()},l(u){t=A(u,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var h=M(t);f&&f.l(h),s=L(h),h.forEach(g),this.h()},h(){$(t,"data-index",r=e[17]),$(t,"data-id",l=JSON.stringify(e[8](e[15]))),$(t,"draggable","true"),$(t,"class","svelte-s1iyrp"),lt(t,"over",e[8](e[15])===e[1]),this.first=t},m(u,h){F(u,t,h),f&&f.m(t,null),C(t,s),d=!0,w||(y=[ae(t,"dragstart",e[4]),ae(t,"dragover",e[5]),ae(t,"dragleave",e[6]),ae(t,"drop",e[7])],w=!0)},p(u,h){e=u,b?b.p&&(!d||h&1025)&&Bt(b,m,e,e[10],d?Ot(m,e[10],h,lr):Ht(e[10]),ct):f&&f.p&&(!d||h&1)&&f.p(e,d?h:-1),(!d||h&1&&r!==(r=e[17]))&&$(t,"data-index",r),(!d||h&1&&l!==(l=JSON.stringify(e[8](e[15]))))&&$(t,"data-id",l),(!d||h&259)&&lt(t,"over",e[8](e[15])===e[1])},r(){i=t.getBoundingClientRect()},f(){Ms(t),c(),Vt(t,i)},a(){c(),c=As(t,i,rr,{duration:300})},i(u){d||(I(f,u),u&&ss(()=>{d&&(a&&a.end(1),o=cs(t,e[3],{key:e[8](e[15])}),o.start())}),d=!0)},o(u){S(f,u),o&&o.invalidate(),u&&(a=us(t,e[2],{key:e[8](e[15])})),d=!1},d(u){u&&g(t),f&&f.d(u),u&&a&&a.end(),w=!1,Ne(y)}}}function or(n){let e,t,s=n[0]&&n[0].length&&ut(n);return{c(){s&&s.c(),e=N()},l(r){s&&s.l(r),e=N()},m(r,l){s&&s.m(r,l),F(r,e,l),t=!0},p(r,[l]){r[0]&&r[0].length?s?(s.p(r,l),l&1&&I(s,1)):(s=ut(r),s.c(),I(s,1),s.m(e.parentNode,e)):s&&(Z(),S(s,1,1,()=>{s=null}),x())},i(r){t||(I(s),t=!0)},o(r){S(s),t=!1},d(r){r&&g(e),s&&s.d(r)}}}function ar(n,e,t){let{$$slots:s={},$$scope:r}=e;const[l,o]=Rs({duration:p=>Math.sqrt(p*200),fallback(p,v){const R=getComputedStyle(p),ee=R.transform==="none"?"":R.transform;return{duration:600,easing:Is,css:V=>`
					transform: ${ee} scale(${V});
					opacity: ${V}
				`}}});let a=!1;const i=p=>p.dataset.index&&p.dataset||i(p.parentNode),c=p=>{p.dataTransfer.setData("source",p.target.dataset.index)},d=p=>{p.preventDefault();let v=i(p.target);a!==v.id&&t(1,a=JSON.parse(v.id))},w=p=>{let v=i(p.target);a===v.id&&t(1,a=!1)},y=p=>{t(1,a=!1),p.preventDefault();let v=i(p.target),R=p.dataTransfer.getData("source"),ee=v.index;b({from:R,to:ee})},m=Ue(),b=({from:p,to:v})=>{let R=[...u];R[p]=[R[v],R[v]=R[p]][0],m("sort",R)},f=p=>h?p[h]:p;let{list:u}=e,{key:h}=e;return n.$$set=p=>{"list"in p&&t(0,u=p.list),"key"in p&&t(9,h=p.key),"$$scope"in p&&t(10,r=p.$$scope)},[u,a,l,o,c,d,w,y,f,h,r,s]}class ir extends re{constructor(e){super(),le(this,e,ar,or,se,{list:0,key:9})}}const zt=n=>{const e=Object.entries(n),t=e.map(([s])=>s);return Y(e.map(([,s])=>s),s=>Object.fromEntries(s.map((r,l)=>[t[l],r])))},cr=n=>n&1,ur=n=>({}),dt=n=>({...n[0]});function fr(n){let e;const t=n[3].default,s=Rt(t,n,n[2],dt);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,l){s&&s.m(r,l),e=!0},p(r,[l]){s&&s.p&&(!e||l&5)&&Bt(s,t,r,r[2],cr(l)||!e?Ht(r[2]):Ot(t,r[2],l,ur),dt)},i(r){e||(I(s,r),e=!0)},o(r){S(s,r),e=!1},d(r){s&&s.d(r)}}}function dr(n,e,t){const s=[];let r=nt(e,s),l,{$$slots:o={},$$scope:a}=e;const i=zt(r);return ye(n,i,c=>t(0,l=c)),n.$$set=c=>{e=ue(ue({},e),rs(c)),t(4,r=nt(e,s)),"$$scope"in c&&t(2,a=c.$$scope)},[l,i,a,o]}class Re extends re{constructor(e){super(),le(this,e,dr,fr,se,{})}}function ht(n,e,t){const s=n.slice();return s[5]=e[t],s}function hr(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function o(a,i){let c={$$slots:{default:[_r]},$$scope:{ctx:a}};if(i!==void 0&&i&4)c=_e(r,[Pe(a[2]??{})]);else for(let d=0;d<r.length;d+=1)c=ue(c,r[d]);return{props:c}}return l&&(e=Ae(l,o(n)),n[4](e)),{c(){e&&z(e.$$.fragment),t=N()},l(a){e&&J(e.$$.fragment,a),t=N()},m(a,i){e&&G(e,a,i),F(a,t,i),s=!0},p(a,i){if(i&2&&l!==(l=a[1].component)){if(e){Z();const c=e;S(c.$$.fragment,1,0,()=>{K(c,1)}),x()}l?(e=Ae(l,o(a,i)),a[4](e),z(e.$$.fragment),I(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(l){const c=i&4?_e(r,[Pe(a[2]??{})]):{};i&258&&(c.$$scope={dirty:i,ctx:a}),e.$set(c)}},i(a){s||(e&&I(e.$$.fragment,a),s=!0)},o(a){e&&S(e.$$.fragment,a),s=!1},d(a){a&&g(t),n[4](null),e&&K(e,a)}}}function pr(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function o(a,i){let c={};if(i!==void 0&&i&4)c=_e(r,[Pe(a[2]??{})]);else for(let d=0;d<r.length;d+=1)c=ue(c,r[d]);return{props:c}}return l&&(e=Ae(l,o(n)),n[3](e)),{c(){e&&z(e.$$.fragment),t=N()},l(a){e&&J(e.$$.fragment,a),t=N()},m(a,i){e&&G(e,a,i),F(a,t,i),s=!0},p(a,i){if(i&2&&l!==(l=a[1].component)){if(e){Z();const c=e;S(c.$$.fragment,1,0,()=>{K(c,1)}),x()}l?(e=Ae(l,o(a,i)),a[3](e),z(e.$$.fragment),I(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(l){const c=i&4?_e(r,[Pe(a[2]??{})]):{};e.$set(c)}},i(a){s||(e&&I(e.$$.fragment,a),s=!0)},o(a){e&&S(e.$$.fragment,a),s=!1},d(a){a&&g(t),n[3](null),e&&K(e,a)}}}function pt(n){let e,t;return e=new Xe({props:{of:n[5]}}),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,r){G(e,s,r),t=!0},p(s,r){const l={};r&2&&(l.of=s[5]),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function _r(n){let e,t,s=ie(n[1].children),r=[];for(let o=0;o<s.length;o+=1)r[o]=pt(ht(n,s,o));const l=o=>S(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=N()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=N()},m(o,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(o,a);F(o,e,a),t=!0},p(o,a){if(a&2){s=ie(o[1].children);let i;for(i=0;i<s.length;i+=1){const c=ht(o,s,i);r[i]?(r[i].p(c,a),I(r[i],1)):(r[i]=pt(c),r[i].c(),I(r[i],1),r[i].m(e.parentNode,e))}for(Z(),i=s.length;i<r.length;i+=1)l(i);x()}},i(o){if(!t){for(let a=0;a<s.length;a+=1)I(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)S(r[a]);t=!1},d(o){o&&g(e),Pt(r,o)}}}function gr(n){let e,t,s,r;const l=[pr,hr],o=[];function a(i,c){return i[1].children.length===0?0:1}return e=a(n),t=o[e]=l[e](n),{c(){t.c(),s=N()},l(i){t.l(i),s=N()},m(i,c){o[e].m(i,c),F(i,s,c),r=!0},p(i,[c]){let d=e;e=a(i),e===d?o[e].p(i,c):(Z(),S(o[d],1,1,()=>{o[d]=null}),x(),t=o[e],t?t.p(i,c):(t=o[e]=l[e](i),t.c()),I(t,1),t.m(s.parentNode,s))},i(i){r||(I(t),r=!0)},o(i){S(t),r=!1},d(i){i&&g(s),o[e].d(i)}}}function mr(n,e,t){let{instance:s=void 0}=e,{config:r}=e,{props:l=void 0}=e;function o(i){je[i?"unshift":"push"](()=>{s=i,t(0,s)})}function a(i){je[i?"unshift":"push"](()=>{s=i,t(0,s)})}return n.$$set=i=>{"instance"in i&&t(0,s=i.instance),"config"in i&&t(1,r=i.config),"props"in i&&t(2,l=i.props)},[s,r,l,o,a]}class Gt extends re{constructor(e){super(),le(this,e,mr,gr,se,{instance:0,config:1,props:2})}}const Qe=n=>(n==null?void 0:n.subscribe)instanceof Function,br=Ie(void 0);function vr(n){let e,t,s;function r(o){n[3](o)}let l={config:n[0],props:n[0].props};return n[1]!==void 0&&(l.instance=n[1]),e=new Gt({props:l}),je.push(()=>We(e,"instance",r)),{c(){z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,a){G(e,o,a),s=!0},p(o,a){const i={};a&1&&(i.config=o[0]),a&1&&(i.props=o[0].props),!t&&a&2&&(t=!0,i.instance=o[1],Je(()=>t=!1)),e.$set(i)},i(o){s||(I(e.$$.fragment,o),s=!0)},o(o){S(e.$$.fragment,o),s=!1},d(o){K(e,o)}}}function $r(n){let e,t;return e=new Re({props:{props:n[0].props,$$slots:{default:[wr,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,r){G(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.props=s[0].props),r&51&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function wr(n){let e,t,s;function r(o){n[2](o)}let l={config:n[0],props:n[4]};return n[1]!==void 0&&(l.instance=n[1]),e=new Gt({props:l}),je.push(()=>We(e,"instance",r)),{c(){z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,a){G(e,o,a),s=!0},p(o,a){const i={};a&1&&(i.config=o[0]),a&16&&(i.props=o[4]),!t&&a&2&&(t=!0,i.instance=o[1],Je(()=>t=!1)),e.$set(i)},i(o){s||(I(e.$$.fragment,o),s=!0)},o(o){S(e.$$.fragment,o),s=!1},d(o){K(e,o)}}}function kr(n){let e,t,s,r,l;const o=[$r,vr],a=[];function i(c,d){return d&1&&(e=null),e==null&&(e=!!Qe(c[0].props)),e?0:1}return t=i(n,-1),s=a[t]=o[t](n),{c(){s.c(),r=N()},l(c){s.l(c),r=N()},m(c,d){a[t].m(c,d),F(c,r,d),l=!0},p(c,[d]){let w=t;t=i(c,d),t===w?a[t].p(c,d):(Z(),S(a[w],1,1,()=>{a[w]=null}),x(),s=a[t],s?s.p(c,d):(s=a[t]=o[t](c),s.c()),I(s,1),s.m(r.parentNode,r))},i(c){l||(I(s),l=!0)},o(c){S(s),l=!1},d(c){c&&g(r),a[t].d(c)}}}function yr(n,e,t){let{config:s}=e,r;ls(function(){return s.eventHandlers.forEach(([i,c])=>{const d=r.$$.callbacks[i]??[];d.push(c),t(1,r.$$.callbacks[i]=d,r)}),function(){s.eventHandlers.forEach(([c,d])=>{const w=r.$$.callbacks[c],y=w.findIndex(m=>m===d);w.splice(y,1)})}});function l(a){r=a,t(1,r)}function o(a){r=a,t(1,r)}return n.$$set=a=>{"config"in a&&t(0,s=a.config)},[s,r,l,o]}class Er extends re{constructor(e){super(),le(this,e,yr,kr,se,{config:0})}}function Cr(n){let e,t;return e=new Er({props:{config:n[0]}}),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,r){G(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.config=s[0]),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function Ir(n){let e;return{c(){e=ne(n[0])},l(t){e=oe(t,n[0])},m(t,s){F(t,e,s)},p(t,s){s&1&&be(e,t[0])},i:q,o:q,d(t){t&&g(e)}}}function Tr(n){let e;return{c(){e=ne(n[1])},l(t){e=oe(t,n[1])},m(t,s){F(t,e,s)},p(t,s){s&2&&be(e,t[1])},i:q,o:q,d(t){t&&g(e)}}}function Dr(n){let e,t,s,r,l;const o=[Tr,Ir,Cr],a=[];function i(c,d){return d&1&&(e=null),e==null&&(e=!!Qe(c[0])),e?0:typeof c[0]!="object"?1:2}return t=i(n,-1),s=a[t]=o[t](n),{c(){s.c(),r=N()},l(c){s.l(c),r=N()},m(c,d){a[t].m(c,d),F(c,r,d),l=!0},p(c,[d]){let w=t;t=i(c,d),t===w?a[t].p(c,d):(Z(),S(a[w],1,1,()=>{a[w]=null}),x(),s=a[t],s?s.p(c,d):(s=a[t]=o[t](c),s.c()),I(s,1),s.m(r.parentNode,r))},i(c){l||(I(s),l=!0)},o(c){S(s),l=!1},d(c){c&&g(r),a[t].d(c)}}}function Fr(n,e,t){let s,{of:r}=e;const l=Qe(r)?r:br;return ye(n,l,o=>t(1,s=o)),n.$$set=o=>{"of"in o&&t(0,r=o.of)},[r,s,l]}class Xe extends re{constructor(e){super(),le(this,e,Fr,Dr,se,{of:0})}}class Sr{constructor(e,t){D(this,"component");D(this,"props");D(this,"eventHandlers",[]);D(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function jr(n,e){return new Sr(n,e)}class Kt{constructor({header:e,footer:t,height:s,plugins:r}){D(this,"header");D(this,"footer");D(this,"height");D(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=r}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class qt extends Kt{constructor({header:t,footer:s,plugins:r,id:l}){super({header:t,footer:s,plugins:r,height:1});D(this,"__flat",!0);D(this,"id");this.id=l??String(t)}}class Ar extends qt{constructor({header:t,footer:s,plugins:r,cell:l,accessor:o,id:a}){super({header:t,footer:s,plugins:r,id:"Initialization not complete"});D(this,"__data",!0);D(this,"cell");D(this,"accessorKey");D(this,"accessorFn");if(this.cell=l,o instanceof Function?this.accessorFn=o:this.accessorKey=o,a===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const i=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=a??i??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class Mr extends qt{constructor({header:t,footer:s,plugins:r,id:l,cell:o,data:a}){super({header:t,footer:s,plugins:r,id:l});D(this,"__display",!0);D(this,"cell");D(this,"data");this.cell=o,this.data=a}}class Rr extends Kt{constructor({header:t,footer:s,columns:r,plugins:l}){const o=Math.max(...r.map(a=>a.height))+1;super({header:t,footer:s,height:o,plugins:l});D(this,"__group",!0);D(this,"columns");D(this,"ids");this.columns=r,this.ids=Ut(r)}}const Ut=n=>n.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Jt=n=>n.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Jt(e.columns):[]),Br=n=>{const e=new Map;return n.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},Hr=n=>Array.from(Br(n).entries()).filter(([,e])=>e!==1).map(([e])=>e),Or=n=>Object.entries(n).map(([e,t])=>`${e}:${t}`).join(";"),Pr=(n,e)=>n.style===void 0&&e.style===void 0?{...n,...e}:{...n,...e,style:{...typeof n.style=="object"?n.style:{},...typeof e.style=="object"?e.style:{}}},He=n=>n.style===void 0||typeof n.style!="object"?n:{...n,style:Or(n.style)};class Ve{constructor({id:e}){D(this,"id");D(this,"attrsForName",{});D(this,"propsForName",{});D(this,"state");this.id=e}attrs(){return Y(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=Pr(t,s)}),He(t)})}props(){return zt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Wt extends Ve{constructor({id:t,row:s}){super({id:t});D(this,"row");this.row=s}attrs(){return Y(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class Ye extends Wt{constructor({row:t,column:s,label:r,value:l}){super({id:s.id,row:t});D(this,"__data",!0);D(this,"column");D(this,"label");D(this,"value");this.column=s,this.label=r,this.value=l}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new Ye({row:this.row,column:this.column,label:this.label,value:this.value})}}class Ze extends Wt{constructor({row:t,column:s,label:r}){super({id:s.id,row:t});D(this,"__display",!0);D(this,"column");D(this,"label");this.column=s,this.label=r}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new Ze({row:this.row,column:this.column,label:this.label})}}const ke=n=>n!==void 0;class Lr extends Ve{constructor({id:t,cells:s,cellForId:r,depth:l=0,parentRow:o}){super({id:t});D(this,"cells");D(this,"cellForId");D(this,"depth");D(this,"parentRow");D(this,"subRows");this.cells=s,this.cellForId=r,this.depth=l,this.parentRow=o}attrs(){return Y(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class xe extends Lr{constructor({id:t,dataId:s,original:r,cells:l,cellForId:o,depth:a=0,parentRow:i}){super({id:t,cells:l,cellForId:o,depth:a,parentRow:i});D(this,"__data",!0);D(this,"dataId");D(this,"original");this.dataId=s,this.original=r}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var l;const r=new xe({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const o=Object.fromEntries(Object.entries(r.cellForId).map(([i,c])=>{const d=c.clone();return d.row=r,[i,d]})),a=r.cells.map(({id:i})=>o[i]);r.cellForId=o,r.cells=a}if(s){const o=(l=this.subRows)==null?void 0:l.map(a=>a.clone({includeCells:t,includeSubRows:s}));r.subRows=o}else r.subRows=this.subRows;return r}}const Nr=(n,e,{rowDataId:t}={})=>{const s=n.map((r,l)=>{const o=l.toString();return new xe({id:o,dataId:t!==void 0?t(r,l):o,original:r,cells:[],cellForId:{}})});return n.forEach((r,l)=>{const o=e.map(a=>{if(a.isData()){const i=a,c=i.getValue(r);return new Ye({row:s[l],column:i,label:a.cell,value:c})}if(a.isDisplay()){const i=a;return new Ze({row:s[l],column:i,label:a.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[l].cells=o,e.forEach((a,i)=>{s[l].cellForId[a.id]=o[i]})}),s},Vr=(n,e)=>{const t=n.map(s=>{const r=s.clone();return r.cells=[],r.cellForId={},r});return n.length===0||e.length===0?n:(n.forEach((s,r)=>{const l=s.cells.map(a=>{const i=a.clone();return i.row=t[r],i}),o=e.map(a=>l.find(i=>i.id===a)).filter(ke);t[r].cells=o,l.forEach(a=>{t[r].cellForId[a.id]=a})}),t)},Qt=" ";class Xt extends Ve{constructor({id:t,label:s,colspan:r,colstart:l}){super({id:t});D(this,"label");D(this,"colspan");D(this,"colstart");this.label=s,this.colspan=r,this.colstart=l}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return Y(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class ze extends Xt{constructor({id:t,label:s,colstart:r}){super({id:t,label:s,colspan:1,colstart:r});D(this,"__flat",!0)}clone(){return new ze({id:this.id,label:this.label,colstart:this.colstart})}}class et extends ze{constructor({id:t,label:s,accessorKey:r,accessorFn:l,colstart:o}){super({id:t,label:s,colstart:o});D(this,"__data",!0);D(this,"accessorKey");D(this,"accessorFn");this.accessorKey=r,this.accessorFn=l}clone(){return new et({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ge extends ze{constructor({id:t,label:s=Qt,colstart:r}){super({id:t,label:s,colstart:r});D(this,"__display",!0)}clone(){return new Ge({id:this.id,label:this.label,colstart:this.colstart})}}class Ke extends Xt{constructor({label:t,ids:s,allIds:r,colspan:l,colstart:o}){super({id:`[${s.join(",")}]`,label:t,colspan:l,colstart:o});D(this,"__group",!0);D(this,"ids");D(this,"allId");D(this,"allIds");this.ids=s,this.allId=`[${r.join(",")}]`,this.allIds=r}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new Ke({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class tt extends Ke{constructor({label:t=Qt,ids:s,allIds:r,colspan:l=1,colstart:o}){super({label:t,ids:s,allIds:r,colspan:l,colstart:o});D(this,"__display",!0)}clone(){return new tt({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const zr=n=>n.reduce((e,t)=>e+t,0),Yt=(n,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(n).fill(null));return t},_t=n=>{const e=n.length;if(e===0)return n;const t=n[0].length,s=Yt(e,t);for(let r=0;r<t;r++)for(let l=0;l<e;l++)s[r][l]=n[l][r];return s};class st extends Ve{constructor({id:t,cells:s}){super({id:t});D(this,"cells");this.cells=s}attrs(){return Y(super.attrs(),t=>({...t,role:"row"}))}clone(){return new st({id:this.id,cells:this.cells})}}const Gr=(n,e=[])=>{const t=Kr(n);let s=_t(t);return s=qr(s,e),Ur(s),Jr(_t(s))},Kr=n=>{const e=zr(n.map(l=>l.isGroup()?l.ids.length:1)),t=Math.max(...n.map(l=>l.height)),s=Yt(e,t);let r=0;return n.forEach(l=>{const o=t-l.height;Zt(s,l,o,r),r+=l.isGroup()?l.ids.length:1}),s.map((l,o)=>l.map((a,i)=>{var d;if(a!==null)return a;if(o===t-1)return new Ge({id:i.toString(),colstart:i});const c=((d=s[t-1][i])==null?void 0:d.id)??i.toString();return new tt({ids:[],allIds:[c],colstart:i})}))},Zt=(n,e,t,s)=>{if(e.isData()){n[n.length-1][s]=new et({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){n[n.length-1][s]=new Ge({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let l=0;l<e.ids.length;l++)n[t][s+l]=new Ke({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let r=0;e.columns.forEach(l=>{Zt(n,l,t+1,s+r),r+=l.isGroup()?l.ids.length:1});return}},qr=(n,e)=>{if(e.length===0)return n;const t=[];return e.forEach((s,r)=>{const l=n.find(o=>{const a=o[o.length-1];if(!a.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return a.id===s});l!==void 0&&t.push(l.map(o=>{const a=o.clone();return a.colstart=r,a}))}),t},Ur=n=>{n.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},Jr=n=>n.map((e,t)=>new st({id:t.toString(),cells:Wr(e)})),Wr=n=>{if(n.length===0)return n;const e=[];let t=0,s=1;for(;t<n.length;){const r=n[t].clone();if(!r.isGroup()){e.push(r),t++;continue}s=t+1;const l=[...r.ids];for(;s<n.length;){const o=n[s];if(!o.isGroup()||r.allId!==o.allId)break;l.push(...o.ids),s++}r.setIds(l),r.colspan=s-t,e.push(r),t=s}return e},Qr=(n,e,{rowDataId:t}={})=>{const{data:s,plugins:r}=n,l=Jt(e),o=Ie(l),a=Y([s,o],([T,B])=>Nr(T,B,{rowDataId:t})),i=me([]),c=me(),d=me([]),w=me([]),y=me({role:"table"}),m=me({}),b=me({role:"rowgroup"}),f={data:s,columns:e,flatColumns:l,tableAttrs:y,tableHeadAttrs:m,tableBodyAttrs:b,visibleColumns:i,headerRows:c,originalRows:a,rows:d,pageRows:w},u=Object.fromEntries(Object.entries(r).map(([T,B])=>{const O=Object.fromEntries(l.map(Q=>{var fe;const X=(fe=Q.plugins)==null?void 0:fe[T];if(X!==void 0)return[Q.id,X]}).filter(ke));return[T,B({pluginName:T,tableState:f,columnOptions:O})]})),h=Object.fromEntries(Object.entries(u).map(([T,B])=>[T,B.pluginState])),p={data:s,columns:e,flatColumns:l,tableAttrs:y,tableHeadAttrs:m,tableBodyAttrs:b,visibleColumns:i,headerRows:c,originalRows:a,rows:d,pageRows:w,pluginStates:h},v=Object.values(u).map(T=>T.deriveTableAttrs).filter(ke);let R=Ie({role:"table"});v.forEach(T=>{R=T(R)});const ee=Y(R,T=>{const B=He(T);return y.set(B),B}),V=Object.values(u).map(T=>T.deriveTableBodyAttrs).filter(ke);let k=Ie({});V.forEach(T=>{k=T(k)});const U=Y(k,T=>{const B=He(T);return m.set(B),B}),W=Object.values(u).map(T=>T.deriveTableBodyAttrs).filter(ke);let te=Ie({role:"rowgroup"});W.forEach(T=>{te=T(te)});const Fe=Y(te,T=>{const B=He(T);return b.set(B),B}),de=Object.values(u).map(T=>T.deriveFlatColumns).filter(ke);let he=o;de.forEach(T=>{he=T(he)});const ge=Y(he,T=>(i.set(T),T)),$e=Y([a,ge],([T,B])=>Vr(T,B.map(O=>O.id))),Ee=Object.values(u).map(T=>T.deriveRows).filter(ke);let pe=$e;Ee.forEach(T=>{pe=T(pe)});const _=Y(pe,T=>(T.forEach(B=>{B.injectState(p),B.cells.forEach(O=>{O.injectState(p)})}),Object.entries(u).forEach(([B,O])=>{T.forEach(Q=>{var X;((X=O.hooks)==null?void 0:X["tbody.tr"])!==void 0&&Q.applyHook(B,O.hooks["tbody.tr"](Q)),Q.cells.forEach(fe=>{var we;((we=O.hooks)==null?void 0:we["tbody.tr.td"])!==void 0&&fe.applyHook(B,O.hooks["tbody.tr.td"](fe))})})}),d.set(T),T)),E=Object.values(u).map(T=>T.derivePageRows).filter(ke);let H=_;E.forEach(T=>{H=T(H)});const Ce=Y(H,T=>(T.forEach(B=>{B.injectState(p),B.cells.forEach(O=>{O.injectState(p)})}),Object.entries(u).forEach(([B,O])=>{T.forEach(Q=>{var X;((X=O.hooks)==null?void 0:X["tbody.tr"])!==void 0&&Q.applyHook(B,O.hooks["tbody.tr"](Q)),Q.cells.forEach(fe=>{var we;((we=O.hooks)==null?void 0:we["tbody.tr.td"])!==void 0&&fe.applyHook(B,O.hooks["tbody.tr.td"](fe))})})}),w.set(T),T)),Be=Y(ge,T=>{const B=Gr(e,T.map(O=>O.id));return B.forEach(O=>{O.injectState(p),O.cells.forEach(Q=>{Q.injectState(p)})}),Object.entries(u).forEach(([O,Q])=>{B.forEach(X=>{var fe;((fe=Q.hooks)==null?void 0:fe["thead.tr"])!==void 0&&X.applyHook(O,Q.hooks["thead.tr"](X)),X.cells.forEach(we=>{var rt;((rt=Q.hooks)==null?void 0:rt["thead.tr.th"])!==void 0&&we.applyHook(O,Q.hooks["thead.tr.th"](we))})})}),c.set(B),B});return{tableAttrs:ee,tableHeadAttrs:U,tableBodyAttrs:Fe,visibleColumns:ge,flatColumns:l,headerRows:Be,originalRows:a,rows:_,pageRows:Ce,pluginStates:h}};let Xr=class{constructor(e,t){D(this,"data");D(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Ut(e),s=Hr(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Ar(e)}group(e){return new Rr(e)}display(e){return new Mr(e)}createViewModel(e,t){return Qr(this,e,t)}};const Yr=(n,e={})=>new Xr(n,e),Zr=({initialColumnIdOrder:n=[],hideUnspecifiedColumns:e=!1}={})=>()=>{const t=me(n);return{pluginState:{columnIdOrder:t},deriveFlatColumns:l=>Y([l,t],([o,a])=>{const i=[...o],c=[];return a.forEach(d=>{const w=i.findIndex(y=>y.id===d);c.push(...i.splice(w,1))}),e||c.push(...i),c})}};Ie(void 0);const xr=({initialHiddenColumnIds:n=[]}={})=>()=>{const e=me(n);return{pluginState:{hiddenColumnIds:e},deriveFlatColumns:r=>Y([r,e],([l,o])=>o.length===0?l:l.filter(a=>!o.includes(a.id)))}};function gt(n,e,t){const s=n.slice();return s[31]=e[t],s}function mt(n,e,t){const s=n.slice();return s[35]=e[t],s}function bt(n,e,t){const s=n.slice();return s[39]=e[t],s}function vt(n,e,t){const s=n.slice();return s[35]=e[t],s}function el(n){let e,t,s,r,l,o=n[44]+"",a,i,c,d,w,y;function m(f){n[17](f,n[44])}let b={id:n[44]};return n[1][n[44]]!==void 0&&(b.checked=n[1][n[44]]),t=new Ts({props:b}),je.push(()=>We(t,"checked",m)),{c(){e=j("div"),z(t.$$.fragment),r=P(),l=j("label"),a=ne(o),c=P(),d=Te("svg"),w=Te("path"),this.h()},l(f){e=A(f,"DIV",{class:!0});var u=M(e);J(t.$$.fragment,u),r=L(u),l=A(u,"LABEL",{for:!0,class:!0});var h=M(l);a=oe(h,o),h.forEach(g),c=L(u),d=De(u,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var p=M(d);w=De(p,"path",{d:!0,fill:!0}),M(w).forEach(g),p.forEach(g),u.forEach(g),this.h()},h(){$(l,"for",i=n[44]),$(l,"class","text-sm select-none grow cursor-pointer"),$(w,"d",ms),$(w,"fill","grey"),$(d,"xmlns","http://www.w3.org/2000/svg"),$(d,"height","48"),$(d,"viewBox","0 -960 960 960"),$(d,"width","48"),$(d,"class","h-6 w-6 cursor-move"),$(e,"class","py-1 px-2 flex items-center space-x-2 border rounded-sm")},m(f,u){F(f,e,u),G(t,e,null),C(e,r),C(e,l),C(l,a),C(e,c),C(e,d),C(d,w),y=!0},p(f,u){n=f;const h={};u[1]&8192&&(h.id=n[44]),!s&&u[0]&2|u[1]&8192&&(s=!0,h.checked=n[1][n[44]],Je(()=>s=!1)),t.$set(h),(!y||u[1]&8192)&&o!==(o=n[44]+"")&&be(a,o),(!y||u[1]&8192&&i!==(i=n[44]))&&$(l,"for",i)},i(f){y||(I(t.$$.fragment,f),y=!0)},o(f){S(t.$$.fragment,f),y=!1},d(f){f&&g(e),K(t)}}}function tl(n){let e;return{c(){e=ne("Done")},l(t){e=oe(t,"Done")},m(t,s){F(t,e,s)},d(t){t&&g(e)}}}function sl(n){let e,t,s;t=new Xe({props:{of:n[35].render()}});let r=[n[38],{class:"relative py-4 font-semibold"}],l={};for(let o=0;o<r.length;o+=1)l=ue(l,r[o]);return{c(){e=j("th"),z(t.$$.fragment),this.h()},l(o){e=A(o,"TH",{class:!0});var a=M(e);J(t.$$.fragment,a),a.forEach(g),this.h()},h(){ce(e,l)},m(o,a){F(o,e,a),G(t,e,null),s=!0},p(o,a){const i={};a[0]&32&&(i.of=o[35].render()),t.$set(i),ce(e,l=_e(r,[a[1]&128&&o[38],{class:"relative py-4 font-semibold"}]))},i(o){s||(I(t.$$.fragment,o),s=!0)},o(o){S(t.$$.fragment,o),s=!1},d(o){o&&g(e),K(t)}}}function $t(n,e){let t,s,r;return s=new Re({props:{attrs:e[35].attrs(),$$slots:{default:[sl,({attrs:l})=>({38:l}),({attrs:l})=>[0,l?128:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=N(),z(s.$$.fragment),this.h()},l(l){t=N(),J(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){F(l,t,o),G(s,l,o),r=!0},p(l,o){e=l;const a={};o[0]&32&&(a.attrs=e[35].attrs()),o[0]&32|o[1]&16512&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(l){r||(I(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&g(t),K(s,l)}}}function rl(n){let e,t,s;return{c(){e=Te("svg"),t=Te("title"),s=Te("path"),this.h()},l(r){e=De(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var l=M(e);t=De(l,"title",{}),M(t).forEach(g),s=De(l,"path",{d:!0,fill:!0}),M(s).forEach(g),l.forEach(g),this.h()},h(){$(s,"d",bs),$(s,"fill","#111"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"height","48"),$(e,"viewBox","0 -960 960 960"),$(e,"width","48"),$(e,"class","h-6 w-6")},m(r,l){F(r,e,l),C(e,t),C(e,s)},p:q,d(r){r&&g(e)}}}function ll(n){let e,t=[],s=new Map,r,l,o,a,i,c,d,w=ie(n[39].cells);const y=f=>f[35].id;for(let f=0;f<w.length;f+=1){let u=vt(n,w,f),h=y(u);s.set(h,t[f]=$t(h,u))}i=new Nt({props:{variant:"ghost",$$slots:{default:[rl]},$$scope:{ctx:n}}}),i.$on("click",n[19]);let m=[n[34],{class:"sticky top-0 z-10 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}],b={};for(let f=0;f<m.length;f+=1)b=ue(b,m[f]);return{c(){e=j("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=P(),l=j("th"),o=P(),a=j("th"),z(i.$$.fragment),c=P(),this.h()},l(f){e=A(f,"TR",{class:!0});var u=M(e);for(let p=0;p<t.length;p+=1)t[p].l(u);r=L(u),l=A(u,"TH",{class:!0}),M(l).forEach(g),o=L(u),a=A(u,"TH",{class:!0});var h=M(a);J(i.$$.fragment,h),h.forEach(g),u.forEach(g),c=L(f),this.h()},h(){$(l,"class","w-full"),$(a,"class","pr-4"),ce(e,b)},m(f,u){F(f,e,u);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);C(e,r),C(e,l),C(e,o),C(e,a),G(i,a,null),F(f,c,u),d=!0},p(f,u){u[0]&32|u[1]&128&&(w=ie(f[39].cells),Z(),t=Me(t,u,y,1,f,w,s,e,Le,$t,r,vt),x());const h={};u[1]&16384&&(h.$$scope={dirty:u,ctx:f}),i.$set(h),ce(e,b=_e(m,[u[1]&8&&f[34],{class:"sticky top-0 z-10 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}]))},i(f){if(!d){for(let u=0;u<w.length;u+=1)I(t[u]);I(i.$$.fragment,f),d=!0}},o(f){for(let u=0;u<t.length;u+=1)S(t[u]);S(i.$$.fragment,f),d=!1},d(f){f&&(g(e),g(c));for(let u=0;u<t.length;u+=1)t[u].d();K(i)}}}function wt(n,e){let t,s,r;return s=new Re({props:{rowAttrs:e[39].attrs(),$$slots:{default:[ll,({rowAttrs:l})=>({34:l}),({rowAttrs:l})=>[0,l?8:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=N(),z(s.$$.fragment),this.h()},l(l){t=N(),J(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){F(l,t,o),G(s,l,o),r=!0},p(l,o){e=l;const a={};o[0]&32&&(a.rowAttrs=e[39].attrs()),o[0]&36|o[1]&16392&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(l){r||(I(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&g(t),K(s,l)}}}function nl(n){let e,t,s;t=new Xe({props:{of:n[35].render()}});let r=[n[38],{class:"border-b border-slate-300"}],l={};for(let o=0;o<r.length;o+=1)l=ue(l,r[o]);return{c(){e=j("td"),z(t.$$.fragment),this.h()},l(o){e=A(o,"TD",{class:!0});var a=M(e);J(t.$$.fragment,a),a.forEach(g),this.h()},h(){ce(e,l)},m(o,a){F(o,e,a),G(t,e,null),s=!0},p(o,a){const i={};a[0]&128&&(i.of=o[35].render()),t.$set(i),ce(e,l=_e(r,[a[1]&128&&o[38],{class:"border-b border-slate-300"}]))},i(o){s||(I(t.$$.fragment,o),s=!0)},o(o){S(t.$$.fragment,o),s=!1},d(o){o&&g(e),K(t)}}}function kt(n,e){let t,s,r;return s=new Re({props:{attrs:e[35].attrs(),$$slots:{default:[nl,({attrs:l})=>({38:l}),({attrs:l})=>[0,l?128:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=N(),z(s.$$.fragment),this.h()},l(l){t=N(),J(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){F(l,t,o),G(s,l,o),r=!0},p(l,o){e=l;const a={};o[0]&128&&(a.attrs=e[35].attrs()),o[0]&128|o[1]&16512&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(l){r||(I(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&g(t),K(s,l)}}}function ol(n){let e,t=[],s=new Map,r,l,o,a,i=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 ml-3 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${vs}" fill="currentcolor"></path></svg>`,c,d,w,y,m=ie(n[31].cells);const b=p=>p[35].id;for(let p=0;p<m.length;p+=1){let v=mt(n,m,p),R=b(v);s.set(R,t[p]=kt(R,v))}let f=[n[34],{class:"h-24 cursor-pointer hover:bg-slate-100"}],u={};for(let p=0;p<f.length;p+=1)u=ue(u,f[p]);function h(){return n[20](n[31])}return{c(){e=j("tr");for(let p=0;p<t.length;p+=1)t[p].c();r=P(),l=j("td"),o=P(),a=j("td"),a.innerHTML=i,c=P(),this.h()},l(p){e=A(p,"TR",{class:!0});var v=M(e);for(let R=0;R<t.length;R+=1)t[R].l(v);r=L(v),l=A(v,"TD",{class:!0}),M(l).forEach(g),o=L(v),a=A(v,"TD",{class:!0,"data-svelte-h":!0}),ve(a)!=="svelte-nb66sx"&&(a.innerHTML=i),v.forEach(g),c=L(p),this.h()},h(){$(l,"class","w-full border-b border-slate-300"),$(a,"class","border-b border-slate-300"),ce(e,u)},m(p,v){F(p,e,v);for(let R=0;R<t.length;R+=1)t[R]&&t[R].m(e,null);C(e,r),C(e,l),C(e,o),C(e,a),F(p,c,v),d=!0,w||(y=ae(e,"click",h),w=!0)},p(p,v){n=p,v[0]&128|v[1]&128&&(m=ie(n[31].cells),Z(),t=Me(t,v,b,1,n,m,s,e,Le,kt,r,mt),x()),ce(e,u=_e(f,[v[1]&8&&n[34],{class:"h-24 cursor-pointer hover:bg-slate-100"}]))},i(p){if(!d){for(let v=0;v<m.length;v+=1)I(t[v]);d=!0}},o(p){for(let v=0;v<t.length;v+=1)S(t[v]);d=!1},d(p){p&&(g(e),g(c));for(let v=0;v<t.length;v+=1)t[v].d();w=!1,y()}}}function yt(n,e){let t,s,r;return s=new Re({props:{rowAttrs:e[31].attrs(),$$slots:{default:[ol,({rowAttrs:l})=>({34:l}),({rowAttrs:l})=>[0,l?8:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=N(),z(s.$$.fragment),this.h()},l(l){t=N(),J(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){F(l,t,o),G(s,l,o),r=!0},p(l,o){e=l;const a={};o[0]&128&&(a.rowAttrs=e[31].attrs()),o[0]&129|o[1]&16392&&(a.$$scope={dirty:o,ctx:e}),s.$set(a)},i(l){r||(I(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&g(t),K(s,l)}}}function al(n){let e,t,s,r="Column settings",l,o,a="Drag and drop to re-order, toggle box for visibility.",i,c,d,w,y,m,b,f,u,h,p,v=[],R=new Map,ee,V,k=[],U=new Map,W;d=new ir({props:{list:n[3],$$slots:{default:[el,({item:_})=>({44:_}),({item:_})=>[0,_?8192:0]]},$$scope:{ctx:n}}}),d.$on("sort",n[13]),m=new Nt({props:{class:"text-white",$$slots:{default:[tl]},$$scope:{ctx:n}}}),m.$on("click",n[18]);let te=ie(n[5]);const Fe=_=>_[39].id;for(let _=0;_<te.length;_+=1){let E=bt(n,te,_),H=Fe(E);R.set(H,v[_]=wt(H,E))}let de=ie(n[7]);const he=_=>_[31].id;for(let _=0;_<de.length;_+=1){let E=gt(n,de,_),H=he(E);U.set(H,k[_]=yt(H,E))}let ge=[n[6]],$e={};for(let _=0;_<ge.length;_+=1)$e=ue($e,ge[_]);let Ee=[n[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}],pe={};for(let _=0;_<Ee.length;_+=1)pe=ue(pe,Ee[_]);return{c(){e=j("div"),t=j("div"),s=j("span"),s.textContent=r,l=P(),o=j("span"),o.textContent=a,i=P(),c=j("div"),z(d.$$.fragment),w=P(),y=j("div"),z(m.$$.fragment),f=P(),u=j("div"),h=j("table"),p=j("thead");for(let _=0;_<v.length;_+=1)v[_].c();ee=P(),V=j("tbody");for(let _=0;_<k.length;_+=1)k[_].c();this.h()},l(_){e=A(_,"DIV",{class:!0});var E=M(e);t=A(E,"DIV",{class:!0});var H=M(t);s=A(H,"SPAN",{class:!0,"data-svelte-h":!0}),ve(s)!=="svelte-1k4dd0o"&&(s.textContent=r),l=L(H),o=A(H,"SPAN",{class:!0,"data-svelte-h":!0}),ve(o)!=="svelte-du859n"&&(o.textContent=a),i=L(H),c=A(H,"DIV",{class:!0});var Ce=M(c);J(d.$$.fragment,Ce),Ce.forEach(g),w=L(H),y=A(H,"DIV",{class:!0});var Be=M(y);J(m.$$.fragment,Be),Be.forEach(g),H.forEach(g),E.forEach(g),f=L(_),u=A(_,"DIV",{class:!0});var T=M(u);h=A(T,"TABLE",{class:!0});var B=M(h);p=A(B,"THEAD",{});var O=M(p);for(let X=0;X<v.length;X+=1)v[X].l(O);O.forEach(g),ee=L(B),V=A(B,"TBODY",{});var Q=M(V);for(let X=0;X<k.length;X+=1)k[X].l(Q);Q.forEach(g),B.forEach(g),T.forEach(g),this.h()},h(){$(s,"class","text-3xl font-bold mb-4"),$(o,"class","text-sm italic text-gray-500 font-medium mb-3"),$(c,"class","flex flex-col space-y-2"),$(y,"class","my-6 flex justify-end items-end"),$(t,"class","px-12 pt-10 flex flex-col bg-white border border-slate-300 shadow-sm shadow-slate-300 rounded-lg"),$(e,"class",b="fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat "+(n[2]?"block":"hidden")),ce(V,$e),ce(h,pe),$(u,"class","h-full w-full overflow-y-auto overflow-x-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300 font-Montserrat")},m(_,E){F(_,e,E),C(e,t),C(t,s),C(t,l),C(t,o),C(t,i),C(t,c),G(d,c,null),C(t,w),C(t,y),G(m,y,null),F(_,f,E),F(_,u,E),C(u,h),C(h,p);for(let H=0;H<v.length;H+=1)v[H]&&v[H].m(p,null);C(h,ee),C(h,V);for(let H=0;H<k.length;H+=1)k[H]&&k[H].m(V,null);W=!0},p(_,E){const H={};E[0]&8&&(H.list=_[3]),E[0]&2|E[1]&24576&&(H.$$scope={dirty:E,ctx:_}),d.$set(H);const Ce={};E[1]&16384&&(Ce.$$scope={dirty:E,ctx:_}),m.$set(Ce),(!W||E[0]&4&&b!==(b="fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat "+(_[2]?"block":"hidden")))&&$(e,"class",b),E[0]&36|E[1]&136&&(te=ie(_[5]),Z(),v=Me(v,E,Fe,1,_,te,R,p,Le,wt,null,bt),x()),E[0]&32897|E[1]&136&&(de=ie(_[7]),Z(),k=Me(k,E,he,1,_,de,U,V,Le,yt,null,gt),x()),ce(V,$e=_e(ge,[E[0]&64&&_[6]])),ce(h,pe=_e(Ee,[E[0]&16&&_[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}]))},i(_){if(!W){I(d.$$.fragment,_),I(m.$$.fragment,_);for(let E=0;E<te.length;E+=1)I(v[E]);for(let E=0;E<de.length;E+=1)I(k[E]);W=!0}},o(_){S(d.$$.fragment,_),S(m.$$.fragment,_);for(let E=0;E<v.length;E+=1)S(v[E]);for(let E=0;E<k.length;E+=1)S(k[E]);W=!1},d(_){_&&(g(e),g(f),g(u)),K(d),K(m);for(let E=0;E<v.length;E+=1)v[E].d();for(let E=0;E<k.length;E+=1)k[E].d()}}}function il(n,e,t){let s,r,l,o,a,i,{items:c}=e;const d=Ie(c),w=Yr(d,{colOrder:Zr(),hideCols:xr()});let y=[],m=[],b=[];const f=_=>jr(sr,{itemFeature:_.value});Object.values(c[0]).forEach(_=>{y.push(w.column({header:_.name,cell:f,accessor:E=>E.find(H=>H.name===_.name)})),_.dtype==="image"||_.dtype==="video"?m.push(_.name):b.push(_.name)});let u=[...m,...b];const h=w.createColumns(y),{headerRows:p,rows:v,tableAttrs:R,tableBodyAttrs:ee,pluginStates:V}=w.createViewModel(h);ye(n,p,_=>t(5,o=_)),ye(n,v,_=>t(7,i=_)),ye(n,R,_=>t(4,l=_)),ye(n,ee,_=>t(6,a=_));const{columnIdOrder:k}=V.colOrder;ye(n,k,_=>t(3,r=_)),qe(k,r=[...u],r);const U=_=>{qe(k,r=_.detail,r)},{hiddenColumnIds:W}=V.hideCols;ye(n,W,_=>t(21,s=_));let te=Object.fromEntries(r.map(_=>[_,!0]));const Fe=Ue();function de(_){Fe("selectItem",_)}let he=!1;function ge(_,E){n.$$.not_equal(te[E],_)&&(te[E]=_,t(1,te))}const $e=()=>{t(2,he=!1)},Ee=()=>{t(2,he=!0)},pe=_=>{for(const E of c[_.id])if(E.name==="id"){de(E.value);return}};return n.$$set=_=>{"items"in _&&t(0,c=_.items)},n.$$.update=()=>{n.$$.dirty[0]&2&&qe(W,s=Object.entries(te).filter(([,_])=>!_).map(([_])=>_),s)},[c,te,he,r,l,o,a,i,p,v,R,ee,k,U,W,de,f,ge,$e,Ee,pe]}class cl extends re{constructor(e){super(),le(this,e,il,al,se,{items:0,FeatureCell:16},null,[-1,-1])}get FeatureCell(){return this.$$.ctx[16]}}function Et(n,e,t){const s=n.slice();return s[19]=e[t],s}function Ct(n){let e,t,s,r,l,o,a,i,c,d,w,y=n[7].length>0&&ul(n);const m=[hl,dl,fl],b=[];function f(h,p){return h[1]?0:h[0].isErrored?2:1}a=f(n),i=b[a]=m[a](n);let u=!n[0].isErrored&&Dt(n);return{c(){e=j("div"),t=j("div"),s=j("div"),r=P(),l=j("div"),y&&y.c(),o=P(),i.c(),c=P(),u&&u.c(),d=N(),this.h()},l(h){e=A(h,"DIV",{class:!0});var p=M(e);t=A(p,"DIV",{class:!0});var v=M(t);s=A(v,"DIV",{class:!0}),M(s).forEach(g),r=L(v),l=A(v,"DIV",{class:!0});var R=M(l);y&&y.l(R),R.forEach(g),v.forEach(g),o=L(p),i.l(p),p.forEach(g),c=L(h),u&&u.l(h),d=N(),this.h()},h(){$(s,"class","flex-grow"),$(l,"class","relative flex items-center"),$(t,"class","py-5 h-20 flex space-x-2 items-center"),$(e,"class","w-full h-full flex flex-col")},m(h,p){F(h,e,p),C(e,t),C(t,s),C(t,r),C(t,l),y&&y.m(l,null),C(e,o),b[a].m(e,null),F(h,c,p),u&&u.m(h,p),F(h,d,p),w=!0},p(h,p){h[7].length>0&&y.p(h,p);let v=a;a=f(h),a===v?b[a].p(h,p):(Z(),S(b[v],1,1,()=>{b[v]=null}),x(),i=b[a],i?i.p(h,p):(i=b[a]=m[a](h),i.c()),I(i,1),i.m(e,null)),h[0].isErrored?u&&(u.d(1),u=null):u?u.p(h,p):(u=Dt(h),u.c(),u.m(d.parentNode,d))},i(h){w||(I(i),w=!0)},o(h){S(i),w=!1},d(h){h&&(g(e),g(c),g(d)),y&&y.d(),b[a].d(),u&&u.d(h)}}}function ul(n){let e,t,s,r,l,o,a,i,c,d,w,y=ie(n[7]),m=[];for(let f=0;f<y.length;f+=1)m[f]=It(Et(n,y,f));let b=n[5]!==""&&Tt(n);return{c(){e=j("select");for(let f=0;f<m.length;f+=1)m[f].c();t=P(),s=j("div"),r=j("input"),o=P(),a=Te("svg"),i=Te("path"),c=P(),b&&b.c(),this.h()},l(f){e=A(f,"SELECT",{class:!0});var u=M(e);for(let v=0;v<m.length;v+=1)m[v].l(u);u.forEach(g),t=L(f),s=A(f,"DIV",{class:!0});var h=M(s);r=A(h,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),o=L(h),a=De(h,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var p=M(a);i=De(p,"path",{d:!0,fill:!0}),M(i).forEach(g),p.forEach(g),c=L(h),b&&b.l(h),h.forEach(g),this.h()},h(){$(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),$(r,"id","sem-search-input"),$(r,"type","text"),r.value=n[5],$(r,"placeholder",l="Semantic search using "+n[6]),$(r,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),$(i,"d",$s),$(i,"fill","currentcolor"),$(a,"xmlns","http://www.w3.org/2000/svg"),$(a,"height","48"),$(a,"viewBox","0 -960 960 960"),$(a,"width","48"),$(a,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),$(s,"class","relative flex items-center")},m(f,u){F(f,e,u);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(e,null);F(f,t,u),F(f,s,u),C(s,r),C(s,o),C(s,a),C(a,i),C(s,c),b&&b.m(s,null),d||(w=ae(r,"change",n[14]),d=!0)},p(f,u){if(u&192){y=ie(f[7]);let h;for(h=0;h<y.length;h+=1){const p=Et(f,y,h);m[h]?m[h].p(p,u):(m[h]=It(p),m[h].c(),m[h].m(e,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=y.length}u&32&&r.value!==f[5]&&(r.value=f[5]),u&64&&l!==(l="Semantic search using "+f[6])&&$(r,"placeholder",l),f[5]!==""?b?b.p(f,u):(b=Tt(f),b.c(),b.m(s,null)):b&&(b.d(1),b=null)},d(f){f&&(g(e),g(t),g(s)),Pt(m,f),b&&b.d(),d=!1,w()}}}function It(n){let e,t=n[19]+"",s,r;return{c(){e=j("option"),s=ne(t),r=P(),this.h()},l(l){e=A(l,"OPTION",{});var o=M(e);s=oe(o,t),r=L(o),o.forEach(g),this.h()},h(){e.__value=n[6],ot(e,e.__value)},m(l,o){F(l,e,o),C(e,s),C(e,r)},p(l,o){o&64&&(e.__value=l[6],ot(e,e.__value))},d(l){l&&g(e)}}}function Tt(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${ws}" fill="currentcolor"></path></svg>`,s,r;return{c(){e=j("button"),e.innerHTML=t,this.h()},l(l){e=A(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-wv2rtu"&&(e.innerHTML=t),this.h()},h(){$(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(l,o){F(l,e,o),s||(r=ae(e,"click",n[9]),s=!0)},p:q,d(l){l&&g(e),s=!1,r()}}}function fl(n){let e,t,s="Error: dataset items could not be loaded",r,l,o;return l=new Fs({props:{$$slots:{default:[pl]},$$scope:{ctx:n}}}),l.$on("click",n[9]),{c(){e=j("div"),t=j("p"),t.textContent=s,r=P(),z(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var i=M(e);t=A(i,"P",{"data-svelte-h":!0}),ve(t)!=="svelte-lcj0vm"&&(t.textContent=s),r=L(i),J(l.$$.fragment,i),i.forEach(g),this.h()},h(){$(e,"class","flex flex-col gap-5 justify-center align-middle text-center max-w-xs m-auto mt-10")},m(a,i){F(a,e,i),C(e,t),C(e,r),G(l,e,null),o=!0},p(a,i){const c={};i&4194304&&(c.$$scope={dirty:i,ctx:a}),l.$set(c)},i(a){o||(I(l.$$.fragment,a),o=!0)},o(a){S(l.$$.fragment,a),o=!1},d(a){a&&g(e),K(l)}}}function dl(n){let e,t;return e=new cl({props:{items:n[15]}}),e.$on("selectItem",n[16]),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,r){G(e,s,r),t=!0},p:q,i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function hl(n){let e,t,s;return t=new js({props:{class:"animate-spin"}}),{c(){e=j("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var l=M(e);J(t.$$.fragment,l),l.forEach(g),this.h()},h(){$(e,"class","flex-grow flex justify-center items-center")},m(r,l){F(r,e,l),G(t,e,null),s=!0},p:q,i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){S(t.$$.fragment,r),s=!1},d(r){r&&g(e),K(t)}}}function pl(n){let e;return{c(){e=ne("Try again")},l(t){e=oe(t,"Try again")},m(t,s){F(t,e,s)},d(t){t&&g(e)}}}function Dt(n){let e,t,s,r=1+n[3]*(n[2]-1)+"",l,o,a=Math.min(n[3]*n[2],n[0].page.total)+"",i,c,d=n[0].page.total+"",w,y,m=n[0].page.total>n[3]&&Ft(n),b=n[0].page.total>n[3]&&St(n);return{c(){e=j("div"),m&&m.c(),t=P(),s=j("span"),l=ne(r),o=ne(" - "),i=ne(a),c=ne(` of
          `),w=ne(d),y=P(),b&&b.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var u=M(e);m&&m.l(u),t=L(u),s=A(u,"SPAN",{class:!0});var h=M(s);l=oe(h,r),o=oe(h," - "),i=oe(h,a),c=oe(h,` of
          `),w=oe(h,d),h.forEach(g),y=L(u),b&&b.l(u),u.forEach(g),this.h()},h(){$(s,"class","mx-4"),$(e,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(f,u){F(f,e,u),m&&m.m(e,null),C(e,t),C(e,s),C(s,l),C(s,o),C(s,i),C(s,c),C(s,w),C(e,y),b&&b.m(e,null)},p(f,u){f[0].page.total>f[3]?m?m.p(f,u):(m=Ft(f),m.c(),m.m(e,t)):m&&(m.d(1),m=null),u&12&&r!==(r=1+f[3]*(f[2]-1)+"")&&be(l,r),u&13&&a!==(a=Math.min(f[3]*f[2],f[0].page.total)+"")&&be(i,a),u&1&&d!==(d=f[0].page.total+"")&&be(w,d),f[0].page.total>f[3]?b?b.p(f,u):(b=St(f),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(f){f&&g(e),m&&m.d(),b&&b.d()}}}function Ft(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ks}" fill="currentcolor"></path></svg>`,s,r,l=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${ys}" fill="currentcolor"></path></svg>`,o,a;return{c(){e=j("button"),e.innerHTML=t,s=P(),r=j("button"),r.innerHTML=l},l(i){e=A(i,"BUTTON",{"data-svelte-h":!0}),ve(e)!=="svelte-18zo4xr"&&(e.innerHTML=t),s=L(i),r=A(i,"BUTTON",{"data-svelte-h":!0}),ve(r)!=="svelte-1n17f1n"&&(r.innerHTML=l)},m(i,c){F(i,e,c),F(i,s,c),F(i,r,c),o||(a=[ae(e,"click",n[10]),ae(r,"click",n[11])],o=!0)},p:q,d(i){i&&(g(e),g(s),g(r)),o=!1,Ne(a)}}}function St(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Es}" fill="currentcolor"></path></svg>`,s,r,l=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Cs}" fill="currentcolor"></path></svg>`,o,a;return{c(){e=j("button"),e.innerHTML=t,s=P(),r=j("button"),r.innerHTML=l},l(i){e=A(i,"BUTTON",{"data-svelte-h":!0}),ve(e)!=="svelte-1d9o6d7"&&(e.innerHTML=t),s=L(i),r=A(i,"BUTTON",{"data-svelte-h":!0}),ve(r)!=="svelte-92h5yb"&&(r.innerHTML=l)},m(i,c){F(i,e,c),F(i,s,c),F(i,r,c),o||(a=[ae(e,"click",n[12]),ae(r,"click",n[13])],o=!0)},p:q,d(i){i&&(g(e),g(s),g(r)),o=!1,Ne(a)}}}function jt(n){let e,t;return e=new Ds({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",n[17]),{c(){z(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,r){G(e,s,r),t=!0},p:q,i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){K(e,s)}}}function _l(n){let e,t,s,r,l=n[0].page&&Ct(n),o=n[4]&&jt(n),a=gl;return{c(){e=j("div"),l&&l.c(),t=P(),o&&o.c(),s=P(),this.h()},l(i){e=A(i,"DIV",{class:!0});var c=M(e);l&&l.l(c),t=L(c),o&&o.l(c),s=L(c),c.forEach(g),this.h()},h(){$(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(i,c){F(i,e,c),l&&l.m(e,null),C(e,t),o&&o.m(e,null),C(e,s),r=!0},p(i,[c]){i[0].page?l?(l.p(i,c),c&1&&I(l,1)):(l=Ct(i),l.c(),I(l,1),l.m(e,t)):l&&(Z(),S(l,1,1,()=>{l=null}),x()),i[4]?o?(o.p(i,c),c&16&&I(o,1)):(o=jt(i),o.c(),I(o,1),o.m(e,s)):o&&(Z(),S(o,1,1,()=>{o=null}),x())},i(i){r||(I(l),I(o),I(a),r=!0)},o(i){S(l),S(o),S(a),r=!1},d(i){i&&g(e),l&&l.d(),o&&o.d()}}}let gl=!1;function ml(n,e,t){var V;let{selectedDataset:s}=e,r=!1,l,o;Se.subscribe(k=>{t(2,l=(k==null?void 0:k.currentPage)||ps),t(3,o=(k==null?void 0:k.pageSize)||_s)});let a=!1,i="",c;const d=[];if("embeddings"in s.tables)for(const k of s.tables.embeddings)k.type=="search"&&(c||(c=k.source),d.push(k.source));const w=Ue();function y(k){w("selectItem",k)}function m(){document.getElementById("sem-search-input").value="",p()}function b(){l>1&&(t(1,r=!0),Se.update(k=>({...k,pageSize:(k==null?void 0:k.pageSize)||o,currentPage:1})))}function f(){l>1&&(t(1,r=!0),Se.update(k=>({...k,pageSize:(k==null?void 0:k.pageSize)||o,currentPage:l-1})))}function u(){var k;(((k=s.page)==null?void 0:k.total)||1)>l*o&&(t(1,r=!0),Se.update(U=>({...U,pageSize:(U==null?void 0:U.pageSize)||o,currentPage:l+1})))}function h(){var k;(((k=s.page)==null?void 0:k.total)||1)>l*o&&(t(1,r=!0),Se.update(U=>{var W;return{...U,pageSize:(U==null?void 0:U.pageSize)||o,currentPage:Math.ceil((((W=s.page)==null?void 0:W.total)||1)/o)}}))}function p(){t(5,i=document.getElementById("sem-search-input").value);let k={model:c,search:i};t(1,r=!0),Se.update(U=>({...U,currentPage:1,query:k}))}let v=[];(V=s.page)==null||V.items.forEach(k=>{let U=[];U.push({name:"id",dtype:"int",value:k.id}),U.push({name:"split",dtype:"str",value:k.split}),Object.values(k.views).forEach(W=>{U.push({name:W.id,dtype:"image",value:W.thumbnail})}),Object.values(k.features).forEach(W=>{U.push({name:W.name,dtype:W.dtype,value:W.value})}),v.push(U)});const R=k=>y(k.detail),ee=()=>t(4,a=!1);return n.$$set=k=>{"selectedDataset"in k&&t(0,s=k.selectedDataset)},n.$$.update=()=>{var k;n.$$.dirty&1&&(k=s.page)!=null&&k.items&&t(1,r=!1)},[s,r,l,o,a,i,c,d,y,m,b,f,u,h,p,v,R,ee]}class bl extends re{constructor(e){super(),le(this,e,ml,_l,se,{selectedDataset:0})}}function At(n){let e,t,s;return t=new bl({props:{selectedDataset:n[0]}}),t.$on("selectItem",n[2]),{c(){e=j("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var l=M(e);J(t.$$.fragment,l),l.forEach(g),this.h()},h(){$(e,"class","pt-20 h-1 min-h-screen")},m(r,l){F(r,e,l),G(t,e,null),s=!0},p(r,l){const o={};l&1&&(o.selectedDataset=r[0]),t.$set(o)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){S(t.$$.fragment,r),s=!1},d(r){r&&g(e),K(t)}}}function vl(n){var r;let e,t,s=((r=n[0])==null?void 0:r.page)&&At(n);return{c(){s&&s.c(),e=N()},l(l){s&&s.l(l),e=N()},m(l,o){s&&s.m(l,o),F(l,e,o),t=!0},p(l,[o]){var a;(a=l[0])!=null&&a.page?s?(s.p(l,o),o&1&&I(s,1)):(s=At(l),s.c(),I(s,1),s.m(e.parentNode,e)):s&&(Z(),S(s,1,1,()=>{s=null}),x())},i(l){t||(I(s),t=!0)},o(l){S(s),t=!1},d(l){l&&g(e),s&&s.d(l)}}}function $l(n,e,t){let s;const r=async o=>{await ds(`/${s.name}/dataset/${o.detail}`)},l=o=>r(o);{let o;fs.subscribe(a=>o=a.params.dataset),gs.subscribe(a=>{const i=a==null?void 0:a.find(c=>c.name===o);i&&t(0,s=i)})}return[s,r,l]}class Bl extends re{constructor(e){super(),le(this,e,$l,vl,se,{})}}export{Bl as component,Ml as universal};
