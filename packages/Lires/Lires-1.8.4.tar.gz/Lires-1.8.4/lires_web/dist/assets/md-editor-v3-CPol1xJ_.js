var Gn=Object.defineProperty;var qn=(e,t,l)=>t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var G=(e,t,l)=>(qn(e,typeof t!="symbol"?t+"":t,l),l),Ot=(e,t,l)=>{if(!t.has(e))throw TypeError("Cannot "+l)};var r=(e,t,l)=>(Ot(e,t,"read from private field"),l?l.call(e):t.get(e)),I=(e,t,l)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,l)},x=(e,t,l,n)=>(Ot(e,t,"write to private field"),n?n.call(e,l):t.set(e,l),l);var vt=(e,t,l,n)=>({set _(o){x(e,t,o,l)},get _(){return r(e,t,n)}}),E=(e,t,l)=>(Ot(e,t,"access private method"),l);import{C as Kn,a as Zn,R as Yt,I as zt,$ as Xn,L as Jn,H as Sn,x as Yn}from"./@vavt-DtLj4T47.js";import{d as q,i as R,c as d,r as se,a as U,w as L,o as K,b as gt,e as Wt,s as qe,f as fe,n as xe,T as Qn,h as eo,F as It,p as Ie,t as ze,g as to}from"./@vue-D_lT-ze_.js";import{E as Ne,H as _n,s as En,k as lo,d as no,h as oo,i as io,a as Xl,m as ao,u as so,r as ro,b as co,c as Le,e as Rt,f as uo,p as ho,C as Ye,l as mo,g as fo,S as go,j as vo}from"./@codemirror-4Zn9bE8B.js";import{a as k}from"./@lezer-tqr6QOpM.js";import{m as po}from"./medium-zoom-bWEtUbjf.js";import{c as bo}from"./copy-to-clipboard-B1uT6SkR.js";import{M as yo}from"./markdown-it-DI8MEbma.js";import{r as wo}from"./markdown-it-image-figures-BD49Kf-b.js";import{T as ko}from"./markdown-it-task-lists-BNI9E7ji.js";import{X as Co}from"./markdown-it-xss-DEpVfk-m.js";import{p as Pt}from"./vite-plugin-node-polyfills-Cgl3E5jI.js";const h="md-editor",$o="https://at.alicdn.com/t/c/font_2605852_rfu1p40qggh.js",To="https://at.alicdn.com/t/c/font_2605852_rfu1p40qggh.css",V="https://cdnjs.cloudflare.com/ajax/libs",So=`${V}/highlight.js/11.8.0/highlight.min.js`,Jl={main:`${V}/prettier/2.8.0/standalone.js`,markdown:`${V}/prettier/2.8.0/parser-markdown.js`},_o={css:`${V}/cropperjs/1.5.13/cropper.min.css`,js:`${V}/cropperjs/1.5.13/cropper.min.js`},Eo=`${V}/screenfull.js/5.2.0/screenfull.min.js`,xn=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],An=["markdownTotal","=","scrollSwitch"],Yl={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},xo=`${V}/mermaid/10.6.1/mermaid.esm.min.mjs`,Ao={js:`${V}/KaTeX/0.16.9/katex.min.js`,css:`${V}/KaTeX/0.16.9/katex.min.css`},Vt={a11y:{light:`${V}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${V}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${V}/highlight.js/11.8.0/styles/github.min.css`,dark:`${V}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${V}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${V}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${V}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${V}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${V}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${V}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},J={editorExtensions:{highlight:{js:So,css:Vt},prettier:{standaloneJs:Jl.main,parserMarkdownJs:Jl.markdown},cropper:{..._o},iconfont:$o,iconfontClass:To,screenfull:{js:Eo},mermaid:{js:xo},katex:{...Ao}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e},pt=170,ve=({instance:e,ctx:t,props:l={}},n="default")=>{const o=(e==null?void 0:e.$slots[n])||(t==null?void 0:t.slots[n]);return(o?o(e):"")||l[n]},Io={overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},Qe=q({props:Io,setup(e,t){const l=`${h}-dropdown-hidden`,n=se({overlayClass:[l],overlayStyle:{},triggerHover:!1,overlayHover:!1}),o=U(),i=U(),a=()=>{var s,f;n.triggerHover=!0;const y=o.value,w=i.value;if(!y||!w)return;const p=y.getBoundingClientRect(),v=y.offsetTop,C=y.offsetLeft,g=p.height,b=p.width,T=((s=document.querySelector(e.relative))==null?void 0:s.scrollLeft)||0,_=((f=document.querySelector(e.relative))==null?void 0:f.clientWidth)||0;let S=C-w.offsetWidth/2+b/2-T;S+w.offsetWidth>T+_&&(S=T+_-w.offsetWidth),S<0&&(S=0),n.overlayStyle={...n.overlayStyle,top:v+g+"px",left:S+"px"},e.onChange(!0)},m=()=>{n.overlayHover=!0};L(()=>e.visible,s=>{s?n.overlayClass=n.overlayClass.filter(f=>f!==l):n.overlayClass.push(l)});let u=-1;const c=s=>{o.value===s.target?n.triggerHover=!1:n.overlayHover=!1,clearTimeout(u),u=window.setTimeout(()=>{!n.overlayHover&&!n.triggerHover&&e.onChange(!1)},10)};return K(()=>{o.value.addEventListener("mouseenter",a),o.value.addEventListener("mouseleave",c),i.value.addEventListener("mouseenter",m),i.value.addEventListener("mouseleave",c)}),gt(()=>{o.value.removeEventListener("mouseenter",a),o.value.removeEventListener("mouseleave",c),i.value.removeEventListener("mouseenter",m),i.value.removeEventListener("mouseleave",c)}),()=>{const s=ve({ctx:t}),f=ve({props:e,ctx:t},"overlay"),y=Wt(s instanceof Array?s[0]:s,{ref:o,key:"cloned-dropdown-trigger"}),w=d("div",{class:[`${h}-dropdown`,n.overlayClass],style:n.overlayStyle,ref:i},[d("div",{class:`${h}-dropdown-overlay`},[f instanceof Array?f[0]:f])]);return[y,w]}}}),Lo={title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String},default:{type:[String,Object]}},yt=q({name:"DropdownToolbar",props:Lo,emits:["onChange"],setup(e,t){const l=R("editorId");return()=>{const n=ve({props:e,ctx:t},"trigger"),o=ve({props:e,ctx:t},"overlay"),i=ve({props:e,ctx:t});return d(Qe,{relative:`#${l}-toolbar-wrapper`,visible:e.visible,onChange:a=>{e.onChange instanceof Function?e.onChange(a):t.emit("onChange",a)},overlay:o},{default:()=>[d("div",{class:`${h}-toolbar-item`,title:e.title||""},[n,i])]})}}});yt.install=e=>(e.component(yt.name,yt),e);var Fo=Object.defineProperty,Ho=(e,t,l)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Mo=(e,t,l)=>(Ho(e,t+"",l),l);class Oo{constructor(){Mo(this,"pools",{})}remove(t,l,n){const i=this.pools[t]&&this.pools[t][l];i&&(this.pools[t][l]=i.filter(a=>a!==n))}clear(t){this.pools[t]={}}on(t,l){return this.pools[t]||(this.pools[t]={}),this.pools[t][l.name]||(this.pools[t][l.name]=[]),this.pools[t][l.name].push(l.callback),this.pools[t][l.name].includes(l.callback)}emit(t,l,...n){this.pools[t]||(this.pools[t]={});const i=this.pools[t][l];i&&i.forEach(a=>{try{a(...n)}catch(m){console.error(`${l} monitor event exception！`,m)}})}}const $=new Oo,Lt="onSave",Qt="changeCatalogVisible",In="changeFullscreen",Ql="pageFullscreenChanged",en="fullscreenChanged",tn="previewChanged",ln="previewOnlyChanged",nn="htmlPreviewChanged",on="catalogVisibleChanged",wt="buildFinished",Ke="errorCatcher",N="replace",Ft="uploadImage",Ut="openModals",Ln="ctrlZ",Fn="ctrlShiftZ",kt="catalogChanged",Hn="pushCatalog",el="rerender",Mn="eventListener",an=(e,t)=>{const l=n=>{const o=e.parentElement||document.body,i=o.offsetWidth,a=o.offsetHeight,{clientWidth:m}=document.documentElement,{clientHeight:u}=document.documentElement,c=n.offsetX,s=n.offsetY,f=w=>{let p=w.x+document.body.scrollLeft-document.body.clientLeft-c,v=w.y+document.body.scrollTop-document.body.clientTop-s;p=p<1?1:p<m-i-1?p:m-i-1,v=v<1?1:v<u-a-1?v:u-a-1,t?t(p,v):(o.style.left=`${p}px`,o.style.top=`${v}px`)};document.addEventListener("mousemove",f);const y=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",y)};document.addEventListener("mouseup",y)};return e.addEventListener("mousedown",l),()=>{e.removeEventListener("mousedown",l)}},ae=(e,t,l="")=>{var n;const o=document.getElementById(t.id);if(o)l!==""&&(Reflect.get(window,l)?(n=t.onload)==null||n.call(o,new Event("load")):t.onload&&o.addEventListener("load",t.onload));else{const i={...t};i.onload=null;const a=Po(e,i);t.onload&&a.addEventListener("load",t.onload),document.head.appendChild(a)}},Ro=(e,t)=>{const l=document.getElementById(t.id);l==null||l.remove(),ae(e,t)},Po=(e,t)=>{const l=document.createElement(e);return Object.keys(t).forEach(n=>{t[n]!==void 0&&(l[n]=t[n])}),l},Do=(e,t="image.png")=>{const l=e.split(","),n=l[0].match(/:(.*?);/);if(n){const o=n[1],i=atob(l[1]);let a=i.length;const m=new Uint8Array(a);for(;a--;)m[a]=i.charCodeAt(a);return new File([m],t,{type:o})}return null},jo=e=>{if(!e)return e;const t=e.split(`
`),l=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{l.push("<span></span>")}),l.push("</span>"),`<span class="code-block">${e}</span>${l.join("")}`},No=(e,t)=>{if(!e||!t)return 0;const l=e==null?void 0:e.getBoundingClientRect();if(t===document.documentElement)return l.top-t.clientTop;const n=t==null?void 0:t.getBoundingClientRect();return l.top-n.top},Bo=(()=>{let e=0;return t=>t+ ++e})(),sn=(()=>{let e=0;return()=>++e})(),zo=q({props:{name:{type:String,default:""}},setup(e){return()=>d("svg",{class:`${h}-icon`,"aria-hidden":"true"},[d("use",{"xlink:href":`#${h}-icon-${e.name}`},null)])}}),O=q({props:{name:{type:String,default:""}},setup(e){const t=R("customIcon");return()=>{const l=t.value[e.name];return typeof l=="object"?typeof l.component=="object"?eo(l.component,l.props):d("span",{innerHTML:l.component},null):d(zo,{name:e.name},null)}}}),Wo={title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:Object,default:()=>({})}},et=q({name:"MdModal",props:Wo,emits:["onClose"],setup(e,t){const l=R("theme"),n=U(e.visible),o=U([`${h}-modal`]),i=U(),a=U(),m=U(),u=qe();let c=()=>{};const s=se({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),f=fe(()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height});return L(()=>e.isFullscreen,y=>{y?c():xe(()=>{c=an(a.value,(w,p)=>{s.initPos.left=w+"px",s.initPos.top=p+"px"})})}),L(()=>e.visible,y=>{y?(s.maskStyle.zIndex=J.editorConfig.zIndex+sn(),s.modalStyle.zIndex=J.editorConfig.zIndex+sn(),o.value.push("zoom-in"),n.value=y,xe(()=>{const w=i.value.offsetWidth/2,p=i.value.offsetHeight/2,v=document.documentElement.clientWidth/2,C=document.documentElement.clientHeight/2;s.initPos.left=v-w+"px",s.initPos.top=C-p+"px",e.isFullscreen||(c=an(a.value,(g,b)=>{s.initPos.left=g+"px",s.initPos.top=b+"px"}))}),setTimeout(()=>{o.value=o.value.filter(w=>w!=="zoom-in")},140)):(o.value.push("zoom-out"),c(),setTimeout(()=>{o.value=o.value.filter(w=>w!=="zoom-out"),n.value=y},130))}),K(()=>{m.value=document.body}),()=>{const y=ve({ctx:t}),w=ve({props:e,ctx:t},"title");return m.value?d(Qn,{to:m.value},{default:()=>[d("div",{ref:u,class:`${h}-modal-container`,"data-theme":l.value},[d("div",{class:e.class,style:{...e.style,display:n.value?"block":"none"}},[d("div",{class:`${h}-modal-mask`,style:s.maskStyle,onClick:()=>{e.onClose?e.onClose():t.emit("onClose")}},null),d("div",{class:o.value,style:{...s.modalStyle,...s.initPos,...f.value},ref:i},[d("div",{class:`${h}-modal-header`,ref:a},[w||""]),d("div",{class:`${h}-modal-body`},[y]),d("div",{class:`${h}-modal-func`},[e.showAdjust&&d("div",{class:`${h}-modal-adjust`,onClick:p=>{p.stopPropagation(),e.isFullscreen?s.initPos=s.historyPos:(s.historyPos=s.initPos,s.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[d(O,{name:e.isFullscreen?"suoxiao":"fangda"},null)]),d("div",{class:`${h}-modal-close`,onClick:p=>{p.stopPropagation(),e.onClose?e.onClose():t.emit("onClose")}},[d(O,{name:"close"},null)])])])])])]}):""}}});et.install=e=>(e.component(et.name,et),e);const Xe=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,On=new Set,Gt=typeof Pt=="object"&&Pt?Pt:{},Rn=(e,t,l,n)=>{typeof Gt.emitWarning=="function"?Gt.emitWarning(e,t,l,n):console.error(`[${l}] ${t}: ${e}`)};let xt=globalThis.AbortController,rn=globalThis.AbortSignal;var Tn;if(typeof xt>"u"){rn=class{constructor(){G(this,"onabort");G(this,"_onabort",[]);G(this,"reason");G(this,"aborted",!1)}addEventListener(n,o){this._onabort.push(o)}},xt=class{constructor(){G(this,"signal",new rn);t()}abort(n){var o,i;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const a of this.signal._onabort)a(n);(i=(o=this.signal).onabort)==null||i.call(o,n)}}};let e=((Tn=Gt.env)==null?void 0:Tn.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,Rn("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Vo=e=>!On.has(e),Pe=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Pn=e=>Pe(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Ct:null:null;class Ct extends Array{constructor(t){super(t),this.fill(0)}}var tt;const We=class We{constructor(t,l){G(this,"heap");G(this,"length");if(!r(We,tt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new l(t),this.length=0}static create(t){const l=Pn(t);if(!l)return[];x(We,tt,!0);const n=new We(t,l);return x(We,tt,!1),n}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};tt=new WeakMap,I(We,tt,!1);let qt=We;var pe,ue,be,ye,lt,X,we,Z,W,A,oe,de,ne,Y,ke,Q,Ce,$e,he,Te,Be,ie,ut,Zt,Ve,Fe,dt,me,At,Dn,Ue,nt,ht,_e,De,Ee,je,mt,Xt,Ia,ot,$t,it,Tt,B,z,ft,Jt,Ge,at;const tl=class tl{constructor(t){I(this,ut);I(this,At);I(this,_e);I(this,Ee);I(this,mt);I(this,ot);I(this,it);I(this,B);I(this,ft);I(this,Ge);I(this,pe,void 0);I(this,ue,void 0);I(this,be,void 0);I(this,ye,void 0);I(this,lt,void 0);G(this,"ttl");G(this,"ttlResolution");G(this,"ttlAutopurge");G(this,"updateAgeOnGet");G(this,"updateAgeOnHas");G(this,"allowStale");G(this,"noDisposeOnSet");G(this,"noUpdateTTL");G(this,"maxEntrySize");G(this,"sizeCalculation");G(this,"noDeleteOnFetchRejection");G(this,"noDeleteOnStaleGet");G(this,"allowStaleOnFetchAbort");G(this,"allowStaleOnFetchRejection");G(this,"ignoreFetchAbort");I(this,X,void 0);I(this,we,void 0);I(this,Z,void 0);I(this,W,void 0);I(this,A,void 0);I(this,oe,void 0);I(this,de,void 0);I(this,ne,void 0);I(this,Y,void 0);I(this,ke,void 0);I(this,Q,void 0);I(this,Ce,void 0);I(this,$e,void 0);I(this,he,void 0);I(this,Te,void 0);I(this,Be,void 0);I(this,ie,void 0);I(this,Ve,()=>{});I(this,Fe,()=>{});I(this,dt,()=>{});I(this,me,()=>!1);I(this,Ue,t=>{});I(this,nt,(t,l,n)=>{});I(this,ht,(t,l,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});G(this,Ia,"LRUCache");const{max:l=0,ttl:n,ttlResolution:o=1,ttlAutopurge:i,updateAgeOnGet:a,updateAgeOnHas:m,allowStale:u,dispose:c,disposeAfter:s,noDisposeOnSet:f,noUpdateTTL:y,maxSize:w=0,maxEntrySize:p=0,sizeCalculation:v,fetchMethod:C,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:_,ignoreFetchAbort:S}=t;if(l!==0&&!Pe(l))throw new TypeError("max option must be a nonnegative integer");const H=l?Pn(l):Array;if(!H)throw new Error("invalid max value: "+l);if(x(this,pe,l),x(this,ue,w),this.maxEntrySize=p||r(this,ue),this.sizeCalculation=v,this.sizeCalculation){if(!r(this,ue)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(C!==void 0&&typeof C!="function")throw new TypeError("fetchMethod must be a function if specified");if(x(this,lt,C),x(this,Be,!!C),x(this,Z,new Map),x(this,W,new Array(l).fill(void 0)),x(this,A,new Array(l).fill(void 0)),x(this,oe,new H(l)),x(this,de,new H(l)),x(this,ne,0),x(this,Y,0),x(this,ke,qt.create(l)),x(this,X,0),x(this,we,0),typeof c=="function"&&x(this,be,c),typeof s=="function"?(x(this,ye,s),x(this,Q,[])):(x(this,ye,void 0),x(this,Q,void 0)),x(this,Te,!!r(this,be)),x(this,ie,!!r(this,ye)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(r(this,ue)!==0&&!Pe(r(this,ue)))throw new TypeError("maxSize must be a positive integer if specified");if(!Pe(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");E(this,At,Dn).call(this)}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!m,this.ttlResolution=Pe(o)||o===0?o:1,this.ttlAutopurge=!!i,this.ttl=n||0,this.ttl){if(!Pe(this.ttl))throw new TypeError("ttl must be a positive integer if specified");E(this,ut,Zt).call(this)}if(r(this,pe)===0&&this.ttl===0&&r(this,ue)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!r(this,pe)&&!r(this,ue)){const F="LRU_CACHE_UNBOUNDED";Vo(F)&&(On.add(F),Rn("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",F,tl))}}static unsafeExposeInternals(t){return{starts:r(t,$e),ttls:r(t,he),sizes:r(t,Ce),keyMap:r(t,Z),keyList:r(t,W),valList:r(t,A),next:r(t,oe),prev:r(t,de),get head(){return r(t,ne)},get tail(){return r(t,Y)},free:r(t,ke),isBackgroundFetch:l=>{var n;return E(n=t,B,z).call(n,l)},backgroundFetch:(l,n,o,i)=>{var a;return E(a=t,it,Tt).call(a,l,n,o,i)},moveToTail:l=>{var n;return E(n=t,Ge,at).call(n,l)},indexes:l=>{var n;return E(n=t,_e,De).call(n,l)},rindexes:l=>{var n;return E(n=t,Ee,je).call(n,l)},isStale:l=>{var n;return r(n=t,me).call(n,l)}}}get max(){return r(this,pe)}get maxSize(){return r(this,ue)}get calculatedSize(){return r(this,we)}get size(){return r(this,X)}get fetchMethod(){return r(this,lt)}get dispose(){return r(this,be)}get disposeAfter(){return r(this,ye)}getRemainingTTL(t){return r(this,Z).has(t)?1/0:0}*entries(){for(const t of E(this,_e,De).call(this))r(this,A)[t]!==void 0&&r(this,W)[t]!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield[r(this,W)[t],r(this,A)[t]])}*rentries(){for(const t of E(this,Ee,je).call(this))r(this,A)[t]!==void 0&&r(this,W)[t]!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield[r(this,W)[t],r(this,A)[t]])}*keys(){for(const t of E(this,_e,De).call(this)){const l=r(this,W)[t];l!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield l)}}*rkeys(){for(const t of E(this,Ee,je).call(this)){const l=r(this,W)[t];l!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield l)}}*values(){for(const t of E(this,_e,De).call(this))r(this,A)[t]!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield r(this,A)[t])}*rvalues(){for(const t of E(this,Ee,je).call(this))r(this,A)[t]!==void 0&&!E(this,B,z).call(this,r(this,A)[t])&&(yield r(this,A)[t])}[Symbol.iterator](){return this.entries()}find(t,l={}){for(const n of E(this,_e,De).call(this)){const o=r(this,A)[n],i=E(this,B,z).call(this,o)?o.__staleWhileFetching:o;if(i!==void 0&&t(i,r(this,W)[n],this))return this.get(r(this,W)[n],l)}}forEach(t,l=this){for(const n of E(this,_e,De).call(this)){const o=r(this,A)[n],i=E(this,B,z).call(this,o)?o.__staleWhileFetching:o;i!==void 0&&t.call(l,i,r(this,W)[n],this)}}rforEach(t,l=this){for(const n of E(this,Ee,je).call(this)){const o=r(this,A)[n],i=E(this,B,z).call(this,o)?o.__staleWhileFetching:o;i!==void 0&&t.call(l,i,r(this,W)[n],this)}}purgeStale(){let t=!1;for(const l of E(this,Ee,je).call(this,{allowStale:!0}))r(this,me).call(this,l)&&(this.delete(r(this,W)[l]),t=!0);return t}info(t){const l=r(this,Z).get(t);if(l===void 0)return;const n=r(this,A)[l],o=E(this,B,z).call(this,n)?n.__staleWhileFetching:n;if(o===void 0)return;const i={value:o};if(r(this,he)&&r(this,$e)){const a=r(this,he)[l],m=r(this,$e)[l];if(a&&m){const u=a-(Xe.now()-m);i.ttl=u,i.start=Date.now()}}return r(this,Ce)&&(i.size=r(this,Ce)[l]),i}dump(){const t=[];for(const l of E(this,_e,De).call(this,{allowStale:!0})){const n=r(this,W)[l],o=r(this,A)[l],i=E(this,B,z).call(this,o)?o.__staleWhileFetching:o;if(i===void 0||n===void 0)continue;const a={value:i};if(r(this,he)&&r(this,$e)){a.ttl=r(this,he)[l];const m=Xe.now()-r(this,$e)[l];a.start=Math.floor(Date.now()-m)}r(this,Ce)&&(a.size=r(this,Ce)[l]),t.unshift([n,a])}return t}load(t){this.clear();for(const[l,n]of t){if(n.start){const o=Date.now()-n.start;n.start=Xe.now()-o}this.set(l,n.value,n)}}set(t,l,n={}){var y,w,p,v,C;if(l===void 0)return this.delete(t),this;const{ttl:o=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:m=this.sizeCalculation,status:u}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const s=r(this,ht).call(this,t,l,n.size||0,m);if(this.maxEntrySize&&s>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.delete(t),this;let f=r(this,X)===0?void 0:r(this,Z).get(t);if(f===void 0)f=r(this,X)===0?r(this,Y):r(this,ke).length!==0?r(this,ke).pop():r(this,X)===r(this,pe)?E(this,ot,$t).call(this,!1):r(this,X),r(this,W)[f]=t,r(this,A)[f]=l,r(this,Z).set(t,f),r(this,oe)[r(this,Y)]=f,r(this,de)[f]=r(this,Y),x(this,Y,f),vt(this,X)._++,r(this,nt).call(this,f,s,u),u&&(u.set="add"),c=!1;else{E(this,Ge,at).call(this,f);const g=r(this,A)[f];if(l!==g){if(r(this,Be)&&E(this,B,z).call(this,g)){g.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:b}=g;b!==void 0&&!a&&(r(this,Te)&&((y=r(this,be))==null||y.call(this,b,t,"set")),r(this,ie)&&((w=r(this,Q))==null||w.push([b,t,"set"])))}else a||(r(this,Te)&&((p=r(this,be))==null||p.call(this,g,t,"set")),r(this,ie)&&((v=r(this,Q))==null||v.push([g,t,"set"])));if(r(this,Ue).call(this,f),r(this,nt).call(this,f,s,u),r(this,A)[f]=l,u){u.set="replace";const b=g&&E(this,B,z).call(this,g)?g.__staleWhileFetching:g;b!==void 0&&(u.oldValue=b)}}else u&&(u.set="update")}if(o!==0&&!r(this,he)&&E(this,ut,Zt).call(this),r(this,he)&&(c||r(this,dt).call(this,f,o,i),u&&r(this,Fe).call(this,u,f)),!a&&r(this,ie)&&r(this,Q)){const g=r(this,Q);let b;for(;b=g==null?void 0:g.shift();)(C=r(this,ye))==null||C.call(this,...b)}return this}pop(){var t;try{for(;r(this,X);){const l=r(this,A)[r(this,ne)];if(E(this,ot,$t).call(this,!0),E(this,B,z).call(this,l)){if(l.__staleWhileFetching)return l.__staleWhileFetching}else if(l!==void 0)return l}}finally{if(r(this,ie)&&r(this,Q)){const l=r(this,Q);let n;for(;n=l==null?void 0:l.shift();)(t=r(this,ye))==null||t.call(this,...n)}}}has(t,l={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=l,i=r(this,Z).get(t);if(i!==void 0){const a=r(this,A)[i];if(E(this,B,z).call(this,a)&&a.__staleWhileFetching===void 0)return!1;if(r(this,me).call(this,i))o&&(o.has="stale",r(this,Fe).call(this,o,i));else return n&&r(this,Ve).call(this,i),o&&(o.has="hit",r(this,Fe).call(this,o,i)),!0}else o&&(o.has="miss");return!1}peek(t,l={}){const{allowStale:n=this.allowStale}=l,o=r(this,Z).get(t);if(o===void 0||!n&&r(this,me).call(this,o))return;const i=r(this,A)[o];return E(this,B,z).call(this,i)?i.__staleWhileFetching:i}async fetch(t,l={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:m=this.noDisposeOnSet,size:u=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:s=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:y=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:v,forceRefresh:C=!1,status:g,signal:b}=l;if(!r(this,Be))return g&&(g.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:i,status:g});const T={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:m,size:u,sizeCalculation:c,noUpdateTTL:s,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:p,ignoreFetchAbort:w,status:g,signal:b};let _=r(this,Z).get(t);if(_===void 0){g&&(g.fetch="miss");const S=E(this,it,Tt).call(this,t,_,T,v);return S.__returned=S}else{const S=r(this,A)[_];if(E(this,B,z).call(this,S)){const j=n&&S.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",j&&(g.returnedStale=!0)),j?S.__staleWhileFetching:S.__returned=S}const H=r(this,me).call(this,_);if(!C&&!H)return g&&(g.fetch="hit"),E(this,Ge,at).call(this,_),o&&r(this,Ve).call(this,_),g&&r(this,Fe).call(this,g,_),S;const F=E(this,it,Tt).call(this,t,_,T,v),D=F.__staleWhileFetching!==void 0&&n;return g&&(g.fetch=H?"stale":"refresh",D&&H&&(g.returnedStale=!0)),D?F.__staleWhileFetching:F.__returned=F}}get(t,l={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=l,m=r(this,Z).get(t);if(m!==void 0){const u=r(this,A)[m],c=E(this,B,z).call(this,u);return a&&r(this,Fe).call(this,a,m),r(this,me).call(this,m)?(a&&(a.get="stale"),c?(a&&n&&u.__staleWhileFetching!==void 0&&(a.returnedStale=!0),n?u.__staleWhileFetching:void 0):(i||this.delete(t),a&&n&&(a.returnedStale=!0),n?u:void 0)):(a&&(a.get="hit"),c?u.__staleWhileFetching:(E(this,Ge,at).call(this,m),o&&r(this,Ve).call(this,m),u))}else a&&(a.get="miss")}delete(t){var n,o,i,a;let l=!1;if(r(this,X)!==0){const m=r(this,Z).get(t);if(m!==void 0)if(l=!0,r(this,X)===1)this.clear();else{r(this,Ue).call(this,m);const u=r(this,A)[m];if(E(this,B,z).call(this,u)?u.__abortController.abort(new Error("deleted")):(r(this,Te)||r(this,ie))&&(r(this,Te)&&((n=r(this,be))==null||n.call(this,u,t,"delete")),r(this,ie)&&((o=r(this,Q))==null||o.push([u,t,"delete"]))),r(this,Z).delete(t),r(this,W)[m]=void 0,r(this,A)[m]=void 0,m===r(this,Y))x(this,Y,r(this,de)[m]);else if(m===r(this,ne))x(this,ne,r(this,oe)[m]);else{const c=r(this,de)[m];r(this,oe)[c]=r(this,oe)[m];const s=r(this,oe)[m];r(this,de)[s]=r(this,de)[m]}vt(this,X)._--,r(this,ke).push(m)}}if(r(this,ie)&&((i=r(this,Q))!=null&&i.length)){const m=r(this,Q);let u;for(;u=m==null?void 0:m.shift();)(a=r(this,ye))==null||a.call(this,...u)}return l}clear(){var t,l,n;for(const o of E(this,Ee,je).call(this,{allowStale:!0})){const i=r(this,A)[o];if(E(this,B,z).call(this,i))i.__abortController.abort(new Error("deleted"));else{const a=r(this,W)[o];r(this,Te)&&((t=r(this,be))==null||t.call(this,i,a,"delete")),r(this,ie)&&((l=r(this,Q))==null||l.push([i,a,"delete"]))}}if(r(this,Z).clear(),r(this,A).fill(void 0),r(this,W).fill(void 0),r(this,he)&&r(this,$e)&&(r(this,he).fill(0),r(this,$e).fill(0)),r(this,Ce)&&r(this,Ce).fill(0),x(this,ne,0),x(this,Y,0),r(this,ke).length=0,x(this,we,0),x(this,X,0),r(this,ie)&&r(this,Q)){const o=r(this,Q);let i;for(;i=o==null?void 0:o.shift();)(n=r(this,ye))==null||n.call(this,...i)}}};Ia=Symbol.toStringTag,pe=new WeakMap,ue=new WeakMap,be=new WeakMap,ye=new WeakMap,lt=new WeakMap,X=new WeakMap,we=new WeakMap,Z=new WeakMap,W=new WeakMap,A=new WeakMap,oe=new WeakMap,de=new WeakMap,ne=new WeakMap,Y=new WeakMap,ke=new WeakMap,Q=new WeakMap,Ce=new WeakMap,$e=new WeakMap,he=new WeakMap,Te=new WeakMap,Be=new WeakMap,ie=new WeakMap,ut=new WeakSet,Zt=function(){const t=new Ct(r(this,pe)),l=new Ct(r(this,pe));x(this,he,t),x(this,$e,l),x(this,dt,(i,a,m=Xe.now())=>{if(l[i]=a!==0?m:0,t[i]=a,a!==0&&this.ttlAutopurge){const u=setTimeout(()=>{r(this,me).call(this,i)&&this.delete(r(this,W)[i])},a+1);u.unref&&u.unref()}}),x(this,Ve,i=>{l[i]=t[i]!==0?Xe.now():0}),x(this,Fe,(i,a)=>{if(t[a]){const m=t[a],u=l[a];if(!m||!u)return;i.ttl=m,i.start=u,i.now=n||o();const c=i.now-u;i.remainingTTL=m-c}});let n=0;const o=()=>{const i=Xe.now();if(this.ttlResolution>0){n=i;const a=setTimeout(()=>n=0,this.ttlResolution);a.unref&&a.unref()}return i};this.getRemainingTTL=i=>{const a=r(this,Z).get(i);if(a===void 0)return 0;const m=t[a],u=l[a];if(!m||!u)return 1/0;const c=(n||o())-u;return m-c},x(this,me,i=>{const a=l[i],m=t[i];return!!m&&!!a&&(n||o())-a>m})},Ve=new WeakMap,Fe=new WeakMap,dt=new WeakMap,me=new WeakMap,At=new WeakSet,Dn=function(){const t=new Ct(r(this,pe));x(this,we,0),x(this,Ce,t),x(this,Ue,l=>{x(this,we,r(this,we)-t[l]),t[l]=0}),x(this,ht,(l,n,o,i)=>{if(E(this,B,z).call(this,n))return 0;if(!Pe(o))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(o=i(n,l),!Pe(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o}),x(this,nt,(l,n,o)=>{if(t[l]=n,r(this,ue)){const i=r(this,ue)-t[l];for(;r(this,we)>i;)E(this,ot,$t).call(this,!0)}x(this,we,r(this,we)+t[l]),o&&(o.entrySize=n,o.totalCalculatedSize=r(this,we))})},Ue=new WeakMap,nt=new WeakMap,ht=new WeakMap,_e=new WeakSet,De=function*({allowStale:t=this.allowStale}={}){if(r(this,X))for(let l=r(this,Y);!(!E(this,mt,Xt).call(this,l)||((t||!r(this,me).call(this,l))&&(yield l),l===r(this,ne)));)l=r(this,de)[l]},Ee=new WeakSet,je=function*({allowStale:t=this.allowStale}={}){if(r(this,X))for(let l=r(this,ne);!(!E(this,mt,Xt).call(this,l)||((t||!r(this,me).call(this,l))&&(yield l),l===r(this,Y)));)l=r(this,oe)[l]},mt=new WeakSet,Xt=function(t){return t!==void 0&&r(this,Z).get(r(this,W)[t])===t},ot=new WeakSet,$t=function(t){var i,a;const l=r(this,ne),n=r(this,W)[l],o=r(this,A)[l];return r(this,Be)&&E(this,B,z).call(this,o)?o.__abortController.abort(new Error("evicted")):(r(this,Te)||r(this,ie))&&(r(this,Te)&&((i=r(this,be))==null||i.call(this,o,n,"evict")),r(this,ie)&&((a=r(this,Q))==null||a.push([o,n,"evict"]))),r(this,Ue).call(this,l),t&&(r(this,W)[l]=void 0,r(this,A)[l]=void 0,r(this,ke).push(l)),r(this,X)===1?(x(this,ne,x(this,Y,0)),r(this,ke).length=0):x(this,ne,r(this,oe)[l]),r(this,Z).delete(n),vt(this,X)._--,l},it=new WeakSet,Tt=function(t,l,n,o){const i=l===void 0?void 0:r(this,A)[l];if(E(this,B,z).call(this,i))return i;const a=new xt,{signal:m}=n;m==null||m.addEventListener("abort",()=>a.abort(m.reason),{signal:a.signal});const u={signal:a.signal,options:n,context:o},c=(v,C=!1)=>{const{aborted:g}=a.signal,b=n.ignoreFetchAbort&&v!==void 0;if(n.status&&(g&&!C?(n.status.fetchAborted=!0,n.status.fetchError=a.signal.reason,b&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),g&&!b&&!C)return f(a.signal.reason);const T=w;return r(this,A)[l]===w&&(v===void 0?T.__staleWhileFetching?r(this,A)[l]=T.__staleWhileFetching:this.delete(t):(n.status&&(n.status.fetchUpdated=!0),this.set(t,v,u.options))),v},s=v=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=v),f(v)),f=v=>{const{aborted:C}=a.signal,g=C&&n.allowStaleOnFetchAbort,b=g||n.allowStaleOnFetchRejection,T=b||n.noDeleteOnFetchRejection,_=w;if(r(this,A)[l]===w&&(!T||_.__staleWhileFetching===void 0?this.delete(t):g||(r(this,A)[l]=_.__staleWhileFetching)),b)return n.status&&_.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),_.__staleWhileFetching;if(_.__returned===_)throw v},y=(v,C)=>{var b;const g=(b=r(this,lt))==null?void 0:b.call(this,t,i,u);g&&g instanceof Promise&&g.then(T=>v(T===void 0?void 0:T),C),a.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(v(void 0),n.allowStaleOnFetchAbort&&(v=T=>c(T,!0)))})};n.status&&(n.status.fetchDispatched=!0);const w=new Promise(y).then(c,s),p=Object.assign(w,{__abortController:a,__staleWhileFetching:i,__returned:void 0});return l===void 0?(this.set(t,p,{...u.options,status:void 0}),l=r(this,Z).get(t)):r(this,A)[l]=p,p},B=new WeakSet,z=function(t){if(!r(this,Be))return!1;const l=t;return!!l&&l instanceof Promise&&l.hasOwnProperty("__staleWhileFetching")&&l.__abortController instanceof xt},ft=new WeakSet,Jt=function(t,l){r(this,de)[l]=t,r(this,oe)[t]=l},Ge=new WeakSet,at=function(t){t!==r(this,Y)&&(t===r(this,ne)?x(this,ne,r(this,oe)[t]):E(this,ft,Jt).call(this,r(this,de)[t],r(this,oe)[t]),E(this,ft,Jt).call(this,r(this,Y),t),x(this,Y,t))};let Kt=tl;const Uo=(e,t)=>{const l=R("editorId"),{noImgZoomIn:n}=e;let o=()=>{};L([t,ze(e.setting,"preview")],()=>{!n&&e.setting.preview&&o()},{immediate:!0}),K(()=>{o=Yt(()=>{const i=document.querySelectorAll(`#${l}-preview img`);i.length!==0&&po(i,{background:"#00000073"})})})},Go=(e,t)=>{if(typeof t[e]=="string")return t[e];const l=`<i class="${h}-iconfont ${h}-icon-${e}"></i>`;switch(J.iconfontType){case"svg":return`<svg class="${h}-icon" aria-hidden="true"><use xlink:href="#${h}-icon-${e}"></use></svg>`;default:return l}},qo=(e,t,l)=>{const n=R("editorId"),o=R("usedLanguageText"),i=R("customIcon"),a=()=>{document.querySelectorAll(`#${n}-preview pre`).forEach(c=>{var s;let f=-1;(s=c.querySelector(".copy-button"))==null||s.remove();const y=o.value.copyCode.text,w=document.createElement("span");w.setAttribute("class","copy-button"),w.dataset.tips=y,w.innerHTML=Go("copy",i.value),w.addEventListener("click",()=>{clearTimeout(f);const p=c.querySelector("code").innerText,v=bo(e.formatCopiedText(p)),C=o.value.copyCode.successTips,g=o.value.copyCode.failTips;w.dataset.tips=v?C:g,f=window.setTimeout(()=>{w.dataset.tips=y},1500)}),c.appendChild(w)})},m=()=>{xe(a)},u=c=>{c&&xe(a)};L([t,l],m),L(()=>e.setting.preview,u),L(()=>e.setting.htmlPreview,u),L(()=>o.value,a),K(a)},Ko=e=>{const t=R("highlight"),l=qe(J.editorExtensions.highlight.instance);return K(()=>{e.noHighlight||l.value||(ae("link",{...t.value.css,rel:"stylesheet",id:`${h}-hlCss`}),ae("script",{...t.value.js,id:`${h}-hljs`,onload(){l.value=window.hljs}},"hljs"))}),L(()=>t.value.css,()=>{Ro("link",{...t.value.css,rel:"stylesheet",id:`${h}-hlCss`})}),l},Zo=e=>{const t=R("theme"),{editorExtensions:l,editorExtensionsAttrs:n,mermaidConfig:o}=J,i=qe(l.mermaid.instance),a=qe(-1),m=new Kt({max:1e3,ttl:6e5}),u=()=>{const s=i.value;!e.noMermaid&&s&&(s.initialize(o({startOnLoad:!1,theme:t.value==="dark"?"dark":"default"})),a.value=a.value+1)};return L(()=>t.value,()=>{m.clear(),u()}),K(()=>{var s,f,y;if(e.noMermaid||(s=i.value)!=null&&s.instance)return;const w=l.mermaid.js;/\.mjs/.test(w)?(ae("link",{...(f=n.mermaid)==null?void 0:f.js,rel:"modulepreload",href:w,id:`${h}-mermaid-m`}),import(w).then(p=>{i.value=p.default,u()})):ae("script",{...(y=n.mermaid)==null?void 0:y.js,src:w,id:`${h}-mermaid`,onload(){i.value=window.mermaid,u()}},"mermaid")}),{mermaidRef:i,reRenderRef:a,replaceMermaid:()=>{xe(()=>{if(!e.noMermaid&&i.value){const s=document.querySelectorAll(`div.${h}-mermaid`),f=document.createElement("div");f.style.width=document.body.offsetWidth+"px",f.style.height=document.body.offsetHeight+"px",f.style.position="fixed",f.style.zIndex="-10000",f.style.top="-10000";let y=s.length;y>0&&document.body.appendChild(f),s.forEach(async w=>{let p=m.get(w.innerText);if(!p){const C=zt(),g=i.value.renderAsync||i.value.render;let b="";try{b=await g(C,w.innerText,f)}catch{}p=await e.sanitizeMermaid(typeof b=="string"?b:b.svg),m.set(w.innerText,p)}const v=document.createElement("p");v.className=`${h}-mermaid`,v.setAttribute("data-processed",""),v.innerHTML=p,w.dataset.line!==void 0&&(v.dataset.line=w.dataset.line),w.replaceWith(v),--y===0&&f.remove()})}})}}},Xo=e=>{const t=qe(J.editorExtensions.katex.instance);return K(()=>{if(e.noKatex||t.value)return;const{editorExtensions:l}=J;ae("script",{src:l.katex.js,id:`${h}-katex`,onload(){t.value=window.katex}},"katex"),ae("link",{rel:"stylesheet",href:l.katex.css,id:`${h}-katexCss`})}),t},Jo=(e,t)=>{const l=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(n,o,i,a,m)=>{const u=n[o],c=u.content.trim();if(u.info==="mermaid"){let s;return n[o].map&&n[o].level===0&&(s=n[o].map[0],n[o].attrSet("data-line",String(s))),`<div class="${h}-mermaid" ${s!==void 0?"data-line="+s:""} data-mermaid-theme=${t.themeRef.value}>${c}</div>`}return l(n,o,i,a,m)}},Yo=Jo,cn=(e,t)=>{let l=!0,n=!0;const o=e.posMax,i=t>0?e.src.charCodeAt(t-1):-1,a=t+1<=o?e.src.charCodeAt(t+1):-1;return(i===32||i===9||a>=48&&a<=57)&&(n=!1),(a===32||a===9)&&(l=!1),{can_open:l,can_close:n}},Qo=(e,t)=>{let l,n,o,i;if(e.src[e.pos]!=="$")return!1;if(o=cn(e,e.pos),!o.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const a=e.pos+1;for(l=a;(l=e.src.indexOf("$",l))!==-1;){for(i=l-1;e.src[i]==="\\";)i-=1;if((l-i)%2==1)break;l+=1}return l===-1?(t||(e.pending+="$"),e.pos=a,!0):l-a===0?(t||(e.pending+="$$"),e.pos=a+1,!0):(o=cn(e,l),o.can_close?(t||(n=e.push("math_inline","math",0),n.markup="$",n.content=e.src.slice(a,l)),e.pos=l+1,!0):(t||(e.pending+="$"),e.pos=a,!0))},ei=(e,t,l,n)=>{let o,i,a,m,u=!1,c=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(c+2>s||e.src.slice(c,c+2)!=="$$")return!1;if(c+=2,o=e.src.slice(c,s),n)return!0;for(o.trim().slice(-2)==="$$"&&(o=o.trim().slice(0,-2),u=!0),a=t;!u&&(a++,!(a>=l||(c=e.bMarks[a]+e.tShift[a],s=e.eMarks[a],c<s&&e.tShift[a]<e.blkIndent)));)e.src.slice(c,s).trim().slice(-2)==="$$"&&(m=e.src.slice(0,s).lastIndexOf("$$"),i=e.src.slice(c,m),u=!0);e.line=a+1;const f=e.push("math_block","math",0);return f.block=!0,f.content=(o&&o.trim()?o+`
`:"")+e.getLines(t+1,a,e.tShift[t],!0)+(i&&i.trim()?i:""),f.map=[t,e.line],f.markup="$$",!0},ti=(e,t)=>{const l=o=>{if(t.katexRef.value){const i=t.katexRef.value.renderToString(o,{throwOnError:!1});return`<span class="${h}-katex-inline" data-processed>${i}</span>`}else return`<span class="${h}-katex-inline">${o}</span>`},n=(o,i)=>{if(t.katexRef.value){const a=t.katexRef.value.renderToString(o,{throwOnError:!1,displayMode:!0});return`<p class="${h}-katex-block" data-line=${i} data-processed>${a}</p>`}else return`<p class="${h}-katex-block" data-line=${i}>${o}</p>`};e.inline.ruler.after("escape","math_inline",Qo),e.block.ruler.after("blockquote","math_block",ei,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(o,i)=>l(o[i].content),e.renderer.rules.math_block=(o,i)=>n(o[i].content,o[i].map[0])+`
`},li=ti,ni=(e,t)=>{t=t||{};const l=3,n=t.marker||"!",o=n.charCodeAt(0),i=n.length;let a="",m="";const u=(s,f,y,w,p)=>{const v=s[f];return v.type==="admonition_open"?(s[f].attrPush(["class",`${h}-admonition ${h}-admonition-${v.info}`]),s[f].attrSet("data-line",String(s[f].map[0]))):v.type==="admonition_title_open"&&s[f].attrPush(["class",`${h}-admonition-title`]),p.renderToken(s,f,y)},c=s=>{const f=s.trim().split(" ",2);m="",a=f[0],f.length>1&&(m=s.substring(a.length+2)),(m===""||!m)&&(m=a)};e.block.ruler.before("code","admonition",(s,f,y,w)=>{let p,v,C,g=!1,b=s.bMarks[f]+s.tShift[f],T=s.eMarks[f];if(o!==s.src.charCodeAt(b))return!1;for(p=b+1;p<=T&&n[(p-b)%i]===s.src[p];p++);const _=Math.floor((p-b)/i);if(_!==l)return!1;p-=(p-b)%i;const S=s.src.slice(b,p),H=s.src.slice(p,T);if(c(H),w)return!0;for(v=f;v++,!(v>=y||(b=s.bMarks[v]+s.tShift[v],T=s.eMarks[v],b<T&&s.sCount[v]<s.blkIndent));)if(o===s.src.charCodeAt(b)&&!(s.sCount[v]-s.blkIndent>=4)){for(p=b+1;p<=T&&n[(p-b)%i]===s.src[p];p++);if(!(Math.floor((p-b)/i)<_)&&(p-=(p-b)%i,p=s.skipSpaces(p),!(p<T))){g=!0;break}}const F=s.parentType,M=s.lineMax;return s.parentType="root",s.lineMax=v,C=s.push("admonition_open","div",1),C.markup=S,C.block=!0,C.info=a,C.map=[f,v],C=s.push("admonition_title_open","p",1),C.markup=S+" "+a,C.map=[f,v],C=s.push("inline","",0),C.content=m,C.map=[f,s.line-1],C.children=[],C=s.push("admonition_title_close","p",-1),C.markup=S+" "+a,s.md.block.tokenize(s,f+1,v),C=s.push("admonition_close","div",-1),C.markup=s.src.slice(b,p),C.block=!0,s.parentType=F,s.lineMax=M,s.line=v+(g?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=u,e.renderer.rules.admonition_title_open=u,e.renderer.rules.admonition_title_close=u,e.renderer.rules.admonition_close=u},oi=ni,ii=(e,t)=>{e.renderer.rules.heading_open=(l,n)=>{var o;const i=l[n],a=((o=l[n+1].children)==null?void 0:o.reduce((u,c)=>u+(c.content||""),""))||"",m=i.markup.length;return t.headsRef.value.push({text:a,level:m}),i.map&&i.level===0&&(i.attrSet("data-line",String(i.map[0])),i.attrSet("id",t.mdHeadingId(a,m,t.headsRef.value.length))),e.renderer.renderToken(l,n,t)},e.renderer.rules.heading_close=(l,n,o,i,a)=>a.renderToken(l,n,o)},ai=ii,si=(e,t)=>{const l=e.renderer.rules.fence,n=e.utils.unescapeAll,o=/\[(\w*)(?::([\w ]*))?\]/;function i(c){return c.info?n(c.info).trim():""}function a(c){const s=i(c),[f=null,y=""]=(o.exec(s)||[]).slice(1);return[f,y]}function m(c){const s=i(c);return s?s.split(/(\s+)/g)[0]:""}const u=(c,s,f,y,w)=>{if(c[s].hidden)return"";const[p,v]=a(c[s]);if(p===null)return l(c,s,f,y,w);let C,g,b,T,_="",S="";for(let H=s;H<c.length&&(C=c[H],[g,b]=a(C),g===p);H++)C.info=C.info.replace(o,""),C.hidden=!0,T=H-s>0?"":" checked",_+=`<li><input type="radio" name="label-group-${t.editorId}-${s}"${T}><label for="group-${t.editorId}-${s}-tab-${H-s}" onclick="this.previousElementSibling.click()">${b||m(C)}</label></li>
`,S+=`<input type="radio" id="group-${t.editorId}-${s}-tab-${H-s}" name="group-${t.editorId}-${s}"${T}>
`+l(c,H,f,y,w);return`<div class="code-tabs">
<ul>
`+_+`</ul>
`+S+"</div>"};e.renderer.rules.fence=u},ri=si,ci=e=>{["paragraph_open","table_open","ordered_list_open","bullet_list_open","blockquote_open","hr","html_block","fence"].forEach(t=>{const l=e.renderer.rules[t];l?e.renderer.rules[t]=(n,o,i,a,m)=>{let u;const c=l(n,o,i,a,m);return n[o].map&&n[o].level===0&&!/^<!--/.test(c)?(u=n[o].map[0],c.replace(/^(<[^>]*)/,`$1 data-line="${u}"`)):c}:e.renderer.rules[t]=(n,o,i,a,m)=>{let u;return n[o].map&&n[o].level===0&&(u=n[o].map[0],n[o].attrSet("data-line",String(u))),m.renderToken(n,o,i)}})},ui=(e,t)=>{const{editorConfig:l,markdownItConfig:n,markdownItPlugins:o}=J,i=R("editorId"),a=R("showCodeRowNumber"),m=R("theme"),u=U([]),c=Ko(e),s=Xo(e),{reRenderRef:f,replaceMermaid:y}=Zo(e),w=yo({html:!0,breaks:!0});n(w,{editorId:i});const p=[{type:"image",plugin:wo,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:oi,options:{}},{type:"taskList",plugin:ko,options:{}},{type:"heading",plugin:ai,options:{mdHeadingId:e.mdHeadingId,headsRef:u}},{type:"codeTabs",plugin:ri,options:{editorId:i}},{type:"xss",plugin:Co,options:{xss(S){return{whiteList:Object.assign({},S.getDefaultWhiteList(),{input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]})}}}}];e.noKatex||p.push({type:"katex",plugin:li,options:{katexRef:s}}),e.noMermaid||p.push({type:"mermaid",plugin:Yo,options:{themeRef:m}}),o(p,{editorId:i}).forEach(S=>{w.use(S.plugin,S.options)});const v=w.options.highlight;w.set({highlight:(S,H,F)=>{if(v){const j=v(S,H,F);if(j)return j}let M;!e.noHighlight&&c.value?c.value.getLanguage(H)?M=c.value.highlight(S,{language:H,ignoreIllegals:!0}).value:M=c.value.highlightAuto(S).value:M=w.utils.escapeHtml(S);const D=a?jo(M.replace(/^\n+|\n+$/g,"")):`<span class="code-block">${M.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${H}" language=${H}>${D}</code></pre>`}}),ci(w);const C=U(`_article-key_${zt()}`),g=U(e.sanitize(w.render(e.modelValue))),b=()=>{$.emit(i,wt,g.value),e.onHtmlChanged(g.value),e.onGetCatalog(u.value),$.emit(i,kt,u.value),y()};K(b);const T=()=>{u.value=[],g.value=e.sanitize(w.render(e.modelValue)),b()},_=fe(()=>(e.noKatex||s.value)&&(e.noHighlight||c.value));return L([ze(e,"modelValue"),_,f],Yt(T,t?0:l.renderDelay)),L(()=>e.setting.preview,()=>{e.setting.preview&&xe(()=>{$.emit(i,kt,u.value)})}),K(()=>{$.on(i,{name:Hn,callback(){$.emit(i,kt,u.value)}}),$.on(i,{name:el,callback:()=>{T(),C.value=`_article-key_${zt()}`}})}),{html:g,key:C}},di=ui,jn={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function}},hi={...jn,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},Nn=q({name:"ContentPreview",props:jn,setup(e){const t=R("editorId"),l=R("previewTheme"),n=R("showCodeRowNumber"),{html:o,key:i}=di(e,e.previewOnly);return qo(e,o,i),Uo(e,o),()=>d(It,null,[e.setting.preview&&d("div",{id:`${t}-preview-wrapper`,class:`${h}-preview-wrapper`,key:"content-preview-wrapper"},[d("div",{key:i.value,id:`${t}-preview`,class:[`${h}-preview`,`${l==null?void 0:l.value}-theme`,n&&`${h}-scrn`],innerHTML:o.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&d("div",{id:`${t}-html-wrapper`,class:`${h}-preview-wrapper`,key:"html-preview-wrapper"},[d("div",{class:`${h}-html`},[o.value])])])}}),mi=(e,t)=>{const{editorId:l}=e,n=se({buildFinished:!1,html:""});L(()=>e.modelValue,()=>{n.buildFinished=!1}),K(()=>{$.on(l,{name:wt,callback(o){n.buildFinished=!0,n.html=o}}),$.on(l,{name:Lt,callback(){const o=new Promise(i=>{if(n.buildFinished)i(n.html);else{const a=m=>{i(m),$.remove(l,wt,a)};$.on(l,{name:wt,callback:a})}});e.onSave?e.onSave(e.modelValue,o):t.emit("onSave",e.modelValue,o)}})})},Bn=e=>{const{editorId:t}=e,l=J.editorExtensions.highlight,n=J.editorExtensionsAttrs.highlight;Ie("editorId",t),Ie("theme",fe(()=>e.theme)),Ie("language",fe(()=>e.language)),Ie("highlight",fe(()=>{const{js:i}=l,a={...Vt,...l.css},{js:m,css:u={}}=n||{},c=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme,s=a[e.codeTheme]?a[e.codeTheme][c]:Vt.atom[c],f=a[e.codeTheme]&&u[e.codeTheme]?u[e.codeTheme][c]:u.atom?u.atom[c]:{};return{js:{src:i,...m},css:{href:s,...f}}})),Ie("showCodeRowNumber",e.showCodeRowNumber);const o=fe(()=>{const i={...Yl,...J.editorConfig.languageUserDefined};return Kn(Zn(Yl["en-US"]),i[e.language]||{})});Ie("usedLanguageText",o),Ie("previewTheme",fe(()=>e.previewTheme)),Ie("customIcon",fe(()=>e.customIcon))},fi=e=>{Bn(e),Ie("tabWidth",e.tabWidth)},zn=e=>{K(()=>{const{editorExtensions:t,editorExtensionsAttrs:l,iconfontType:n}=J;e.noIconfont||(n==="svg"?ae("script",{...l.iconfont,src:t.iconfont,id:`${h}-icon`}):ae("link",{...l.iconfontClass,rel:"stylesheet",href:t.iconfontClass,id:`${h}-icon-class`}))})},gi=e=>{const{noPrettier:t,noUploadImg:l}=e,{editorExtensions:n,editorExtensionsAttrs:o}=J,i=t||n.prettier.prettierInstance,a=t||n.prettier.parserMarkdownInstance,m=l||n.cropper.instance;K(()=>{if(!m){const{js:u={},css:c={}}=o.cropper||{};ae("link",{...c,rel:"stylesheet",href:n.cropper.css,id:`${h}-cropperCss`}),ae("script",{...u,src:n.cropper.js,id:`${h}-cropper`})}if(!i){const{standaloneJs:u={}}=o.prettier||{};ae("script",{...u,src:n.prettier.standaloneJs,id:`${h}-prettier`})}if(!a){const{parserMarkdownJs:u={}}=o.prettier||{};ae("script",{...u,src:n.prettier.parserMarkdownJs,id:`${h}-prettierMD`})}}),zn(e)},vi=(e,t)=>{const{editorId:l}=e;K(()=>{$.on(l,{name:Ke,callback:n=>{e.onError instanceof Function?e.onError(n):t.emit("onError",n)}})})},pi=(e,t)=>{const{editorId:l}=e,n=se({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:e.preview?!1:e.htmlPreview,previewOnly:!1}),o=(m,u)=>{n[m]=u===void 0?!n[m]:u,m==="preview"?(n.htmlPreview=!1,n.previewOnly=!1):m==="htmlPreview"?(n.preview=!1,n.previewOnly=!1):m==="previewOnly"&&!n.preview&&!n.htmlPreview&&(n.preview=!0)};let i="";const a=()=>{n.pageFullscreen||n.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=i};return L(()=>[n.pageFullscreen,n.fullscreen],a),K(()=>{$.on(l,{name:Ft,callback(m,u){const c=s=>{$.emit(l,N,"image",{desc:"",urls:s}),u&&u()};e.onUploadImg?e.onUploadImg(m,c):t.emit("onUploadImg",m,c)}}),i=document.body.style.overflow,a()}),[n,o]},bi=e=>{const{editorId:t}=e,l=U(!1);return K(()=>{$.on(t,{name:Qt,callback:o=>{o===void 0?l.value=!l.value:l.value=o}})}),fe(()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")&&l.value)},yi=(e,t,l,n,o,i)=>{const{editorId:a}=e;L(()=>n.pageFullscreen,u=>{$.emit(a,Ql,u)}),L(()=>n.fullscreen,u=>{$.emit(a,en,u)}),L(()=>n.preview,u=>{$.emit(a,tn,u)}),L(()=>n.previewOnly,u=>{$.emit(a,ln,u)}),L(()=>n.htmlPreview,u=>{$.emit(a,nn,u)}),L(l,u=>{$.emit(a,on,u)});const m={on(u,c){switch(u){case"pageFullscreen":{$.on(a,{name:Ql,callback(s){c(s)}});break}case"fullscreen":{$.on(a,{name:en,callback(s){c(s)}});break}case"preview":{$.on(a,{name:tn,callback(s){c(s)}});break}case"previewOnly":{$.on(a,{name:ln,callback(s){c(s)}});break}case"htmlPreview":{$.on(a,{name:nn,callback(s){c(s)}});break}case"catalog":{$.on(a,{name:on,callback(s){c(s)}});break}}},togglePageFullscreen(u){o("pageFullscreen",u)},toggleFullscreen(u){$.emit(a,In,u)},togglePreview(u){o("preview",u)},togglePreviewOnly(u){o("previewOnly",u)},toggleHtmlPreview(u){o("htmlPreview",u)},toggleCatalog(u){$.emit(a,Qt,u)},triggerSave(){$.emit(a,Lt)},insert(u){$.emit(a,N,"universal",{generate:u})},focus(u){var c;(c=i.value)==null||c.focus(u)},rerender(){$.emit(a,el)},getSelectedText(){var u;return(u=i.value)==null?void 0:u.getSelectedText()},resetHistory(){var u;(u=i.value)==null||u.resetHistory()},domEventHandlers(u){$.emit(a,Mn,u)},execCommand(u){$.emit(a,N,u)}};t.expose(m)},wi=e=>e,Wn={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>Bo("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:wi},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)}},ki={...Wn,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:xn},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:An},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},Vn=["onHtmlChanged","onGetCatalog"],Ci=[...Vn,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],$i=(e,t)=>{const{editorId:l}=e,n={rerender(){$.emit(l,el)}};t.expose(n)},St=q({name:"MdPreview",props:Wn,emits:Vn,setup(e,t){const{editorId:l,noKatex:n,noMermaid:o,noHighlight:i}=e;return Bn(e),zn(e),$i(e,t),gt(()=>{$.clear(l)}),()=>d("div",{id:l,class:[h,e.class,e.theme==="dark"&&`${h}-dark`,`${h}-previewOnly`],style:e.style},[d(Nn,{modelValue:e.modelValue,onHtmlChanged:a=>{e.onHtmlChanged?e.onHtmlChanged(a):t.emit("onHtmlChanged",a)},onGetCatalog:a=>{e.onGetCatalog?e.onGetCatalog(a):t.emit("onGetCatalog",a)},mdHeadingId:e.mdHeadingId,noMermaid:o,sanitize:e.sanitize,noKatex:n,formatCopiedText:e.formatCopiedText,noHighlight:i,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid},null)])}});St.install=e=>(e.component(St.name,St),e);const Ti={tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},Un=q({props:Ti,setup(e){return()=>{const{tocItem:t,mdHeadingId:l,scrollElement:n,onClick:o,scrollElementOffsetTop:i}=e;return d("div",{class:[`${h}-catalog-link`,t.active&&`${h}-catalog-active`],onClick:a=>{o(a,t),a.stopPropagation();const m=l(t.text,t.level,t.index),u=document.getElementById(m),c=n instanceof Element?n:document.querySelector(n);if(u&&c){let s=u.offsetParent,f=u.offsetTop;if(c.contains(s))for(;s&&c!=s;)f+=s==null?void 0:s.offsetTop,s=s==null?void 0:s.offsetParent;c==null||c.scrollTo({top:f-i,behavior:"smooth"})}}},[d("span",{title:t.text},[t.text]),d("div",{class:`${h}-catalog-wrapper`},[t.children&&t.children.map(a=>d(Un,{mdHeadingId:l,key:`${t.text}-link-${a.level}-${a.text}`,tocItem:a,scrollElement:n,onClick:o,scrollElementOffsetTop:i},null))])])}}}),Si=Un,_i={editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},ct=q({name:"MdCatalog",props:_i,emits:["onClick","onActive"],setup(e,t){const l=e.editorId,n=se({list:[],show:!1,scrollElement:e.scrollElement||`#${l}-preview-wrapper`}),o=qe(),i=fe(()=>{const c=[];return n.list.forEach((s,f)=>{const{text:y,level:w}=s,p={level:w,text:y,index:f+1,active:o.value===s};if(c.length===0)c.push(p);else{let v=c[c.length-1];if(p.level>v.level)for(let C=v.level+1;C<=6;C++){const{children:g}=v;if(!g){v.children=[p];break}if(v=g[g.length-1],p.level<=v.level){g.push(p);break}}else c.push(p)}}),c}),a=()=>n.scrollElement instanceof HTMLElement?n.scrollElement:document.querySelector(n.scrollElement),m=c=>{if(c.length===0)return n.list=[],!1;const{activeHead:s}=c.reduce((f,y,w)=>{const p=document.getElementById(e.mdHeadingId(y.text,y.level,w+1));if(p instanceof HTMLElement){const v=a(),C=No(p,v);if(C<e.offsetTop&&C>f.minTop)return{activeHead:y,minTop:C}}return f},{activeHead:c[0],minTop:Number.MIN_SAFE_INTEGER});o.value=s,n.list=c},u=()=>{m(n.list)};return L(()=>o.value,c=>{const s=c?{...c}:void 0;e.onActive?e.onActive(s):t.emit("onActive",s)}),K(()=>{let c=window;const s=()=>{const f=a();c=f===document.documentElement?window:f};$.on(l,{name:kt,callback:f=>{c==null||c.removeEventListener("scroll",u),m(f),s(),c==null||c.addEventListener("scroll",u)}}),$.emit(l,Hn),s(),c==null||c.addEventListener("scroll",u)}),gt(()=>{var c;const s=a();(c=s===document.documentElement?window:s)==null||c.removeEventListener("scroll",u)}),()=>d("div",{class:`${h}-catalog${e.theme==="dark"?"-dark":""} ${e.class}`},[i.value.map(c=>d(Si,{mdHeadingId:e.mdHeadingId,tocItem:c,key:`link-${c.level}-${c.text}`,scrollElement:n.scrollElement,onClick:(s,f)=>{e.onClick?e.onClick(s,f):t.emit("onClick",s,f)},scrollElementOffsetTop:e.scrollElementOffsetTop},null))])}});ct.install=e=>(e.component(ct.name,ct),e);const Ei={title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},_t=q({name:"NormalToolbar",props:Ei,emits:["onClick"],setup(e,t){return()=>{const l=ve({props:e,ctx:t},"trigger");return d("div",{class:`${h}-toolbar-item`,title:e.title,onClick:n=>{e.onClick instanceof Function?e.onClick(n):t.emit("onClick",n)}},[l])}}});_t.install=e=>(e.component(_t.name,_t),e);function xi(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!to(e)}const Ai={title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String}},Et=q({name:"ModalToolbar",props:Ai,emits:["onClick","onClose","onAdjust"],setup(e,t){return()=>{const l=ve({props:e,ctx:t},"trigger"),n=ve({props:e,ctx:t},"default");return d(It,null,[d("div",{class:`${h}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[l]),d(et,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:o=>{e.onAdjust instanceof Function?e.onAdjust(o):t.emit("onAdjust",o)}},xi(n)?n:{default:()=>[n]})])}}});Et.install=e=>(e.component(Et.name,Et),e);var Ii=Object.defineProperty,Li=(e,t,l)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Re=(e,t,l)=>(Li(e,typeof t!="symbol"?t+"":t,l),l);const Fi=q({setup(){return()=>d("div",{class:`${h}-divider`},null)}}),Hi={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},Mi=e=>{const t=R("editorId"),{editorExtensions:l,editorExtensionsAttrs:n}=J;let o=l.screenfull.instance;const i=U(!1),a=c=>{if(!o){$.emit(t,Ke,{name:"fullscreen",message:"fullscreen is undefined"});return}o.isEnabled?(i.value=!0,(c===void 0?!o.isFullscreen:c)?o.request():o.exit()):console.error("browser does not support screenfull!")},m=()=>{o&&o.isEnabled&&o.on("change",()=>{(i.value||e.setting.fullscreen)&&(i.value=!1,e.updateSetting("fullscreen"))})},u=()=>{o=window.screenfull,m()};return K(()=>{var c;m(),o||ae("script",{...(c=n.screenfull)==null?void 0:c.js,src:l.screenfull.js,id:`${h}-screenfull`,onload:u},"screenfull")}),K(()=>{$.on(t,{name:In,callback:a})}),{fullscreenHandler:a}},Oi={tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},Ri=q({name:"TableShape",props:Oi,setup(e){const t=se({x:-1,y:-1}),l=()=>{const o=[...e.tableShape];return(!o[2]||o[2]<o[0])&&(o[2]=o[0]),(!o[3]||o[3]<o[3])&&(o[3]=o[1]),o},n=U(l());return L(()=>e.tableShape,()=>{n.value=l()}),()=>d("div",{class:`${h}-table-shape`,onMouseleave:()=>{n.value=l(),t.x=-1,t.y=-1}},[new Array(n.value[1]).fill("").map((o,i)=>d("div",{class:`${h}-table-shape-row`,key:`table-shape-row-${i}`},[new Array(n.value[0]).fill("").map((a,m)=>d("div",{class:`${h}-table-shape-col`,key:`table-shape-col-${m}`,onMouseenter:()=>{t.x=i,t.y=m,m+1===n.value[0]&&m+1<n.value[2]?n.value[0]++:m+2<n.value[0]&&n.value[0]>e.tableShape[0]&&n.value[0]--,i+1===n.value[1]&&i+1<n.value[3]?n.value[1]++:i+2<n.value[1]&&n.value[1]>e.tableShape[1]&&n.value[1]--},onClick:()=>{e.onSelected(t)}},[d("div",{class:[`${h}-table-shape-col-default`,i<=t.x&&m<=t.y&&`${h}-table-shape-col-include`]},null)]))]))])}}),Pi=Ri,Di={type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},ji=q({props:Di,setup(e){const t=R("usedLanguageText"),l=R("editorId"),n=fe(()=>{var i,a;switch(e.type){case"link":return(i=t.value.linkModalTips)==null?void 0:i.linkTitle;case"image":return(a=t.value.linkModalTips)==null?void 0:a.imageTitle;default:return""}}),o=se({desc:"",url:""});return L(()=>e.visible,i=>{i||setTimeout(()=>{o.desc="",o.url=""},200)}),()=>d(et,{title:n.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var i,a,m,u,c;return[d("div",{class:`${h}-form-item`},[d("label",{class:`${h}-label`,for:`link-desc-${l}`},[(i=t.value.linkModalTips)==null?void 0:i.descLabel]),d("input",{placeholder:(a=t.value.linkModalTips)==null?void 0:a.descLabelPlaceHolder,class:`${h}-input`,id:`link-desc-${l}`,type:"text",value:o.desc,onChange:s=>{o.desc=s.target.value},autocomplete:"off"},null)]),d("div",{class:`${h}-form-item`},[d("label",{class:`${h}-label`,for:`link-url-${l}`},[(m=t.value.linkModalTips)==null?void 0:m.urlLabel]),d("input",{placeholder:(u=t.value.linkModalTips)==null?void 0:u.urlLabelPlaceHolder,class:`${h}-input`,id:`link-url-${l}`,type:"text",value:o.url,onChange:s=>{o.url=s.target.value},autocomplete:"off"},null)]),d("div",{class:`${h}-form-item`},[d("button",{class:[`${h}-btn`,`${h}-btn-row`],type:"button",onClick:()=>{e.onOk(o),o.desc="",o.url=""}},[(c=t.value.linkModalTips)==null?void 0:c.buttonOK])])]}})}}),Ni={visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},Bi=q({props:Ni,setup(e){const t=R("usedLanguageText"),l=R("editorId");let n=J.editorExtensions.cropper.instance;const o=U(),i=U(),a=U(),m=se({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let u=null;L(()=>e.visible,()=>{e.visible&&!m.cropperInited&&(n=n||window.Cropper,o.value.onchange=()=>{if(!n){$.emit(l,Ke,{name:"Cropper",message:"Cropper is undefined"});return}const s=o.value.files||[];if(m.imgSelected=!0,(s==null?void 0:s.length)>0){const f=new FileReader;f.onload=y=>{m.imgSrc=y.target.result,xe(()=>{u=new n(i.value,{viewMode:2,preview:`.${h}-clip-preview-target`})})},f.readAsDataURL(s[0])}})}),L(()=>[m.imgSelected],()=>{a.value.style=""}),L(()=>m.isFullscreen,()=>{xe(()=>{u==null||u.destroy(),a.value.style="",i.value&&(u=new n(i.value,{viewMode:2,preview:`.${h}-clip-preview-target`}))})});const c=()=>{u.clear(),u.destroy(),u=null,o.value.value="",m.imgSelected=!1};return()=>{var s;return d(et,{class:`${h}-modal-clip`,title:(s=t.value.clipModalTips)==null?void 0:s.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:m.isFullscreen,onAdjust:f=>{m.isFullscreen=f},width:"668px",height:"421px"},{default:()=>{var f,y;return[d("div",{class:`${h}-form-item ${h}-clip`},[d("div",{class:`${h}-clip-main`},[m.imgSelected?d("div",{class:`${h}-clip-cropper`},[d("img",{src:m.imgSrc,ref:i,style:{display:"none"},alt:""},null),d("div",{class:`${h}-clip-delete`,onClick:c},[d(O,{name:"delete"},null)])]):d("div",{class:`${h}-clip-upload`,onClick:()=>{o.value.click()}},[d(O,{name:"upload"},null)])]),d("div",{class:`${h}-clip-preview`},[d("div",{class:`${h}-clip-preview-target`,ref:a},null)])]),d("div",{class:`${h}-form-item`},[d("button",{class:`${h}-btn`,type:"button",onClick:()=>{if(u){const w=u.getCroppedCanvas();$.emit(l,Ft,[Do(w.toDataURL("image/png"))],e.onOk),c()}}},[((f=t.value.clipModalTips)==null?void 0:f.buttonUpload)||((y=t.value.linkModalTips)==null?void 0:y.buttonOK)])]),d("input",{ref:o,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),zi={type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},Wi=q({props:zi,setup(e){return()=>d(It,null,[d(ji,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),d(Bi,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}}),Vi=q({name:"MDEditorToolbar",props:Hi,setup(e){const t=R("editorId"),l=R("usedLanguageText"),n=R("theme"),o=R("previewTheme"),i=R("language"),{fullscreenHandler:a}=Mi(e),m=`${t}-toolbar-wrapper`,u=U(),c=se({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),s=(g,b)=>{$.emit(t,N,g,b)},f=se({type:"link",linkVisible:!1,clipVisible:!1}),y=U();K(()=>{$.on(t,{name:Ut,callback(g){f.type=g,f.linkVisible=!0}})});const w=fe(()=>{const g=e.toolbars.filter(S=>!e.toolbarsExclude.includes(S)),b=g.indexOf("="),T=b===-1?g:g.slice(0,b+1),_=b===-1?[]:g.slice(b,Number.MAX_SAFE_INTEGER);return[T,_]}),p=U(),v=()=>{$.emit(t,Ft,Array.from(p.value.files||[])),p.value.value=""};K(()=>{p.value.addEventListener("change",v)});const C=g=>{var b,T,_,S,H,F,M,D,j,re,ge,ce,Se,He,Ze,Ae,Me,Oe,ee,te,Ht,ll,nl,ol,il,al,sl,rl,cl,ul,dl,hl,ml,fl,gl,vl,pl,bl,yl,wl,kl,Cl,$l,Tl,Sl,_l,El,xl,Al,Il,Ll,Fl,Hl,Ml,Ol,Rl,Pl,Dl,jl,Nl,Bl,zl,Wl,Vl,Ul,Gl,ql,Kl,Zl;if(xn.includes(g))switch(g){case"-":return d(Fi,null,null);case"bold":return d("div",{class:`${h}-toolbar-item`,title:(b=l.value.toolbarTips)==null?void 0:b.bold,onClick:()=>{s("bold")}},[d(O,{name:"bold"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(T=l.value.toolbarTips)==null?void 0:T.bold])]);case"underline":return d("div",{class:`${h}-toolbar-item`,title:(_=l.value.toolbarTips)==null?void 0:_.underline,onClick:()=>{s("underline")}},[d(O,{name:"underline"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(S=l.value.toolbarTips)==null?void 0:S.underline])]);case"italic":return d("div",{class:`${h}-toolbar-item`,title:(H=l.value.toolbarTips)==null?void 0:H.italic,onClick:()=>{s("italic")}},[d(O,{name:"italic"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(F=l.value.toolbarTips)==null?void 0:F.italic])]);case"strikeThrough":return d("div",{class:`${h}-toolbar-item`,title:(M=l.value.toolbarTips)==null?void 0:M.strikeThrough,onClick:()=>{s("strikeThrough")}},[d(O,{name:"strike-through"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(D=l.value.toolbarTips)==null?void 0:D.strikeThrough])]);case"title":return d(Qe,{relative:`#${m}`,visible:c.title,onChange:P=>{c.title=P},overlay:d("ul",{class:`${h}-menu`,onClick:()=>{c.title=!1}},[d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h1")}},[(j=l.value.titleItem)==null?void 0:j.h1]),d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h2")}},[(re=l.value.titleItem)==null?void 0:re.h2]),d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h3")}},[(ge=l.value.titleItem)==null?void 0:ge.h3]),d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h4")}},[(ce=l.value.titleItem)==null?void 0:ce.h4]),d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h5")}},[(Se=l.value.titleItem)==null?void 0:Se.h5]),d("li",{class:`${h}-menu-item ${h}-menu-item-title`,onClick:()=>{s("h6")}},[(He=l.value.titleItem)==null?void 0:He.h6])])},{default:()=>{var P,le;return[d("div",{class:`${h}-toolbar-item`,title:(P=l.value.toolbarTips)==null?void 0:P.title},[d(O,{name:"title"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(le=l.value.toolbarTips)==null?void 0:le.title])])]}});case"sub":return d("div",{class:`${h}-toolbar-item`,title:(Ze=l.value.toolbarTips)==null?void 0:Ze.sub,onClick:()=>{s("sub")}},[d(O,{name:"sub"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Ae=l.value.toolbarTips)==null?void 0:Ae.sub])]);case"sup":return d("div",{class:`${h}-toolbar-item`,title:(Me=l.value.toolbarTips)==null?void 0:Me.sup,onClick:()=>{s("sup")}},[d(O,{name:"sup"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Oe=l.value.toolbarTips)==null?void 0:Oe.sup])]);case"quote":return d("div",{class:`${h}-toolbar-item`,title:(ee=l.value.toolbarTips)==null?void 0:ee.quote,onClick:()=>{s("quote")}},[d(O,{name:"quote"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(te=l.value.toolbarTips)==null?void 0:te.quote])]);case"unorderedList":return d("div",{class:`${h}-toolbar-item`,title:(Ht=l.value.toolbarTips)==null?void 0:Ht.unorderedList,onClick:()=>{s("unorderedList")}},[d(O,{name:"unordered-list"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(ll=l.value.toolbarTips)==null?void 0:ll.unorderedList])]);case"orderedList":return d("div",{class:`${h}-toolbar-item`,title:(nl=l.value.toolbarTips)==null?void 0:nl.orderedList,onClick:()=>{s("orderedList")}},[d(O,{name:"ordered-list"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(ol=l.value.toolbarTips)==null?void 0:ol.orderedList])]);case"task":return d("div",{class:`${h}-toolbar-item`,title:(il=l.value.toolbarTips)==null?void 0:il.task,onClick:()=>{s("task")}},[d(O,{name:"task"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(al=l.value.toolbarTips)==null?void 0:al.task])]);case"codeRow":return d("div",{class:`${h}-toolbar-item`,title:(sl=l.value.toolbarTips)==null?void 0:sl.codeRow,onClick:()=>{s("codeRow")}},[d(O,{name:"code-row"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(rl=l.value.toolbarTips)==null?void 0:rl.codeRow])]);case"code":return d("div",{class:`${h}-toolbar-item`,title:(cl=l.value.toolbarTips)==null?void 0:cl.code,onClick:()=>{s("code")}},[d(O,{name:"code"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(ul=l.value.toolbarTips)==null?void 0:ul.code])]);case"link":return d("div",{class:`${h}-toolbar-item`,title:(dl=l.value.toolbarTips)==null?void 0:dl.link,onClick:()=>{f.type="link",f.linkVisible=!0}},[d(O,{name:"link"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(hl=l.value.toolbarTips)==null?void 0:hl.link])]);case"image":return e.noUploadImg?d("div",{class:`${h}-toolbar-item`,title:(ml=l.value.toolbarTips)==null?void 0:ml.image,onClick:()=>{f.type="image",f.linkVisible=!0}},[d(O,{name:"image"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(fl=l.value.toolbarTips)==null?void 0:fl.image])]):d(Qe,{relative:`#${m}`,visible:c.image,onChange:P=>{c.image=P},overlay:d("ul",{class:`${h}-menu`,onClick:()=>{c.title=!1}},[d("li",{class:`${h}-menu-item ${h}-menu-item-image`,onClick:()=>{f.type="image",f.linkVisible=!0}},[(gl=l.value.imgTitleItem)==null?void 0:gl.link]),d("li",{class:`${h}-menu-item ${h}-menu-item-image`,onClick:()=>{p.value.click()}},[(vl=l.value.imgTitleItem)==null?void 0:vl.upload]),d("li",{class:`${h}-menu-item ${h}-menu-item-image`,onClick:()=>{f.clipVisible=!0}},[(pl=l.value.imgTitleItem)==null?void 0:pl.clip2upload])])},{default:()=>{var P,le;return[d("div",{class:`${h}-toolbar-item`,title:(P=l.value.toolbarTips)==null?void 0:P.image},[d(O,{name:"image"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(le=l.value.toolbarTips)==null?void 0:le.image])])]}});case"table":return d(Qe,{relative:`#${m}`,visible:c.table,onChange:P=>{c.table=P},key:"bar-table",overlay:d(Pi,{tableShape:e.tableShape,onSelected:P=>{s("table",{selectedShape:P})}},null)},{default:()=>{var P,le;return[d("div",{class:`${h}-toolbar-item`,title:(P=l.value.toolbarTips)==null?void 0:P.table},[d(O,{name:"table"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(le=l.value.toolbarTips)==null?void 0:le.table])])]}});case"revoke":return d("div",{class:`${h}-toolbar-item`,title:(bl=l.value.toolbarTips)==null?void 0:bl.revoke,onClick:()=>{$.emit(t,Ln)}},[d(O,{name:"revoke"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(yl=l.value.toolbarTips)==null?void 0:yl.revoke])]);case"next":return d("div",{class:`${h}-toolbar-item`,title:(wl=l.value.toolbarTips)==null?void 0:wl.next,onClick:()=>{$.emit(t,Fn)}},[d(O,{name:"next"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(kl=l.value.toolbarTips)==null?void 0:kl.next])]);case"save":return d("div",{class:`${h}-toolbar-item`,title:(Cl=l.value.toolbarTips)==null?void 0:Cl.save,onClick:()=>{$.emit(t,Lt)}},[d(O,{name:"baocun"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[($l=l.value.toolbarTips)==null?void 0:$l.save])]);case"prettier":return e.noPrettier?"":d("div",{class:`${h}-toolbar-item`,title:(Tl=l.value.toolbarTips)==null?void 0:Tl.prettier,onClick:()=>{s("prettier")}},[d(O,{name:"prettier"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Sl=l.value.toolbarTips)==null?void 0:Sl.prettier])]);case"pageFullscreen":return!e.setting.fullscreen&&d("div",{class:`${h}-toolbar-item`,title:(_l=l.value.toolbarTips)==null?void 0:_l.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[d(O,{name:e.setting.pageFullscreen?"suoxiao":"fangda"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(El=l.value.toolbarTips)==null?void 0:El.pageFullscreen])]);case"fullscreen":return d("div",{class:`${h}-toolbar-item`,title:(xl=l.value.toolbarTips)==null?void 0:xl.fullscreen,onClick:()=>{a()}},[d(O,{name:e.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Al=l.value.toolbarTips)==null?void 0:Al.fullscreen])]);case"preview":return d("div",{class:`${h}-toolbar-item`,title:(Il=l.value.toolbarTips)==null?void 0:Il.preview,onClick:()=>{e.updateSetting("preview")}},[d(O,{name:"preview"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Ll=l.value.toolbarTips)==null?void 0:Ll.preview])]);case"previewOnly":return d("div",{class:`${h}-toolbar-item`,title:(Fl=l.value.toolbarTips)==null?void 0:Fl.previewOnly,onClick:()=>{e.updateSetting("previewOnly")}},[d(O,{name:"preview-only"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Hl=l.value.toolbarTips)==null?void 0:Hl.previewOnly])]);case"htmlPreview":return d("div",{class:`${h}-toolbar-item`,title:(Ml=l.value.toolbarTips)==null?void 0:Ml.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[d(O,{name:"coding"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Ol=l.value.toolbarTips)==null?void 0:Ol.htmlPreview])]);case"catalog":return d("div",{class:`${h}-toolbar-item`,title:(Rl=l.value.toolbarTips)==null?void 0:Rl.catalog,onClick:()=>{$.emit(t,Qt)},key:"bar-catalog"},[d(O,{name:"catalog"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(Pl=l.value.toolbarTips)==null?void 0:Pl.catalog])]);case"github":return d("div",{class:`${h}-toolbar-item`,title:(Dl=l.value.toolbarTips)==null?void 0:Dl.github,onClick:()=>Jn("https://github.com/imzbf/md-editor-v3")},[d(O,{name:"github"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(jl=l.value.toolbarTips)==null?void 0:jl.github])]);case"mermaid":return d(Qe,{relative:`#${m}`,visible:c.mermaid,onChange:P=>{c.mermaid=P},overlay:d("ul",{class:`${h}-menu`,onClick:()=>{c.mermaid=!1}},[d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("flow")}},[(Nl=l.value.mermaid)==null?void 0:Nl.flow]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("sequence")}},[(Bl=l.value.mermaid)==null?void 0:Bl.sequence]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("gantt")}},[(zl=l.value.mermaid)==null?void 0:zl.gantt]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("class")}},[(Wl=l.value.mermaid)==null?void 0:Wl.class]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("state")}},[(Vl=l.value.mermaid)==null?void 0:Vl.state]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("pie")}},[(Ul=l.value.mermaid)==null?void 0:Ul.pie]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("relationship")}},[(Gl=l.value.mermaid)==null?void 0:Gl.relationship]),d("li",{class:`${h}-menu-item ${h}-menu-item-mermaid`,onClick:()=>{s("journey")}},[(ql=l.value.mermaid)==null?void 0:ql.journey])]),key:"bar-mermaid"},{default:()=>{var P,le;return[d("div",{class:`${h}-toolbar-item`,title:(P=l.value.toolbarTips)==null?void 0:P.mermaid},[d(O,{name:"mermaid"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(le=l.value.toolbarTips)==null?void 0:le.mermaid])])]}});case"katex":return d(Qe,{relative:`#${m}`,visible:c.katex,onChange:P=>{c.katex=P},overlay:d("ul",{class:`${h}-menu`,onClick:()=>{c.katex=!1}},[d("li",{class:`${h}-menu-item ${h}-menu-item-katex`,onClick:()=>{s("katexInline")}},[(Kl=l.value.katex)==null?void 0:Kl.inline]),d("li",{class:`${h}-menu-item ${h}-menu-item-katex`,onClick:()=>{s("katexBlock")}},[(Zl=l.value.katex)==null?void 0:Zl.block])]),key:"bar-katex"},{default:()=>{var P,le;return[d("div",{class:`${h}-toolbar-item`,title:(P=l.value.toolbarTips)==null?void 0:P.katex},[d(O,{name:"formula"},null),e.showToolbarName&&d("div",{class:`${h}-toolbar-item-name`},[(le=l.value.toolbarTips)==null?void 0:le.katex])])]}})}else if(e.defToolbars instanceof Array){const P=e.defToolbars[g];return P?Wt(P,{theme:n.value,previewTheme:o.value,language:i.value,insert(Mt){$.emit(t,N,"universal",{generate:Mt})}}):""}else if(e.defToolbars&&e.defToolbars.children instanceof Array){const P=e.defToolbars.children[g];return P?Wt(P,{theme:n.value,previewTheme:o.value,language:i.value,insert(Mt){$.emit(t,N,"universal",{generate:Mt})}}):""}else return""};return L(()=>e.toolbars,()=>{xe(()=>{u.value&&Xn(u.value)})},{immediate:!0}),()=>{const g=w.value[0].map(T=>C(T)),b=w.value[1].map(T=>C(T));return d(It,null,[e.toolbars.length>0&&d("div",{class:`${h}-toolbar-wrapper`,ref:u,id:m},[d("div",{class:[`${h}-toolbar`,e.showToolbarName&&`${h}-stn`]},[d("div",{class:`${h}-toolbar-left`,ref:y},[g]),d("div",{class:`${h}-toolbar-right`},[b])])]),d("input",{ref:p,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),d(Wi,{linkVisible:f.linkVisible,clipVisible:f.clipVisible,type:f.type,onCancel:()=>{f.linkVisible=!1,f.clipVisible=!1},onOk:T=>{T&&s(f.type,{desc:T.desc,url:T.url,transform:f.type==="image"}),f.linkVisible=!1,f.clipVisible=!1}},null)])}}}),Ui=`.${h}-preview > [data-line]`,Gi=(e,t)=>{const l=Yt(()=>{e.removeEventListener("scroll",n),e.addEventListener("scroll",n),t.removeEventListener("scroll",n),t.addEventListener("scroll",n)},50),n=o=>{const i=e.clientHeight,a=t.clientHeight,m=e.scrollHeight,u=t.scrollHeight,c=(m-i)/(u-a);o.target===e?(t.removeEventListener("scroll",n),t.scrollTo({top:e.scrollTop/c}),l()):(e.removeEventListener("scroll",n),e.scrollTo({top:t.scrollTop*c}),l())};return[()=>{l().finally(()=>{e.dispatchEvent(new Event("scroll"))})},()=>{e.removeEventListener("scroll",n),t.removeEventListener("scroll",n)}]},qi=(e,t,l)=>{const{view:n}=l,o=Yn(),i=C=>n.lineBlockAt(n.state.doc.line(C).from).top,a=C=>n.lineBlockAt(n.state.doc.line(C).from).height;let m=[],u=[],c=[];const s=()=>{m=[],u=[],c=[],u=u.concat(Array.from(t.querySelectorAll(Ui)));const C=u.map(_=>Number(_.dataset.line)+1);c=c.concat(C);const{lines:g}=n.state.doc;let b=1,T=C.shift()??g;for(let _=1;_<=g;_++)_===T&&(b=_,T=C.shift()||g+1),m.push({start:b,end:T-1})};let f=0,y=0;const w=()=>{var C,g;if(y!==0)return!1;f++;const{scrollDOM:b,contentHeight:T}=n;let _=+getComputedStyle(t).paddingTop.replace("px","");const S=n.lineBlockAtHeight(b.scrollTop),{number:H}=n.state.doc.lineAt(S.from),F=m[H-1];if(!F)return!1;let M=i(F.end)+a(F.end),D=0;const j=i(F.start),re=t.querySelector(`[data-line="${F.start-1}"]`)||((C=t.firstElementChild)==null?void 0:C.firstElementChild),ge=t.querySelector(`[data-line="${F.end}"]`)||((g=t.lastElementChild)==null?void 0:g.lastElementChild);let ce=0,Se=0;j===0?(D=b.scrollTop/M,re===ge?(_=0,M=T-b.offsetHeight,ce=ge.offsetTop+ge.offsetHeight-t.clientHeight):ce=ge.offsetTop):(D=(b.scrollTop-j)/(M-j),Se=re.offsetTop,ce=ge.offsetTop-Se),M>b.scrollHeight-b.clientHeight&&(D=(b.scrollTop-j)/(b.scrollHeight-b.clientHeight-j),Se=re.offsetTop,ce=t.scrollHeight-t.clientHeight-Se+10);const He=Se-_+ce*D;o(t,He,()=>{f--})},p=()=>{var C,g,b,T,_,S;if(f!==0)return;y++;const{scrollDOM:H}=n,F=t.scrollTop,M=t.scrollHeight;let D=(C=t.firstElementChild)==null?void 0:C.firstElementChild,j=(g=t.firstElementChild)==null?void 0:g.lastElementChild;if(c.length>0){let Oe=Math.ceil(Number(c[c.length-1])*(F/M)),ee=c.findLastIndex(te=>te<=Oe);ee=ee===-1?0:ee,Oe=c[ee];for(let te=ee;te>=0&&te<c.length;)if(u[te].offsetTop>F){if(te-1>=0){te--;continue}Oe=-1,ee=te;break}else{if(te+1<c.length&&u[te+1].offsetTop<F){te++;continue}Oe=c[te],ee=te;break}switch(Oe){case-1:{D=(b=t.firstElementChild)==null?void 0:b.firstElementChild,j=u[ee];break}case c.length-1:{D=u[ee],j=(T=t.firstElementChild)==null?void 0:T.lastElementChild;break}default:D=u[ee],j=u[ee+1===u.length?ee:ee+1]}}const re=D===((_=t.firstElementChild)==null?void 0:_.firstElementChild)?0:D.offsetTop;let ge=j.offsetTop,ce=0;const{start:Se,end:He}=m[Number(D.dataset.line||0)],Ze=i(Se);let Ae=i(He===n.state.doc.lines?He:He+1),Me=0;Ae>H.scrollHeight-H.clientHeight||j.scrollTop>t.scrollHeight-t.clientHeight?(ce=Math.max((F-re)/(t.scrollHeight-re-t.clientHeight),0),Ae=i(n.state.doc.lines)+a(n.state.doc.lines),Me=8+Ae-Ze-e.clientHeight):D===((S=t.firstElementChild)==null?void 0:S.firstElementChild)?(D===j&&(ge=j.offsetTop+j.offsetHeight+ +getComputedStyle(j).marginBottom.replace("px","")),Me=Ae,ce=Math.max(F/ge,0)):(ce=Math.max((F-re)/(ge-re),0),Me=Ae-Ze),o(e,Ze+Me*ce,()=>{y--})},v=Sn(C=>{var g;const{scrollDOM:b,contentHeight:T}=n,_=b.clientHeight;if(T<=_||t.firstElementChild.clientHeight<=t.clientHeight||n.state.doc.lines<((g=m[m.length-1])==null?void 0:g.end))return!1;C.target===e?w():p()},1);return[()=>{s(),e.addEventListener("scroll",v),t.addEventListener("scroll",v),e.dispatchEvent(new Event("scroll"))},()=>{e.removeEventListener("scroll",v),t.removeEventListener("scroll",v)}]},Ki=(e,t,l)=>{const n=R("editorId");let o=()=>{},i=()=>{};const a=()=>{o();const m=document.querySelector(`#${n} .cm-scroller`),u=document.querySelector(`[id="${n}-preview-wrapper"]`),c=document.querySelector(`[id="${n}-html-wrapper"]`);(u||c)&&([i,o]=(u?qi:Gi)(m,u||c,l.value),e.scrollAuto&&i())};L([t,ze(e.setting,"preview"),ze(e.setting,"htmlPreview"),ze(e.setting,"fullscreen"),ze(e.setting,"pageFullscreen")],()=>{xe(a)}),L(()=>e.scrollAuto,m=>{m?i():o()}),L(()=>e.setting.previewOnly,m=>{m?o():i()}),K(a)},Dt=(e,t,l)=>{var n;let o="",i=0,a=0,m=!0,u=!1;const c=t.getSelectedText(),s=J.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const f=e.replace(/^h(\d)/,(y,w)=>new Array(Number(w)).fill("#",0,w).join(""));o=`${f} ${c}`,i=f.length+1}else if(e==="prettier"){const f=window.prettier||J.editorExtensions.prettier.prettierInstance,y=[((n=window.prettierPlugins)==null?void 0:n.markdown)||J.editorExtensions.prettier.parserMarkdownInstance];!f||y[0]===void 0?($.emit(l.editorId,Ke,{name:"prettier",message:"prettier is undefined"}),o=t.getValue()):o=f.format(t.getValue(),{parser:"markdown",plugins:y}),m=!1,u=!0}else switch(e){case"bold":{o=`**${c}**`,i=2,a=-2;break}case"underline":{o=`<u>${c}</u>`,i=3,a=-4;break}case"italic":{o=`*${c}*`,i=1,a=-1;break}case"strikeThrough":{o=`~~${c}~~`,i=2,a=-2;break}case"sub":{o=`<sub>${c}</sub>`,i=5,a=-6;break}case"sup":{o=`<sup>${c}</sup>`,i=5,a=-6;break}case"codeRow":{o="`"+c+"`",i=1,a=-1;break}case"quote":{o=`> ${c}`,i=2;break}case"orderedList":{o=`1. ${c}`,i=3;break}case"unorderedList":{o=`- ${c}`,i=2;break}case"task":{o=`- [ ] ${c}`,i=6;break}case"code":{const f=l.text||c||"",y=l.mode||"language";o=`\`\`\`${y}
${f}
\`\`\`
`,i=3,a=3+y.length-o.length;break}case"table":{o="|";const{selectedShape:f={x:1,y:1}}=l,{x:y,y:w}=f;for(let p=0;p<=w;p++)o+=" col |";o+=`
|`;for(let p=0;p<=w;p++)o+=" - |";for(let p=0;p<=y;p++){o+=`
|`;for(let v=0;v<=w;v++)o+=" content |"}i=2,a=5-o.length;break}case"link":{const{desc:f,url:y}=l;o=`[${f}](${y})`,m=!1;break}case"image":{const{desc:f,url:y,urls:w}=l;w instanceof Array?o=w.reduce((p,v)=>{const{url:C="",alt:g="",title:b=""}=typeof v=="object"?v:{url:v};return p+`![${g}](${C}${b?" '"+b+"'":""})
`},""):o=`![${f}](${y})
`,m=!1;break}case"flow":{o=`\`\`\`mermaid
${(s==null?void 0:s.flow)||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,i=3,a=10-o.length;break}case"sequence":{o=`\`\`\`mermaid
${(s==null?void 0:s.sequence)||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,i=3,a=10-o.length;break}case"gantt":{o=`\`\`\`mermaid
${(s==null?void 0:s.gantt)||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,i=3,a=10-o.length;break}case"class":{o=`\`\`\`mermaid
${(s==null?void 0:s.class)||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,i=3,a=10-o.length;break}case"state":{o=`\`\`\`mermaid
${(s==null?void 0:s.state)||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,i=3,a=10-o.length;break}case"pie":{o=`\`\`\`mermaid
${(s==null?void 0:s.pie)||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,i=3,a=10-o.length;break}case"relationship":{o=`\`\`\`mermaid
${(s==null?void 0:s.relationship)||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,i=3,a=10-o.length;break}case"journey":{o=`\`\`\`mermaid
${(s==null?void 0:s.journey)||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,i=3,a=10-o.length;break}case"katexInline":{o="$$",i=1,a=-1;break}case"katexBlock":{o=`$$

$$
`,i=3,a=-4;break}case"universal":{const{generate:f}=l,y=f(c);o=y.targetValue,m=y.select??!0,i=y.deviationStart||0,a=y.deviationEnd||0}}return{text:o,options:{select:m,deviationStart:i,deviationEnd:a,replaceAll:u}}},Zi="#e5c07b",un="var(--md-color)",Xi="#56b6c2",Ji="#ffffff",st="var(--md-color)",dn="#e5c07b",Yi="#e5c07b",Qi="var(--md-color)",hn="#d19a66",ea="#c678dd",ta="#21252b",la="#2c313a",mn="var(--md-bk-color)",jt="var(--md-bk-color)",na="#ceedfa33",fn="#528bff",oa=Ne.theme({"&":{color:st,backgroundColor:mn},".cm-content":{caretColor:fn},".cm-cursor, .cm-dropCursor":{borderLeftColor:fn},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:na},".cm-panels":{backgroundColor:ta,color:st},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:mn,color:st,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:la},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:jt},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:jt,borderBottomColor:jt},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:st}}},{dark:!0}),ia=_n.define([{tag:k.keyword,color:ea},{tag:[k.name,k.deleted,k.character,k.propertyName,k.macroName],color:un},{tag:[k.function(k.variableName),k.labelName],color:Yi},{tag:[k.color,k.constant(k.name),k.standard(k.name)],color:hn},{tag:[k.definition(k.name),k.separator],color:st},{tag:[k.typeName,k.className,k.number,k.changed,k.annotation,k.modifier,k.self,k.namespace],color:Zi},{tag:[k.operator,k.operatorKeyword,k.url,k.escape,k.regexp,k.link,k.special(k.string)],color:Xi},{tag:[k.meta,k.comment],color:dn},{tag:k.strong,fontWeight:"bold"},{tag:k.emphasis,fontStyle:"italic"},{tag:k.strikethrough,textDecoration:"line-through"},{tag:k.link,color:dn,textDecoration:"underline"},{tag:k.heading,fontWeight:"bold",color:un},{tag:[k.atom,k.bool,k.special(k.variableName)],color:hn},{tag:[k.processingInstruction,k.string,k.inserted],color:Qi},{tag:k.invalid,color:Ji}]),gn=[oa,En(ia)],aa="#e5c07b",vn="#3f4a54",sa="#56b6c2",ra="#fff",rt="#3f4a54",pn="#2d8cf0",ca="#2d8cf0",ua="#3f4a54",bn="#d19a66",da="#c678dd",ha="#f6f6f6",ma="#ceedfa33",yn="var(--md-bk-color)",Nt="var(--md-bk-color)",fa="#bad5fa",wn="#3f4a54",ga=Ne.theme({"&":{color:rt,backgroundColor:yn},".cm-content":{caretColor:wn},".cm-cursor, .cm-dropCursor":{borderLeftColor:wn},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:fa},".cm-panels":{backgroundColor:ha,color:rt},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:yn,color:rt,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:ma},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:Nt},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Nt,borderBottomColor:Nt},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:rt}}}),va=_n.define([{tag:k.keyword,color:da},{tag:[k.name,k.deleted,k.character,k.propertyName,k.macroName],color:vn},{tag:[k.function(k.variableName),k.labelName],color:ca},{tag:[k.color,k.constant(k.name),k.standard(k.name)],color:bn},{tag:[k.definition(k.name),k.separator],color:rt},{tag:[k.typeName,k.className,k.number,k.changed,k.annotation,k.modifier,k.self,k.namespace],color:aa},{tag:[k.operator,k.operatorKeyword,k.url,k.escape,k.regexp,k.link,k.special(k.string)],color:sa},{tag:[k.meta,k.comment],color:pn},{tag:k.strong,fontWeight:"bold"},{tag:k.emphasis,fontStyle:"italic"},{tag:k.strikethrough,textDecoration:"line-through"},{tag:k.link,color:pn,textDecoration:"underline"},{tag:k.heading,fontWeight:"bold",color:vn},{tag:[k.atom,k.bool,k.special(k.variableName)],color:bn},{tag:[k.processingInstruction,k.string,k.inserted],color:ua},{tag:k.invalid,color:ra}]),kn=[ga,En(va)],bt=(e,t,l,n,o)=>(i,a,m,u)=>{const c=`${e}${t}`.slice(u-m);i.dispatch(i.state.replaceSelection(`${c}${l}${n}`));const s=m+a.label.length+(o==="title"?l.length:0);i.dispatch({selection:Le.create([Le.range(m+a.label.length+(o==="title"?1:-t.length),s),Le.cursor(s)],1)}),i.focus()},Cn=e=>(t,l,n,o)=>{const i=e.slice(o-n);t.dispatch(t.state.replaceSelection(`${i} `))},$n=e=>{const t=l=>{const n=l.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return n===null||n.from==n.to&&l.explicit?null:{from:n.from,options:[...["h1","h2","h3","h4","h5","h6"].map((o,i)=>{const a=new Array(i+1).fill("#").join("");return{label:a,type:"text",apply:Cn(a)}}),...["unchecked","checked"].map(o=>{const i=o==="checked"?"- [x]":"- [ ]";return{label:i,type:"text",apply:Cn(i)}}),...[["`",""],["```","language"],["```mermaid\n",""]].map(o=>({label:`${o[0]}${o[1]}`,type:"text",apply:bt(o[0],o[1],"",o[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:bt("$","","","$","type")},{label:"$$",type:"text",apply:bt("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(o=>({label:`!!! ${o}`,type:"text",apply:bt("!!!",` ${o}`," Title",`

!!!`,"title")}))]}};return co({override:e?[t,...e]:[t]})},Je=e=>{const t=new Ye;return n=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(n)}):e.dispatch({effects:go.appendConfig.of(t.of(n))}),!0)};class pa{constructor(t){Re(this,"view"),Re(this,"maxLength",Number.MAX_SAFE_INTEGER),Re(this,"toggleTabSize"),Re(this,"togglePlaceholder"),Re(this,"setExtensions"),Re(this,"toggleDisabled"),Re(this,"toggleReadOnly"),Re(this,"toggleMaxlength"),this.view=t,this.toggleTabSize=Je(this.view),this.togglePlaceholder=Je(this.view),this.setExtensions=Je(this.view),this.toggleDisabled=Je(this.view),this.toggleReadOnly=Je(this.view),this.toggleMaxlength=Je(this.view)}getValue(){return this.view.state.doc.toString()}setValue(t,l=0,n=this.view.state.doc.length){this.view.dispatch({changes:{from:l,to:n,insert:t}})}getSelectedText(){const{from:t,to:l}=this.view.state.selection.main;return this.view.state.sliceDoc(t,l)}replaceSelectedText(t,l={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},n){try{if(l.replaceAll){if(this.setValue(t),t.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+t.length>this.maxLength)throw new Error("The input text is too long");const{from:o}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(t)),l.select){const i=o+t.length+l.deviationEnd;this.view.dispatch({selection:Le.create([Le.range(o+l.deviationStart,i),Le.cursor(i)],1)})}this.view.focus()}catch(o){if(o.message==="The input text is too long")$.emit(n,Ke,{name:"overlength",message:o.message,data:t});else throw o}}setTabSize(t){this.toggleTabSize([Rt.tabSize.of(t),uo.of(" ".repeat(t))])}setPlaceholder(t){this.togglePlaceholder(ho(t))}focus(t){if(this.view.focus(),!t)return;let l=0,n=0,o=0;switch(t){case"start":break;case"end":{l=n=o=this.getValue().length;break}default:l=t.rangeAnchor||t.cursorPos,n=t.rangeHead||t.cursorPos,o=t.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:Le.create([Le.range(l,n),Le.cursor(o)],1)})}setDisabled(t){this.toggleDisabled([Ne.editable.of(!t)])}setReadOnly(t){this.toggleReadOnly([Rt.readOnly.of(t)])}setMaxLength(t){this.maxLength=t,this.toggleMaxlength([Rt.changeFilter.of(l=>l.newDoc.length<=t)])}}const ba=(e,t)=>{const l=R("editorId"),n=i=>{i instanceof Promise?i.then(a=>{$.emit(l,N,"universal",{generate(){return{targetValue:a}}})}).catch(a=>{console.error(a)}):$.emit(l,N,"universal",{generate(){return{targetValue:i}}})};return i=>{var a,m,u;if(!i.clipboardData)return;if(i.clipboardData.files.length>0){const{files:v}=i.clipboardData;$.emit(l,Ft,Array.from(v).filter(C=>/image\/.*/.test(C.type))),i.preventDefault();return}const c=i.clipboardData.getData("text/plain"),s=((a=t.value)==null?void 0:a.view.state.selection.main.to)||0,f=((m=t.value)==null?void 0:m.view.state.doc.lineAt(s).from)||0,y=((u=t.value)==null?void 0:u.view.state.doc.sliceString(f,s))||"",w=/!\[.*\]\(\s*$/.test(y),p=/!\[.*\]\((.*)\s?.*\)/.test(c);if(w){const v=e.transformImgUrl(c);n(v),i.preventDefault();return}else if(p){const v=c.match(new RegExp(`(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?["']?.*["']?\\))`,"g"));v?Promise.all(v.map(C=>e.transformImgUrl(C))).then(C=>{n(C.reduce((g,b,T)=>g.replace(v[T],b),c))}):n(c),i.preventDefault();return}if(e.autoDetectCode&&i.clipboardData.types.includes("vscode-editor-data")){const v=JSON.parse(i.clipboardData.getData("vscode-editor-data"));$.emit(l,N,"code",{mode:v.mode,text:i.clipboardData.getData("text/plain")}),i.preventDefault();return}e.maxlength&&c.length+e.modelValue.length>e.maxlength&&$.emit(l,Ke,{name:"overlength",message:"The input text is too long",data:c})}},ya=(e,t)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>($.emit(e,N,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:vo,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:_=>($.emit(e,Lt,_.state.doc.toString()),!0),shift:()=>($.emit(e,N,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>($.emit(e,N,"underline"),!0),shift:()=>($.emit(e,N,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>($.emit(e,N,"italic"),!0),shift:()=>($.emit(e,Ut,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>($.emit(e,N,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>($.emit(e,N,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>($.emit(e,N,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>($.emit(e,N,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>($.emit(e,N,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>($.emit(e,N,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>($.emit(e,N,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>($.emit(e,N,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>($.emit(e,N,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>($.emit(e,N,"code"),!0),any(_,S){return(S.ctrlKey||S.metaKey)&&S.altKey&&S.code==="KeyC"?($.emit(e,N,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>($.emit(e,Ut,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>t.noPrettier?!1:($.emit(e,N,"prettier"),!0)},{any:(_,S)=>(S.ctrlKey||S.metaKey)&&S.altKey&&S.shiftKey&&S.code==="KeyT"?($.emit(e,N,"table"),!0):!1},...fo],wa=e=>{const t=R("tabWidth"),l=R("editorId"),n=R("theme"),o=U(),i=qe(),a=new Ye,m=new Ye,u=new Ye,c=new Ye,s=new Ye,f=ya(l,e),y=U(!1),p={paste:ba(e,i),blur:e.onBlur,focus:e.onFocus,drop:e.onDrop,compositionstart:()=>{y.value=!0},compositionend:(g,b)=>{y.value=!1,e.updateModelValue(b.state.doc.toString())},input:g=>{e.onInput&&e.onInput(g);const{data:b}=g;e.maxlength&&e.modelValue.length+b.length>e.maxlength&&$.emit(l,Ke,{name:"overlength",message:"The input text is too long",data:b})}},v=[lo.of([...no,...oo,...f,io]),c.of(Xl()),a.of(ao({codeLanguages:mo})),Ne.lineWrapping,Ne.updateListener.of(g=>{g.docChanged&&(e.onChange(g.state.doc.toString()),y.value||e.updateModelValue(g.state.doc.toString()))}),s.of(Ne.domEventHandlers(p))],C=()=>{const g=[...v,m.of(n.value==="light"?kn:gn),u.of($n(e.completions))];return J.codeMirrorExtensions(n.value,g,[...f])};return K(()=>{const g=new Ne({doc:e.modelValue,parent:o.value,extensions:[C()]}),b=new pa(g);i.value=b,setTimeout(()=>{b.setTabSize(t),b.setDisabled(e.disabled),b.setReadOnly(e.readonly),e.placeholder&&b.setPlaceholder(e.placeholder),typeof e.maxlength=="number"&&b.setMaxLength(e.maxlength),e.autofocus&&g.focus()},0),$.on(l,{name:Ln,callback(){so(g)}}),$.on(l,{name:Fn,callback(){ro(g)}}),$.on(l,{name:N,callback(T,_={}){var S,H;if(T==="image"&&_.transform){const F=e.transformImgUrl(_.url);if(F instanceof Promise)F.then(M=>{var D;const{text:j,options:re}=Dt(T,i.value,{..._,url:M});(D=i.value)==null||D.replaceSelectedText(j,re,l)}).catch(M=>{console.error(M)});else{const{text:M,options:D}=Dt(T,i.value,{..._,url:F});(S=i.value)==null||S.replaceSelectedText(M,D,l)}}else{const{text:F,options:M}=Dt(T,i.value,_);(H=i.value)==null||H.replaceSelectedText(F,M,l)}}}),$.on(l,{name:Mn,callback:Sn(T=>{var _;const S={...p},H=Object.keys(p);for(const F in T){const M=F;H.includes(M)?S[M]=(D,j)=>{T[M](D,j),D.defaultPrevented||p[M](D,j)}:S[M]=T[M]}(_=i.value)==null||_.view.dispatch({effects:s.reconfigure(Ne.domEventHandlers(S))})})})}),L(n,()=>{var g;(g=i.value)==null||g.view.dispatch({effects:m.reconfigure(n.value==="light"?kn:gn)})},{deep:!0}),L(()=>e.completions,()=>{var g;(g=i.value)==null||g.view.dispatch({effects:u.reconfigure($n(e.completions))})},{deep:!0}),L(()=>e.modelValue,()=>{var g,b;((g=i.value)==null?void 0:g.getValue())!==e.modelValue&&((b=i.value)==null||b.setValue(e.modelValue))}),L(()=>e.placeholder,()=>{var g;(g=i.value)==null||g.setPlaceholder(e.placeholder)}),L(()=>e.disabled,()=>{var g;(g=i.value)==null||g.setDisabled(e.disabled)}),L(()=>e.readonly,()=>{var g;(g=i.value)==null||g.setDisabled(e.readonly)}),L(()=>e.maxlength,()=>{var g;e.maxlength&&((g=i.value)==null||g.setMaxLength(e.maxlength))}),{inputWrapperRef:o,codeMirrorUt:i,resetHistory(){var g,b;(g=i.value)==null||g.view.dispatch({effects:c.reconfigure([])}),(b=i.value)==null||b.view.dispatch({effects:c.reconfigure(Xl())})}}},ka=(e,t,l)=>{const n=se({resizedWidth:e.inputBoxWitdh}),o=se({width:e.inputBoxWitdh}),i=se({left:e.inputBoxWitdh,display:"initial"}),a=c=>{var s,f,y;const w=((s=t.value)==null?void 0:s.offsetWidth)||0,p=((f=t.value)==null?void 0:f.getBoundingClientRect().x)||0;let v=c.x-p;v<pt?v=pt:v>w-pt&&(v=w-pt);const C=`${v}px`;o.width=C,i.left=C,n.resizedWidth=C,(y=e.onInputBoxWitdhChange)==null||y.call(e,C)},m=()=>{document.addEventListener("mousemove",a)},u=()=>{document.removeEventListener("mousemove",a)};return L([l],()=>{var c,s;(c=l.value)==null||c.addEventListener("mousedown",m),(s=l.value)==null||s.addEventListener("mouseup",u)},{immediate:!0}),gt(()=>{var c,s;(c=l.value)==null||c.removeEventListener("mousedown",m),(s=l.value)==null||s.removeEventListener("mouseup",u)}),L(()=>e.inputBoxWitdh,c=>{c&&(o.width=c,i.left=c)}),L([ze(e.setting,"htmlPreview"),ze(e.setting,"preview")],()=>{!e.setting.htmlPreview&&!e.setting.preview?(o.width="100%",i.display="none"):(o.width=n.resizedWidth,i.display="initial")},{immediate:!0}),L(()=>e.setting.previewOnly,c=>{c?(o.width="0%",i.display="none"):(o.width=n.resizedWidth,i.display="initial")}),{inputWrapperStyle:o,resizeOperateStyle:i}},Ca=q({name:"MDEditorContent",props:hi,setup(e,t){const l=R("editorId"),n=U(""),o=U(),i=U(),{inputWrapperRef:a,codeMirrorUt:m,resetHistory:u}=wa(e),{inputWrapperStyle:c,resizeOperateStyle:s}=ka(e,o,i);return Ki(e,n,m),t.expose({getSelectedText(){var f;return(f=m.value)==null?void 0:f.getSelectedText()},focus(f){var y;(y=m.value)==null||y.focus(f)},resetHistory:u}),()=>d("div",{class:`${h}-content${e.setting.htmlPreview||e.setting.preview?" has-preview":""}`,ref:o},[d("div",{class:`${h}-input-wrapper`,style:c,ref:a},null),(e.setting.htmlPreview||e.setting.preview)&&d("div",{class:`${h}-resize-operate`,style:s,ref:i},null),d(Nn,{modelValue:e.modelValue,setting:e.setting,onHtmlChanged:f=>{n.value=f,e.onHtmlChanged(f)},onGetCatalog:e.onGetCatalog,mdHeadingId:e.mdHeadingId,noMermaid:e.noMermaid,sanitize:e.sanitize,noKatex:e.noKatex,formatCopiedText:e.formatCopiedText,noHighlight:e.noHighlight,noImgZoomIn:e.noImgZoomIn,sanitizeMermaid:e.sanitizeMermaid},null),e.catalogVisible&&d(ct,{theme:e.theme,class:`${h}-catalog-editor`,editorId:l,mdHeadingId:e.mdHeadingId,key:"internal-catalog"},null)])}}),$a=q({props:{modelValue:{type:String,default:""}},setup(e){const t=R("usedLanguageText");return()=>{var l,n;return d("div",{class:`${h}-footer-item`},[d("label",{class:`${h}-footer-label`},[`${(l=t.value.footer)==null?void 0:l.markdownTotal}:`]),d("span",null,[((n=e.modelValue)==null?void 0:n.length)||0])])}}}),Ta={checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},Sa=q({props:Ta,setup(e){return()=>d("div",{class:[`${h}-checkbox`,e.checked&&`${h}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}}),_a={scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},Ea=q({props:_a,setup(e){const t=R("usedLanguageText");return()=>{var l;return d("div",{class:`${h}-footer-item`},[d("label",{class:`${h}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[(l=t.value.footer)==null?void 0:l.scrollAuto]),d(Sa,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),xa={modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},Aa=q({name:"MDEditorFooter",props:xa,setup(e){const t=fe(()=>{const n=e.footers.indexOf("="),o=n===-1?e.footers:e.footers.slice(0,n),i=n===-1?[]:e.footers.slice(n,Number.MAX_SAFE_INTEGER);return[o,i]}),l=n=>{if(An.includes(n))switch(n){case"markdownTotal":return d($a,{modelValue:e.modelValue},null);case"scrollSwitch":return d(Ea,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}else return e.defFooters instanceof Array?e.defFooters[n]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[n]||""};return()=>{const n=t.value[0].map(i=>l(i)),o=t.value[1].map(i=>l(i));return d("div",{class:`${h}-footer`},[d("div",{class:`${h}-footer-left`},[n]),d("div",{class:`${h}-footer-right`},[o])])}}}),Bt=q({name:"MdEditorV3",props:ki,emits:Ci,setup(e,t){const{editorId:l,noKatex:n,noMermaid:o,noPrettier:i,noUploadImg:a,noHighlight:m}=e,u=se({scrollAuto:e.scrollAuto}),c=U();mi(e,t),fi(e),gi(e),vi(e,t);const[s,f]=pi(e,t),y=bi(e);return gt(()=>{$.clear(l)}),yi(e,t,y,s,f,c),()=>{const w=ve({props:e,ctx:t},"defToolbars"),p=ve({props:e,ctx:t},"defFooters");return d("div",{id:l,class:[h,e.class,e.theme==="dark"&&`${h}-dark`,s.fullscreen||s.pageFullscreen?`${h}-fullscreen`:""],style:e.style},[e.toolbars.length>0&&d(Vi,{noPrettier:i,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:s,updateSetting:f,tableShape:e.tableShape,defToolbars:w,noUploadImg:a,showToolbarName:e.showToolbarName},null),d(Ca,{ref:c,modelValue:e.modelValue,setting:s,mdHeadingId:e.mdHeadingId,noMermaid:o,noPrettier:i,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:n,scrollAuto:u.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,noHighlight:m,updateModelValue:v=>{t.emit("update:modelValue",v)},onChange:v=>{e.onChange&&e.onChange(v),t.emit("onChange",v)},onHtmlChanged:v=>{e.onHtmlChanged&&e.onHtmlChanged(v),t.emit("onHtmlChanged",v)},onGetCatalog:v=>{e.onGetCatalog&&e.onGetCatalog(v),t.emit("onGetCatalog",v)},onBlur:v=>{e.onBlur&&e.onBlur(v),t.emit("onBlur",v)},onFocus:v=>{e.onFocus&&e.onFocus(v),t.emit("onFocus",v)},onInput:v=>{e.onInput&&e.onInput(v),t.emit("onInput",v)},completions:e.completions,catalogVisible:y.value,theme:e.theme,noImgZoomIn:e.noImgZoomIn,onDrop:v=>{e.onDrop&&e.onDrop(v),t.emit("onDrop",v)},inputBoxWitdh:e.inputBoxWitdh,onInputBoxWitdhChange:v=>{e.onInputBoxWitdhChange&&e.onInputBoxWitdhChange(v),t.emit("onInputBoxWitdhChange",v)},sanitizeMermaid:e.sanitizeMermaid,transformImgUrl:e.transformImgUrl},null),e.footers.length>0&&d(Aa,{modelValue:e.modelValue,footers:e.footers,defFooters:p,scrollAuto:u.scrollAuto,onScrollAutoChange:v=>u.scrollAuto=v},null)])}}});Bt.install=e=>(e.component(Bt.name,Bt),e.use(_t).use(yt).use(Et).use(ct).use(St),e);export{Bt as E,St as M};
